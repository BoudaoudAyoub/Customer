2024-05-17 22:42:39.228 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-17 22:42:42.515 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-17 22:42:42.524 +01:00 [DBG] Hosting starting
2024-05-17 22:42:43.255 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-17 22:42:43.675 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-17 22:42:43.676 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-17 22:42:43.676 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-17 22:42:43.676 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-17 22:42:43.677 +01:00 [INF] Hosting environment: Development
2024-05-17 22:42:43.678 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-17 22:42:43.678 +01:00 [DBG] Hosting started
2024-05-17 22:42:44.014 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-17 22:42:44.402 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-17 22:42:44.403 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:42:44.587 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-17 22:42:44.591 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-17 22:42:44.644 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-17 22:42:44.646 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-17 22:42:44.663 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-17 22:42:44.664 +01:00 [DBG] Connection ID "18158513720643289089" disconnecting.
2024-05-17 22:42:44.674 +01:00 [DBG] Connection ID "18302628904424177665" disconnecting.
2024-05-17 22:42:44.674 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-17 22:42:44.674 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 671.8738ms
2024-05-17 22:42:44.682 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.0888ms
2024-05-17 22:42:44.863 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 189.3338ms
2024-05-17 22:42:44.864 +01:00 [DBG] Connection ID "18158513720643289091" disconnecting.
2024-05-17 22:42:44.986 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-17 22:42:44.987 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:42:45.207 +01:00 [DBG] Connection ID "18158513720643289093" disconnecting.
2024-05-17 22:42:45.207 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 220.848ms
2024-05-17 22:43:13.645 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/8237FF37-B2F3-4F5C-4109-08DC759ACFAA - null null
2024-05-17 22:43:13.648 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:43:13.652 +01:00 [DBG] DELETE requests are not supported
2024-05-17 22:43:13.702 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/8237FF37-B2F3-4F5C-4109-08DC759ACFAA'
2024-05-17 22:43:13.707 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/8237FF37-B2F3-4F5C-4109-08DC759ACFAA'
2024-05-17 22:43:13.708 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:43:13.712 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 22:43:13.714 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:43:13.818 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 22:43:13.823 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 22:43:13.824 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 22:43:13.824 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 22:43:13.825 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 22:43:13.825 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 22:43:13.831 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:43:14.615 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-17 22:43:14.693 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:43:14.707 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 22:43:14.712 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 22:43:14.714 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:43:14.715 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:43:14.715 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 22:43:14.718 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 22:43:14.720 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:43:14.721 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:43:14.721 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:43:14.721 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:43:14.722 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:43:14.722 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:43:14.727 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 22:43:14.730 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["8237ff37-b2f3-4f5c-4109-08dc759acfaa"])
2024-05-17 22:43:14.809 +01:00 [INF] ----- Handling command Boolean ({"Id":"8237ff37-b2f3-4f5c-4109-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:43:14.846 +01:00 [INF] -----Validating command Boolean :
2024-05-17 22:43:16.280 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 22:43:16.280 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 22:43:16.584 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 22:43:16.622 +01:00 [DBG] Creating DbConnection.
2024-05-17 22:43:16.712 +01:00 [DBG] Created DbConnection. (88ms).
2024-05-17 22:43:16.718 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:43:18.070 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:43:18.075 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 22:43:18.096 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 22:43:18.101 +01:00 [INF] ----- Begin transaction "69cd24e3-766e-4692-b080-fe54ec9db5cd" for DeleteCustomerCommand ({"Id":"8237ff37-b2f3-4f5c-4109-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:43:18.108 +01:00 [INF] ----Request to get customer with unique identifier: "8237ff37-b2f3-4f5c-4109-08dc759acfaa"
2024-05-17 22:43:18.424 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-17 22:43:18.590 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-17 22:43:18.591 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-17 22:43:19.024 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-17 22:43:19.100 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:43:19.113 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-05-17 22:43:19.130 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2024-05-17 22:43:19.146 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:43:19.280 +01:00 [INF] Executed DbCommand (135ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:43:19.422 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:19.519 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:19.523 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:19.585 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:19.586 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:19.633 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:43:19.643 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 292ms reading results.
2024-05-17 22:43:19.680 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:19.748 +01:00 [DBG] A cascade state change of an entity of type 'Adress' to '"Deleted"' occurred due to deletion of its parent entity of type 'Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:19.748 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:19.762 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 22:43:19.764 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:19.765 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 22:43:19.768 +01:00 [DBG] A cascade state change of an entity of type 'AudityInfo' to '"Deleted"' occurred due to deletion of its parent entity of type 'Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:19.769 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:19.769 +01:00 [INF] ----Deleted customer: "8237ff37-b2f3-4f5c-4109-08dc759acfaa", customer 6 permanently
2024-05-17 22:43:28.021 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 22:43:28.024 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 22:43:28.030 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 22:43:28.108 +01:00 [DBG] Creating transaction savepoint.
2024-05-17 22:43:28.121 +01:00 [DBG] Created transaction savepoint.
2024-05-17 22:43:28.124 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:43:28.124 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:43:28.124 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:43:28.124 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [customerContext].[Customers]
OUTPUT 1
WHERE [ID] = @p0;
2024-05-17 22:43:28.137 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [customerContext].[Customers]
OUTPUT 1
WHERE [ID] = @p0;
2024-05-17 22:43:28.141 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:43:28.141 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 3ms reading results.
2024-05-17 22:43:28.148 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:28.149 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:28.149 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:43:28.150 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-17 22:43:28.150 +01:00 [INF] ----- Commit transaction "69cd24e3-766e-4692-b080-fe54ec9db5cd" for DeleteCustomerCommand
2024-05-17 22:43:28.151 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 22:43:28.151 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 22:43:28.152 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 22:43:28.152 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-17 22:43:28.153 +01:00 [DBG] Committing transaction.
2024-05-17 22:43:28.157 +01:00 [DBG] Committed transaction.
2024-05-17 22:43:28.160 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:43:28.166 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (5ms).
2024-05-17 22:43:28.167 +01:00 [DBG] Disposing transaction.
2024-05-17 22:43:28.169 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-17 22:43:28.171 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13439.3808ms.
2024-05-17 22:43:28.172 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:43:31.639 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-17 22:44:08.384 +01:00 [VRB] Request ended from Customers with status 400 and message Unknown status code
2024-05-17 22:44:08.385 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:44:08.386 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:44:08.386 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:44:08.387 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:44:08.387 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:44:08.389 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:44:08.390 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:44:08.391 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:44:08.396 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 22:44:08.398 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-17 22:44:08.398 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 22:44:08.398 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 22:44:08.400 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 22:44:08.401 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-17 22:44:08.439 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:44:08.445 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:44:08.445 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:44:08.449 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 54621.6174ms
2024-05-17 22:44:08.452 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:44:08.455 +01:00 [ERR] Connection ID "18086456118015426561", Request ID "80000002-0003-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.Object]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-17 22:44:08.673 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 22:44:08.680 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:44:08.681 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-17 22:44:08.682 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/8237FF37-B2F3-4F5C-4109-08DC759ACFAA - 500 null null 55036.9673ms
2024-05-17 22:44:35.564 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-17 22:44:37.264 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-17 22:44:37.269 +01:00 [DBG] Hosting starting
2024-05-17 22:44:37.562 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-17 22:44:37.731 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-17 22:44:37.731 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-17 22:44:37.731 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-17 22:44:37.731 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-17 22:44:37.738 +01:00 [INF] Hosting environment: Development
2024-05-17 22:44:37.738 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-17 22:44:37.739 +01:00 [DBG] Hosting started
2024-05-17 22:44:37.820 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-17 22:44:38.031 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-17 22:44:38.031 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:44:38.112 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-17 22:44:38.114 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-17 22:44:38.160 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-17 22:44:38.161 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-17 22:44:38.168 +01:00 [DBG] Connection ID "18374686507052040193" disconnecting.
2024-05-17 22:44:38.174 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 356.8235ms
2024-05-17 22:44:38.242 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-17 22:44:38.873 +01:00 [DBG] Connection ID "18374686498462105603" disconnecting.
2024-05-17 22:44:38.875 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-17 22:44:38.875 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.0337ms
2024-05-17 22:44:38.923 +01:00 [DBG] Connection ID "18374686498462105605" disconnecting.
2024-05-17 22:44:38.924 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.0833ms
2024-05-17 22:44:39.065 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-17 22:44:39.066 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:44:39.167 +01:00 [DBG] Connection ID "18374686498462105607" disconnecting.
2024-05-17 22:44:39.167 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.6263ms
2024-05-17 22:46:42.550 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/8237FF37-B2F3-4F5C-4109-08DC759ACFAA - null null
2024-05-17 22:46:42.551 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:46:42.553 +01:00 [DBG] DELETE requests are not supported
2024-05-17 22:46:42.577 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/8237FF37-B2F3-4F5C-4109-08DC759ACFAA'
2024-05-17 22:46:42.579 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/8237FF37-B2F3-4F5C-4109-08DC759ACFAA'
2024-05-17 22:46:42.581 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:46:42.584 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 22:46:42.585 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:46:42.626 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 22:46:42.628 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 22:46:42.629 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 22:46:42.629 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 22:46:42.629 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 22:46:42.629 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 22:46:42.634 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:46:43.673 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-17 22:46:43.691 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:46:43.700 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 22:46:43.702 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 22:46:43.703 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:46:43.703 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:46:43.703 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 22:46:43.704 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 22:46:43.705 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:46:43.705 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:46:43.706 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:46:43.706 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:46:43.706 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:46:43.706 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:46:43.708 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 22:46:43.709 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["8237ff37-b2f3-4f5c-4109-08dc759acfaa"])
2024-05-17 22:46:43.734 +01:00 [INF] ----- Handling command Boolean ({"Id":"8237ff37-b2f3-4f5c-4109-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:46:43.761 +01:00 [INF] -----Validating command Boolean :
2024-05-17 22:46:44.790 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 22:46:44.790 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 22:46:44.968 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 22:46:44.991 +01:00 [DBG] Creating DbConnection.
2024-05-17 22:46:45.044 +01:00 [DBG] Created DbConnection. (52ms).
2024-05-17 22:46:45.048 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:46:45.535 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:46:45.539 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 22:46:45.559 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 22:46:45.569 +01:00 [INF] ----- Begin transaction "e3c2c60b-c1a3-4aaa-a2ca-5192bb7cb5d8" for DeleteCustomerCommand ({"Id":"8237ff37-b2f3-4f5c-4109-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:46:45.587 +01:00 [INF] ----Request to get customer with unique identifier: "8237ff37-b2f3-4f5c-4109-08dc759acfaa"
2024-05-17 22:46:45.772 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-17 22:46:45.938 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-17 22:46:45.939 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-17 22:46:46.151 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-17 22:46:46.184 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:46:46.190 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-05-17 22:46:46.196 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-05-17 22:46:46.205 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:46:46.287 +01:00 [INF] Executed DbCommand (83ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:46:46.314 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:46:46.319 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 5ms reading results.
2024-05-17 22:46:46.321 +01:00 [ERR] ----Coudn't find the customer with unique identifier: "8237ff37-b2f3-4f5c-4109-08dc759acfaa"
2024-05-17 22:46:46.394 +01:00 [DBG] Disposing transaction.
2024-05-17 22:46:46.397 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:46:46.403 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (6ms).
2024-05-17 22:46:46.474 +01:00 [ERR] ERROR Handling transaction for DeleteCustomerCommand ({"Id":"8237ff37-b2f3-4f5c-4109-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
CustomerMan.Domain.DomainExceptions.CustomerManDomainException: Customer doesn't exists
   at CustomerMan.API.Application.Commands.CustomerCommands.DeleteCustomerCommandHandler.Handle(DeleteCustomerCommand request, CancellationToken cancellationToken) in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Commands\CustomerCommands\DeleteCustomerCommandHandler.cs:line 31
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.<>c__DisplayClass3_0.<<Handle>b__0>d.MoveNext() in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Behaviors\TransactionBehavior.cs:line 31
--- End of stack trace from previous location ---
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.<>c__DisplayClass3_0.<<Handle>b__0>d.MoveNext() in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Behaviors\TransactionBehavior.cs:line 35
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Behaviors\TransactionBehavior.cs:line 25
2024-05-17 22:46:46.726 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:46:49.818 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-17 22:46:51.000 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:46:51.003 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:46:51.003 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:46:51.004 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:46:51.004 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:46:51.007 +01:00 [VRB] Exception Filter: Before executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-17 22:46:57.041 +01:00 [ERR] @exceptionRoot
2024-05-17 22:46:57.041 +01:00 [VRB] Exception Filter: After executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-17 22:46:57.042 +01:00 [DBG] Request was short circuited at exception filter 'CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter'.
2024-05-17 22:46:57.043 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:46:57.043 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:46:57.044 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:46:57.048 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 22:46:57.052 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-17 22:46:57.052 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 22:46:57.053 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 22:46:57.054 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 22:46:57.054 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[SharedKernel.Exceptions.ExceptionRoot, SharedKernel, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-17 22:46:57.074 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:46:57.074 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:46:57.074 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:46:57.079 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 14445.7265ms
2024-05-17 22:46:57.080 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:46:57.088 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 22:46:57.093 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:46:57.095 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-17 22:46:57.095 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/8237FF37-B2F3-4F5C-4109-08DC759ACFAA - 200 null application/json; charset=utf-8 14572.8195ms
2024-05-17 22:48:18.790 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/7F2BA67C-B638-487C-4105-08DC759ACFAA - null null
2024-05-17 22:48:18.818 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:48:18.819 +01:00 [DBG] DELETE requests are not supported
2024-05-17 22:48:18.820 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/7F2BA67C-B638-487C-4105-08DC759ACFAA'
2024-05-17 22:48:18.820 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/7F2BA67C-B638-487C-4105-08DC759ACFAA'
2024-05-17 22:48:18.820 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:48:18.820 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 22:48:18.820 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:48:18.821 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 22:48:18.822 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 22:48:18.822 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 22:48:18.822 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 22:48:18.822 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 22:48:18.822 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 22:48:18.822 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:48:18.824 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:48:18.825 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 22:48:18.825 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 22:48:18.826 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:48:18.826 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:48:18.826 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 22:48:18.826 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 22:48:18.826 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:48:18.826 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:48:18.826 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:48:18.826 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:48:18.826 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:48:18.826 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:48:18.826 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 22:48:18.827 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["7f2ba67c-b638-487c-4105-08dc759acfaa"])
2024-05-17 22:48:18.831 +01:00 [INF] ----- Handling command Boolean ({"Id":"7f2ba67c-b638-487c-4105-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:48:18.831 +01:00 [INF] -----Validating command Boolean :
2024-05-17 22:48:18.876 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 22:48:18.881 +01:00 [DBG] Creating DbConnection.
2024-05-17 22:48:18.882 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-17 22:48:18.882 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:48:18.884 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:48:18.884 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 22:48:18.886 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 22:48:18.888 +01:00 [INF] ----- Begin transaction "c73d4964-17ef-4af8-83f0-86f3e3b434b2" for DeleteCustomerCommand ({"Id":"7f2ba67c-b638-487c-4105-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:48:18.888 +01:00 [INF] ----Request to get customer with unique identifier: "7f2ba67c-b638-487c-4105-08dc759acfaa"
2024-05-17 22:48:18.900 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:48:18.900 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:48:18.900 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:48:18.901 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:48:18.908 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:48:19.018 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:19.092 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:19.097 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:19.129 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:19.129 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:19.174 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:48:19.176 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 240ms reading results.
2024-05-17 22:48:19.217 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:19.296 +01:00 [DBG] A cascade state change of an entity of type 'Adress' to '"Deleted"' occurred due to deletion of its parent entity of type 'Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:19.301 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:19.330 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 22:48:19.332 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:19.333 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 22:48:19.337 +01:00 [DBG] A cascade state change of an entity of type 'AudityInfo' to '"Deleted"' occurred due to deletion of its parent entity of type 'Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:19.337 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:19.337 +01:00 [INF] ----Deleted customer: "7f2ba67c-b638-487c-4105-08dc759acfaa", customer 2 permanently
2024-05-17 22:48:21.819 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 22:48:21.821 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 22:48:21.823 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 22:48:21.902 +01:00 [DBG] Creating transaction savepoint.
2024-05-17 22:48:21.919 +01:00 [DBG] Created transaction savepoint.
2024-05-17 22:48:21.921 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:48:21.921 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:48:21.921 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:48:21.921 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [customerContext].[Customers]
OUTPUT 1
WHERE [ID] = @p0;
2024-05-17 22:48:21.933 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [customerContext].[Customers]
OUTPUT 1
WHERE [ID] = @p0;
2024-05-17 22:48:21.937 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:48:21.937 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 3ms reading results.
2024-05-17 22:48:21.947 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:21.948 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:21.948 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:48:21.949 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-17 22:48:21.949 +01:00 [INF] ----- Commit transaction "c73d4964-17ef-4af8-83f0-86f3e3b434b2" for DeleteCustomerCommand
2024-05-17 22:48:21.950 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 22:48:21.950 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 22:48:21.950 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 22:48:21.950 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-17 22:48:21.952 +01:00 [DBG] Committing transaction.
2024-05-17 22:48:21.956 +01:00 [DBG] Committed transaction.
2024-05-17 22:48:21.956 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:48:21.956 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-17 22:48:21.956 +01:00 [DBG] Disposing transaction.
2024-05-17 22:48:21.957 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-17 22:48:21.963 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3130.4495ms.
2024-05-17 22:48:21.963 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:48:24.770 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-17 22:48:41.051 +01:00 [VRB] Request ended from Customers with status 400 and message Unknown status code
2024-05-17 22:48:41.052 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:48:41.052 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:48:41.052 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:48:41.052 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:48:41.052 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:48:41.052 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:48:41.052 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:48:41.053 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:48:41.053 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 22:48:41.053 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-17 22:48:41.053 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 22:48:41.053 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 22:48:41.054 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 22:48:41.054 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-17 22:48:41.063 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:48:41.065 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:48:41.065 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:48:41.066 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 22243.5147ms
2024-05-17 22:48:41.067 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:48:41.070 +01:00 [ERR] Connection ID "18230571310386249731", Request ID "80000005-0004-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.Object]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-17 22:48:41.095 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 22:48:41.096 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:48:41.096 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-17 22:48:41.096 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/7F2BA67C-B638-487C-4105-08DC759ACFAA - 500 null null 22311.5158ms
2024-05-17 22:49:41.779 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-17 22:49:42.999 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-17 22:49:43.002 +01:00 [DBG] Hosting starting
2024-05-17 22:49:43.487 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-17 22:49:43.712 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-17 22:49:43.713 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-17 22:49:43.713 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-17 22:49:43.713 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-17 22:49:43.714 +01:00 [INF] Hosting environment: Development
2024-05-17 22:49:43.715 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-17 22:49:43.726 +01:00 [DBG] Hosting started
2024-05-17 22:49:43.993 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-17 22:49:44.396 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-17 22:49:44.397 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:49:44.680 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-17 22:49:44.682 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-17 22:49:44.733 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-17 22:49:44.734 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-17 22:49:44.748 +01:00 [DBG] Connection ID "18302628895834243077" disconnecting.
2024-05-17 22:49:44.753 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 770.562ms
2024-05-17 22:49:44.834 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-17 22:49:44.850 +01:00 [DBG] Connection ID "18014398523977498627" disconnecting.
2024-05-17 22:49:44.851 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 11.0469ms
2024-05-17 22:49:45.614 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-17 22:49:45.685 +01:00 [DBG] Connection ID "18374686485577203716" disconnecting.
2024-05-17 22:49:45.685 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.1925ms
2024-05-17 22:49:45.880 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-17 22:49:45.880 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:49:46.162 +01:00 [DBG] Connection ID "18374686485577203718" disconnecting.
2024-05-17 22:49:46.162 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 282.0734ms
2024-05-17 22:49:55.322 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44325/Customers - application/json 271
2024-05-17 22:49:55.323 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:49:55.327 +01:00 [DBG] POST requests are not supported
2024-05-17 22:49:55.371 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2024-05-17 22:49:55.376 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2024-05-17 22:49:55.378 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-17 22:49:55.380 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 22:49:55.381 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-17 22:49:55.456 +01:00 [INF] Route matched with {action = "CreateCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Application.Models.CustomerModels.CustomerModel] CreateCustomer(CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 22:49:55.462 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 22:49:55.463 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 22:49:55.463 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 22:49:55.464 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 22:49:55.464 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 22:49:55.469 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:49:56.157 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-17 22:49:56.263 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:49:56.277 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-17 22:49:56.281 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' using the name '' in request data ...
2024-05-17 22:49:56.284 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-17 22:49:56.308 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'
2024-05-17 22:49:56.310 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-17 22:49:56.310 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-17 22:49:56.310 +01:00 [DBG] Attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-17 22:49:56.332 +01:00 [DBG] Done attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-17 22:49:56.334 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:49:56.335 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:49:56.335 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:49:56.335 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:49:56.335 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:49:56.336 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:49:56.344 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 22:49:56.345 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with arguments (["CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel"])
2024-05-17 22:49:56.441 +01:00 [INF] ----- Handling command CustomerModel ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 11","ContactEmail":"customer10@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-17 22:49:56.478 +01:00 [INF] -----Validating command CustomerModel :
2024-05-17 22:49:57.841 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 22:49:57.841 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 22:49:58.178 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 22:49:58.217 +01:00 [DBG] Creating DbConnection.
2024-05-17 22:49:58.314 +01:00 [DBG] Created DbConnection. (94ms).
2024-05-17 22:49:58.322 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:49:59.133 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:49:59.140 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 22:49:59.160 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 22:49:59.167 +01:00 [INF] ----- Begin transaction "9f6bba6a-cbce-46a9-97c8-3e53774ec549" for CreateCustomerCommand ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 11","ContactEmail":"customer10@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-17 22:49:59.330 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Any(x => x.Name.ToLower().Equals(__ToLower_0))'
2024-05-17 22:49:59.874 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM customerContext.Customers AS c
                WHERE LOWER(c.Name) == @__ToLower_0)), 
        ReaderColumn[] { ReaderColumn<bool> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-17 22:49:59.999 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:50:00.015 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-05-17 22:50:00.035 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (36ms).
2024-05-17 22:50:00.056 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-17 22:50:00.194 +01:00 [INF] Executed DbCommand (144ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-17 22:50:00.255 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:50:00.262 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 13ms reading results.
2024-05-17 22:50:00.335 +01:00 [DBG] 'CustomerManDbContext' generated a value for the property 'Customer.ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:50:00.477 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:50:00.541 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:50:00.575 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:50:00.578 +01:00 [INF] ----- CreateCustomer new customer - customer: {"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 11","ContactEmail":"customer10@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"}
2024-05-17 22:50:00.583 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 22:50:00.590 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 22:50:00.638 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 22:50:00.789 +01:00 [DBG] Creating transaction savepoint.
2024-05-17 22:50:00.832 +01:00 [DBG] Created transaction savepoint.
2024-05-17 22:50:00.850 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:50:00.850 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:50:00.870 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-05-17 22:50:00.872 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-17 22:50:00.961 +01:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-17 22:50:00.982 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:50:00.983 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 6ms reading results.
2024-05-17 22:50:01.047 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:50:01.049 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:50:01.050 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:50:01.056 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-17 22:50:01.065 +01:00 [INF] ----- Commit transaction "9f6bba6a-cbce-46a9-97c8-3e53774ec549" for CreateCustomerCommand
2024-05-17 22:50:01.067 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 22:50:01.067 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 22:50:01.068 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 22:50:01.068 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-17 22:50:01.072 +01:00 [DBG] Committing transaction.
2024-05-17 22:50:01.079 +01:00 [DBG] Committed transaction.
2024-05-17 22:50:01.085 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:50:01.097 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (11ms).
2024-05-17 22:50:01.098 +01:00 [DBG] Disposing transaction.
2024-05-17 22:50:01.105 +01:00 [INF] ----- Command CustomerModel handled - response: {"Id":"e9b06b4a-73ca-41be-d391-08dc76bb4d0a","Name":"customer 11","ContactEmail":"customer10@test.com","Description":"string","PhoneNumber":"+212695666067","Adress":{"City":"Kenitra","State":"-","Street":"153","Country":"","ZipCode":"14000","$type":"AdressModel"},"$type":"CustomerModel"}
2024-05-17 22:50:01.112 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 4761.8084ms.
2024-05-17 22:50:01.113 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:50:04.015 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with parameters:
2024-05-17 22:50:31.628 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-17 22:50:34.190 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:50:34.190 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:50:34.191 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:50:34.191 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:50:34.192 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:50:34.193 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:50:34.193 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:50:34.195 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:50:34.198 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 22:50:34.201 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-17 22:50:34.202 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 22:50:34.202 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 22:50:34.208 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 22:50:34.209 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-17 22:50:34.232 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:50:34.232 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:50:34.233 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:50:34.245 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) in 38776.2652ms
2024-05-17 22:50:34.246 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-17 22:50:34.251 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 22:50:34.258 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:50:34.260 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-17 22:50:34.261 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44325/Customers - 201 null application/json; charset=utf-8 38939.1572ms
2024-05-17 22:50:58.003 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/7F2BA67C-B638-487C-4105-08DC759ACFAA - null null
2024-05-17 22:50:58.004 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:50:58.004 +01:00 [DBG] DELETE requests are not supported
2024-05-17 22:50:58.005 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/7F2BA67C-B638-487C-4105-08DC759ACFAA'
2024-05-17 22:50:58.005 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/7F2BA67C-B638-487C-4105-08DC759ACFAA'
2024-05-17 22:50:58.005 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:50:58.005 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 22:50:58.005 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:50:58.011 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 22:50:58.011 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 22:50:58.011 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 22:50:58.012 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 22:50:58.012 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 22:50:58.012 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 22:50:58.012 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:50:58.013 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:50:58.013 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 22:50:58.014 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 22:50:58.014 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:50:58.015 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:50:58.015 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 22:50:58.017 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 22:50:58.018 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:50:58.018 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:50:58.018 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:50:58.018 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:50:58.018 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:50:58.018 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:50:58.018 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 22:50:58.019 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["7f2ba67c-b638-487c-4105-08dc759acfaa"])
2024-05-17 22:50:58.029 +01:00 [INF] ----- Handling command Boolean ({"Id":"7f2ba67c-b638-487c-4105-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:50:58.030 +01:00 [INF] -----Validating command Boolean :
2024-05-17 22:50:58.045 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 22:50:58.047 +01:00 [DBG] Creating DbConnection.
2024-05-17 22:50:58.048 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-17 22:50:58.048 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:50:58.049 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:50:58.051 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 22:50:58.052 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 22:50:58.053 +01:00 [INF] ----- Begin transaction "d5513a65-5915-483e-ad4a-6505bb37386a" for DeleteCustomerCommand ({"Id":"7f2ba67c-b638-487c-4105-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:50:58.055 +01:00 [INF] ----Request to get customer with unique identifier: "7f2ba67c-b638-487c-4105-08dc759acfaa"
2024-05-17 22:50:58.062 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-17 22:50:58.071 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-17 22:50:58.071 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-17 22:50:58.135 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-17 22:50:58.141 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:50:58.141 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:50:58.141 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:50:58.141 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:50:58.146 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:50:58.156 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:50:58.156 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 9ms reading results.
2024-05-17 22:50:58.157 +01:00 [ERR] ----Coudn't find the customer with unique identifier: "7f2ba67c-b638-487c-4105-08dc759acfaa"
2024-05-17 22:50:58.229 +01:00 [DBG] Disposing transaction.
2024-05-17 22:50:58.229 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:50:58.229 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-17 22:50:58.297 +01:00 [ERR] ERROR Handling transaction for DeleteCustomerCommand ({"Id":"7f2ba67c-b638-487c-4105-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
CustomerMan.Domain.DomainExceptions.CustomerManDomainException: Customer doesn't exists
   at CustomerMan.API.Application.Commands.CustomerCommands.DeleteCustomerCommandHandler.Handle(DeleteCustomerCommand request, CancellationToken cancellationToken) in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Commands\CustomerCommands\DeleteCustomerCommandHandler.cs:line 31
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.<>c__DisplayClass3_0.<<Handle>b__0>d.MoveNext() in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Behaviors\TransactionBehavior.cs:line 31
--- End of stack trace from previous location ---
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.<>c__DisplayClass3_0.<<Handle>b__0>d.MoveNext() in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Behaviors\TransactionBehavior.cs:line 35
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Behaviors\TransactionBehavior.cs:line 25
2024-05-17 22:50:58.622 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:51:01.577 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-17 22:51:02.191 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:51:02.193 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:51:02.193 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:51:02.193 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:51:02.193 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:51:02.195 +01:00 [VRB] Exception Filter: Before executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-17 22:51:12.744 +01:00 [ERR] @exceptionRoot
2024-05-17 22:51:12.744 +01:00 [VRB] Exception Filter: After executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-17 22:51:12.745 +01:00 [DBG] Request was short circuited at exception filter 'CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter'.
2024-05-17 22:51:12.745 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:51:12.746 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:51:12.746 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:51:12.746 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 22:51:12.746 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-17 22:51:12.746 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 22:51:12.746 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 22:51:12.747 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 22:51:12.747 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[SharedKernel.Exceptions.ExceptionRoot, SharedKernel, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-17 22:51:12.760 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:51:12.760 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:51:12.761 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:51:12.761 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 14748.9054ms
2024-05-17 22:51:12.761 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:51:12.761 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 22:51:12.762 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:51:12.762 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-17 22:51:12.762 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/7F2BA67C-B638-487C-4105-08DC759ACFAA - 200 null application/json; charset=utf-8 14758.7938ms
2024-05-17 22:51:32.876 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - null null
2024-05-17 22:51:32.876 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:51:32.877 +01:00 [DBG] DELETE requests are not supported
2024-05-17 22:51:32.877 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 22:51:32.878 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 22:51:32.878 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:51:32.878 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 22:51:32.878 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:51:32.879 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 22:51:32.881 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 22:51:32.881 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 22:51:32.881 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 22:51:32.881 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 22:51:32.881 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 22:51:32.882 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:51:32.885 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:51:32.885 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 22:51:32.886 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 22:51:32.886 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:51:32.886 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:51:32.886 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 22:51:32.886 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 22:51:32.886 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:51:32.886 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:51:32.886 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:51:32.887 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:51:32.887 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:51:32.887 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:51:32.887 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 22:51:32.887 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["02492917-e82f-40dc-4106-08dc759acfaa"])
2024-05-17 22:51:32.889 +01:00 [INF] ----- Handling command Boolean ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:51:32.889 +01:00 [INF] -----Validating command Boolean :
2024-05-17 22:51:33.031 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 22:51:33.046 +01:00 [DBG] Creating DbConnection.
2024-05-17 22:51:33.047 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-17 22:51:33.047 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:51:33.047 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:51:33.047 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 22:51:33.048 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 22:51:33.048 +01:00 [INF] ----- Begin transaction "1d21579a-61d6-46f7-964c-7b3b2fa26e74" for DeleteCustomerCommand ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:51:33.048 +01:00 [INF] ----Request to get customer with unique identifier: "02492917-e82f-40dc-4106-08dc759acfaa"
2024-05-17 22:51:33.059 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:51:33.059 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:51:33.059 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:51:33.060 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:51:33.068 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:51:33.079 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:51:33.090 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:51:33.092 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:51:33.095 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:51:33.095 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:51:33.096 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:51:33.096 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 20ms reading results.
2024-05-17 22:51:33.098 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:51:33.098 +01:00 [INF] ----Deleted customer: "02492917-e82f-40dc-4106-08dc759acfaa", customer 3 softly
2024-05-17 22:51:37.044 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 22:51:37.044 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 22:51:37.047 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 22:51:37.048 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:51:37.048 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 22:51:37.049 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 22:51:37.053 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:51:37.059 +01:00 [DBG] Creating transaction savepoint.
2024-05-17 22:51:37.060 +01:00 [DBG] Created transaction savepoint.
2024-05-17 22:51:37.061 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:51:37.061 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:51:37.062 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:51:37.068 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 22:51:37.079 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 22:51:37.082 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:51:37.083 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 3ms reading results.
2024-05-17 22:51:37.084 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:51:37.084 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:51:37.084 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:51:37.084 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-17 22:51:37.084 +01:00 [INF] ----- Commit transaction "1d21579a-61d6-46f7-964c-7b3b2fa26e74" for DeleteCustomerCommand
2024-05-17 22:51:37.084 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 22:51:37.084 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 22:51:37.085 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 22:51:37.085 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-17 22:51:37.085 +01:00 [DBG] Committing transaction.
2024-05-17 22:51:37.086 +01:00 [DBG] Committed transaction.
2024-05-17 22:51:37.086 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:51:37.086 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-17 22:51:37.086 +01:00 [DBG] Disposing transaction.
2024-05-17 22:51:37.086 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-17 22:51:37.087 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 4199.1627ms.
2024-05-17 22:51:37.087 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:51:38.960 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-17 22:52:11.361 +01:00 [VRB] Request ended from Customers with status 400 and message Unknown status code
2024-05-17 22:52:31.378 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:52:31.379 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:52:31.379 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:52:31.379 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:52:31.379 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:52:31.379 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:52:31.379 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:52:31.379 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:52:31.379 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 22:52:31.380 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-17 22:52:31.380 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 22:52:31.380 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 22:52:31.382 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 22:52:31.382 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-17 22:52:31.391 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:52:31.393 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:52:31.393 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:52:31.394 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 58513.1125ms
2024-05-17 22:52:31.396 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:52:31.402 +01:00 [ERR] Connection ID "18086456126605361155", Request ID "80000006-0005-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.Object]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-17 22:52:31.436 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 22:52:31.436 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:52:31.437 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-17 22:52:31.437 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - 500 null null 58560.8598ms
2024-05-17 22:53:50.303 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-17 22:53:51.543 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-17 22:53:51.554 +01:00 [DBG] Hosting starting
2024-05-17 22:53:51.824 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-17 22:53:51.950 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-17 22:53:51.950 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-17 22:53:51.950 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-17 22:53:51.961 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-17 22:53:51.962 +01:00 [INF] Hosting environment: Development
2024-05-17 22:53:51.962 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-17 22:53:51.962 +01:00 [DBG] Hosting started
2024-05-17 22:53:52.031 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-17 22:53:52.163 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-17 22:53:52.163 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:53:52.363 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-17 22:53:52.364 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-17 22:53:52.391 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-17 22:53:52.391 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-17 22:53:52.397 +01:00 [DBG] Connection ID "18374686511347007489" disconnecting.
2024-05-17 22:53:52.401 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 374.2391ms
2024-05-17 22:53:52.421 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-17 22:53:52.426 +01:00 [DBG] Connection ID "18374686481282236423" disconnecting.
2024-05-17 22:53:52.427 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.2186ms
2024-05-17 22:53:52.437 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-17 22:53:52.480 +01:00 [DBG] Connection ID "18302628904424177676" disconnecting.
2024-05-17 22:53:52.481 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.5566ms
2024-05-17 22:53:52.680 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-17 22:53:52.680 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:53:52.802 +01:00 [DBG] Connection ID "18374686481282236425" disconnecting.
2024-05-17 22:53:52.802 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 121.3357ms
2024-05-17 22:54:01.285 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:44325/Customers/C74497ED-5AFC-4501-410D-08DC759ACFAA - null null
2024-05-17 22:54:01.286 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:54:01.290 +01:00 [DBG] DELETE requests are not supported
2024-05-17 22:54:01.360 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/C74497ED-5AFC-4501-410D-08DC759ACFAA'
2024-05-17 22:54:01.365 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/C74497ED-5AFC-4501-410D-08DC759ACFAA'
2024-05-17 22:54:01.367 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:54:01.369 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 22:54:01.371 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:54:01.435 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 22:54:01.440 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 22:54:01.442 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 22:54:01.443 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 22:54:01.443 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 22:54:01.443 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 22:54:01.448 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:54:02.115 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-17 22:54:02.146 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:54:02.152 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 22:54:02.155 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 22:54:02.158 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:54:02.158 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:54:02.158 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 22:54:02.161 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 22:54:02.163 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:54:02.163 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:54:02.164 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:54:02.164 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:54:02.164 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:54:02.164 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:54:02.169 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 22:54:02.170 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["c74497ed-5afc-4501-410d-08dc759acfaa"])
2024-05-17 22:54:02.214 +01:00 [INF] ----- Handling command Boolean ({"Id":"c74497ed-5afc-4501-410d-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:54:02.234 +01:00 [INF] -----Validating command Boolean :
2024-05-17 22:54:03.546 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 22:54:03.546 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 22:54:03.991 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 22:54:04.025 +01:00 [DBG] Creating DbConnection.
2024-05-17 22:54:04.178 +01:00 [DBG] Created DbConnection. (125ms).
2024-05-17 22:54:04.202 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:54:04.836 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:54:04.843 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 22:54:04.863 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 22:54:04.867 +01:00 [INF] ----- Begin transaction "1f887bb6-acf8-4b17-b050-ee0e21e1ee0e" for DeleteCustomerCommand ({"Id":"c74497ed-5afc-4501-410d-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:54:04.875 +01:00 [INF] ----Request to get customer with unique identifier: "c74497ed-5afc-4501-410d-08dc759acfaa"
2024-05-17 22:54:05.029 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-17 22:54:05.168 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-17 22:54:05.169 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-17 22:54:05.761 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-17 22:54:05.822 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:54:05.834 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-05-17 22:54:05.848 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-05-17 22:54:05.864 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:54:06.001 +01:00 [INF] Executed DbCommand (132ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:54:06.166 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:06.260 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:06.264 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:06.295 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:06.295 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:06.343 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:54:06.356 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 265ms reading results.
2024-05-17 22:54:06.386 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:06.388 +01:00 [INF] ----Deleted customer: "c74497ed-5afc-4501-410d-08dc759acfaa", customer 10 softly
2024-05-17 22:54:08.874 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 22:54:08.878 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 22:54:08.907 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 22:54:08.908 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:08.909 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 22:54:08.911 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 22:54:08.951 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:09.059 +01:00 [DBG] Creating transaction savepoint.
2024-05-17 22:54:09.084 +01:00 [DBG] Created transaction savepoint.
2024-05-17 22:54:09.088 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:54:09.089 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:54:09.090 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-17 22:54:09.090 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 22:54:09.099 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 22:54:09.103 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:54:09.103 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 3ms reading results.
2024-05-17 22:54:09.105 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:09.105 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:09.105 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:09.107 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-17 22:54:09.108 +01:00 [INF] ----- Commit transaction "1f887bb6-acf8-4b17-b050-ee0e21e1ee0e" for DeleteCustomerCommand
2024-05-17 22:54:09.109 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 22:54:09.109 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 22:54:09.110 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 22:54:09.111 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-17 22:54:09.116 +01:00 [DBG] Committing transaction.
2024-05-17 22:54:09.126 +01:00 [DBG] Committed transaction.
2024-05-17 22:54:09.129 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:54:09.134 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (5ms).
2024-05-17 22:54:09.136 +01:00 [DBG] Disposing transaction.
2024-05-17 22:54:09.138 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-17 22:54:09.141 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6969.0567ms.
2024-05-17 22:54:09.143 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:54:11.526 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-17 22:54:19.378 +01:00 [VRB] Request ended from Customers with status 202 and message Request was accepted
2024-05-17 22:54:19.379 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:54:19.379 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:54:19.379 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:54:19.380 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:54:19.380 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:54:19.381 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:54:19.381 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:54:19.383 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:54:19.385 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 22:54:19.388 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-17 22:54:19.389 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-17 22:54:19.389 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 22:54:19.389 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 22:54:19.390 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 22:54:19.391 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-17 22:54:19.399 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:54:19.400 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:54:19.401 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:54:19.406 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 17959.8141ms
2024-05-17 22:54:19.408 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:54:19.412 +01:00 [ERR] Connection ID "18158513724938256385", Request ID "80000002-0006-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.Object]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-17 22:54:19.443 +01:00 [DBG] Connection ID "18158513724938256385" disconnecting.
2024-05-17 22:54:19.446 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 22:54:19.452 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:54:19.454 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-17 22:54:19.455 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:44325/Customers/C74497ED-5AFC-4501-410D-08DC759ACFAA - 500 null null 18169.9533ms
2024-05-17 22:54:59.194 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - null null
2024-05-17 22:54:59.195 +01:00 [VRB] All hosts are allowed.
2024-05-17 22:54:59.195 +01:00 [DBG] DELETE requests are not supported
2024-05-17 22:54:59.196 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 22:54:59.196 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 22:54:59.196 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:54:59.196 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 22:54:59.197 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:54:59.197 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 22:54:59.198 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 22:54:59.198 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 22:54:59.198 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 22:54:59.198 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 22:54:59.198 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 22:54:59.199 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:54:59.200 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 22:54:59.201 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 22:54:59.203 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 22:54:59.204 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:54:59.204 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 22:54:59.204 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 22:54:59.204 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 22:54:59.205 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:54:59.205 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:54:59.205 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:54:59.205 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:54:59.206 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:54:59.206 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:54:59.206 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 22:54:59.206 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["02492917-e82f-40dc-4106-08dc759acfaa"])
2024-05-17 22:54:59.209 +01:00 [INF] ----- Handling command Boolean ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:54:59.210 +01:00 [INF] -----Validating command Boolean :
2024-05-17 22:54:59.238 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 22:54:59.242 +01:00 [DBG] Creating DbConnection.
2024-05-17 22:54:59.242 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-17 22:54:59.243 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:54:59.244 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:54:59.244 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 22:54:59.246 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 22:54:59.246 +01:00 [INF] ----- Begin transaction "0e312074-4102-46f7-8e18-5098d56a9b64" for DeleteCustomerCommand ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 22:54:59.246 +01:00 [INF] ----Request to get customer with unique identifier: "02492917-e82f-40dc-4106-08dc759acfaa"
2024-05-17 22:54:59.254 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:54:59.254 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:54:59.254 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:54:59.255 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:54:59.262 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 22:54:59.263 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:59.264 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:59.264 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:59.264 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:59.264 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:59.265 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:54:59.265 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 2ms reading results.
2024-05-17 22:54:59.266 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:54:59.266 +01:00 [INF] ----Deleted customer: "02492917-e82f-40dc-4106-08dc759acfaa", customer 3 softly
2024-05-17 22:55:01.372 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 22:55:01.372 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 22:55:01.373 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 22:55:01.374 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:55:01.374 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 22:55:01.374 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 22:55:01.377 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:55:01.379 +01:00 [DBG] Creating transaction savepoint.
2024-05-17 22:55:01.380 +01:00 [DBG] Created transaction savepoint.
2024-05-17 22:55:01.381 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 22:55:01.381 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:55:01.381 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-17 22:55:01.381 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 22:55:01.418 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 22:55:01.419 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:55:01.419 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-17 22:55:01.419 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:55:01.419 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:55:01.420 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 22:55:01.420 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-17 22:55:01.420 +01:00 [INF] ----- Commit transaction "0e312074-4102-46f7-8e18-5098d56a9b64" for DeleteCustomerCommand
2024-05-17 22:55:01.420 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 22:55:01.420 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 22:55:01.421 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 22:55:01.423 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-17 22:55:01.423 +01:00 [DBG] Committing transaction.
2024-05-17 22:55:01.424 +01:00 [DBG] Committed transaction.
2024-05-17 22:55:01.424 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:55:01.425 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-17 22:55:01.425 +01:00 [DBG] Disposing transaction.
2024-05-17 22:55:01.430 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-17 22:55:01.431 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2224.5696ms.
2024-05-17 22:55:01.432 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:55:02.664 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-17 22:55:02.664 +01:00 [VRB] Request ended from Customers with status 202 and message Request was accepted
2024-05-17 22:55:02.664 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 22:55:02.665 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:55:02.665 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 22:55:02.665 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:55:02.665 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 22:55:02.665 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:55:02.666 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:55:02.666 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:55:02.666 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 22:55:02.667 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-17 22:55:02.667 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 22:55:02.667 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 22:55:02.667 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 22:55:02.667 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-17 22:55:02.668 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 22:55:02.668 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:55:02.669 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 22:55:02.671 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 3471.3756ms
2024-05-17 22:55:02.672 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 22:55:02.673 +01:00 [ERR] Connection ID "18374686481282236427", Request ID "8000000c-0000-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.Object]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-17 22:55:02.677 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 22:55:02.677 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 22:55:02.677 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-17 22:55:02.678 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - 500 null null 3483.9679ms
2024-05-17 23:50:59.352 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-17 23:51:00.888 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-17 23:51:00.892 +01:00 [DBG] Hosting starting
2024-05-17 23:51:01.258 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-17 23:51:01.943 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-17 23:51:01.944 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-17 23:51:01.944 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-17 23:51:01.976 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-17 23:51:01.977 +01:00 [INF] Hosting environment: Development
2024-05-17 23:51:01.977 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-17 23:51:01.977 +01:00 [DBG] Hosting started
2024-05-17 23:51:02.135 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-17 23:51:02.397 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-17 23:51:02.397 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:51:02.598 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-17 23:51:02.602 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-17 23:51:02.671 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-17 23:51:02.672 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-17 23:51:02.682 +01:00 [DBG] Connection ID "18014398523977498630" disconnecting.
2024-05-17 23:51:02.687 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 562.6856ms
2024-05-17 23:51:02.732 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-17 23:51:02.746 +01:00 [DBG] Connection ID "18158513703463419911" disconnecting.
2024-05-17 23:51:02.747 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 6.3834ms
2024-05-17 23:51:03.464 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-17 23:51:03.580 +01:00 [DBG] Connection ID "18302628917309079553" disconnecting.
2024-05-17 23:51:03.593 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 129.0156ms
2024-05-17 23:51:03.958 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-17 23:51:03.959 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:51:04.342 +01:00 [DBG] Connection ID "18230571314681217036" disconnecting.
2024-05-17 23:51:04.342 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 383.8413ms
2024-05-17 23:51:14.730 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - null null
2024-05-17 23:51:14.730 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:51:14.733 +01:00 [DBG] DELETE requests are not supported
2024-05-17 23:51:14.768 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 23:51:14.775 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 23:51:14.777 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:51:14.779 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 23:51:14.781 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:51:14.869 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 23:51:14.899 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 23:51:14.899 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 23:51:14.900 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 23:51:14.900 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 23:51:14.901 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 23:51:14.907 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:51:15.523 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-17 23:51:15.565 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:51:15.575 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 23:51:15.578 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 23:51:15.579 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:51:15.580 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:51:15.580 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 23:51:15.583 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 23:51:15.585 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:51:15.585 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:51:15.585 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:51:15.585 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:51:15.585 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:51:15.586 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:51:15.591 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 23:51:15.593 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["02492917-e82f-40dc-4106-08dc759acfaa"])
2024-05-17 23:51:15.647 +01:00 [INF] ----- Handling command Boolean ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:51:16.033 +01:00 [INF] -----Validating command Boolean :
2024-05-17 23:51:17.387 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 23:51:17.387 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 23:51:17.715 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 23:51:17.747 +01:00 [DBG] Creating DbConnection.
2024-05-17 23:51:17.820 +01:00 [DBG] Created DbConnection. (71ms).
2024-05-17 23:51:17.827 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:51:18.538 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:51:18.542 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 23:51:18.560 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 23:51:18.566 +01:00 [INF] ----- Begin transaction "3115ad23-c764-4244-b466-1cff27dd1c7f" for DeleteCustomerCommand ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:51:18.574 +01:00 [INF] ----Request to get customer with unique identifier: "02492917-e82f-40dc-4106-08dc759acfaa"
2024-05-17 23:51:18.748 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-17 23:51:18.873 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-17 23:51:18.874 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-17 23:51:19.200 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-17 23:51:19.283 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 23:51:19.312 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-05-17 23:51:19.334 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (51ms).
2024-05-17 23:51:19.352 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:51:19.499 +01:00 [INF] Executed DbCommand (149ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:51:19.671 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:51:19.758 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:51:19.760 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:51:19.789 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:51:19.790 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:51:19.846 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:51:19.850 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 272ms reading results.
2024-05-17 23:51:19.878 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:51:19.879 +01:00 [INF] ----Deleted customer: "02492917-e82f-40dc-4106-08dc759acfaa", customer 3 softly
2024-05-17 23:51:24.377 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 23:51:24.379 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 23:51:24.405 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 23:51:24.407 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:51:24.408 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 23:51:24.410 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 23:51:24.441 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:51:24.547 +01:00 [DBG] Creating transaction savepoint.
2024-05-17 23:51:24.561 +01:00 [DBG] Created transaction savepoint.
2024-05-17 23:51:24.563 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 23:51:24.563 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 23:51:24.564 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-17 23:51:24.564 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 23:51:24.570 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 23:51:24.576 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:51:24.576 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 5ms reading results.
2024-05-17 23:51:24.579 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:51:24.579 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:51:24.579 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:51:24.581 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-17 23:51:24.581 +01:00 [INF] ----- Commit transaction "3115ad23-c764-4244-b466-1cff27dd1c7f" for DeleteCustomerCommand
2024-05-17 23:51:24.581 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 23:51:24.582 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 23:51:24.582 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 23:51:24.582 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-17 23:51:24.584 +01:00 [DBG] Committing transaction.
2024-05-17 23:51:24.590 +01:00 [DBG] Committed transaction.
2024-05-17 23:51:24.594 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:51:24.600 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (6ms).
2024-05-17 23:51:24.602 +01:00 [DBG] Disposing transaction.
2024-05-17 23:51:24.607 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-17 23:51:24.611 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9015.295ms.
2024-05-17 23:51:24.611 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:51:25.985 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-17 23:51:25.992 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-17 23:51:25.993 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:51:25.993 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:51:25.993 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:51:25.993 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:51:25.993 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:51:25.995 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:51:25.995 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:51:25.996 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 23:51:25.998 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 23:51:25.999 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-17 23:51:26.000 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 23:51:26.000 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 23:51:26.000 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 23:51:26.001 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-17 23:51:26.014 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 23:51:26.015 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:51:26.015 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:51:26.020 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 11115.945ms
2024-05-17 23:51:26.024 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:51:26.027 +01:00 [ERR] Connection ID "18302628887244308483", Request ID "80000004-0000-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.Object]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-17 23:51:26.084 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 23:51:26.091 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:51:26.092 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-05-17 23:51:26.093 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - 500 null null 11363.2323ms
2024-05-17 23:51:36.202 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-17 23:51:37.434 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-17 23:51:37.442 +01:00 [DBG] Hosting starting
2024-05-17 23:51:37.716 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-17 23:51:37.901 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-17 23:51:37.901 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-17 23:51:37.901 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-17 23:51:37.916 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-17 23:51:37.916 +01:00 [INF] Hosting environment: Development
2024-05-17 23:51:37.917 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-17 23:51:37.917 +01:00 [DBG] Hosting started
2024-05-17 23:51:38.002 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-17 23:51:38.123 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-17 23:51:38.124 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:51:38.211 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-17 23:51:38.213 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-17 23:51:38.248 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-17 23:51:38.249 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-17 23:51:38.258 +01:00 [DBG] Connection ID "18374686502757072903" disconnecting.
2024-05-17 23:51:38.267 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 268.6112ms
2024-05-17 23:51:38.294 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-17 23:51:38.304 +01:00 [DBG] Connection ID "18374686481282236437" disconnecting.
2024-05-17 23:51:38.305 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 4.3825ms
2024-05-17 23:51:38.312 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-17 23:51:38.396 +01:00 [DBG] Connection ID "18302628904424177682" disconnecting.
2024-05-17 23:51:38.397 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 85.068ms
2024-05-17 23:51:38.531 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-17 23:51:38.531 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:51:38.695 +01:00 [DBG] Connection ID "18014398523977498634" disconnecting.
2024-05-17 23:51:38.695 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.0619ms
2024-05-17 23:52:12.972 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - null null
2024-05-17 23:52:12.972 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:52:12.987 +01:00 [DBG] DELETE requests are not supported
2024-05-17 23:52:13.008 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 23:52:13.010 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 23:52:13.011 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:52:13.011 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 23:52:13.012 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:52:13.037 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 23:52:13.040 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 23:52:13.040 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 23:52:13.040 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 23:52:13.041 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 23:52:13.041 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 23:52:13.043 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:52:13.242 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-17 23:52:13.257 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:52:13.261 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 23:52:13.262 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 23:52:13.263 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:52:13.264 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:52:13.264 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 23:52:13.266 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 23:52:13.269 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:52:13.269 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:52:13.270 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:52:13.270 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:52:13.270 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:52:13.270 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:52:13.273 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 23:52:13.274 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["02492917-e82f-40dc-4106-08dc759acfaa"])
2024-05-17 23:52:13.302 +01:00 [INF] ----- Handling command Boolean ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:52:13.319 +01:00 [INF] -----Validating command Boolean :
2024-05-17 23:52:13.801 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 23:52:13.802 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 23:52:13.927 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 23:52:13.942 +01:00 [DBG] Creating DbConnection.
2024-05-17 23:52:13.975 +01:00 [DBG] Created DbConnection. (32ms).
2024-05-17 23:52:13.977 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:52:14.424 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:52:14.427 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 23:52:14.437 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 23:52:14.439 +01:00 [INF] ----- Begin transaction "f185520b-6c86-4df3-8589-dbb044892442" for DeleteCustomerCommand ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:52:14.444 +01:00 [INF] ----Request to get customer with unique identifier: "02492917-e82f-40dc-4106-08dc759acfaa"
2024-05-17 23:52:14.506 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-17 23:52:14.553 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-17 23:52:14.554 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-17 23:52:14.713 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-17 23:52:14.755 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 23:52:14.759 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-17 23:52:14.764 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-05-17 23:52:14.773 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:52:14.837 +01:00 [INF] Executed DbCommand (66ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:52:14.888 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:52:14.917 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:52:14.921 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:52:14.934 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:52:14.934 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:52:14.947 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:52:14.950 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 86ms reading results.
2024-05-17 23:52:14.961 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:52:14.961 +01:00 [INF] ----Deleted customer: "02492917-e82f-40dc-4106-08dc759acfaa", customer 3 softly
2024-05-17 23:52:14.963 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 23:52:14.965 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 23:52:14.980 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 23:52:14.981 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:52:14.982 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 23:52:14.987 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 23:52:15.011 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:52:15.050 +01:00 [DBG] Creating transaction savepoint.
2024-05-17 23:52:15.063 +01:00 [DBG] Created transaction savepoint.
2024-05-17 23:52:15.067 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 23:52:15.068 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 23:52:15.071 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-17 23:52:15.071 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 23:52:15.083 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 23:52:15.089 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:52:15.089 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 5ms reading results.
2024-05-17 23:52:15.092 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:52:15.092 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:52:15.092 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:52:15.094 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-17 23:52:15.094 +01:00 [INF] ----- Commit transaction "f185520b-6c86-4df3-8589-dbb044892442" for DeleteCustomerCommand
2024-05-17 23:52:15.095 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 23:52:15.095 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 23:52:15.096 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 23:52:15.096 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-17 23:52:15.098 +01:00 [DBG] Committing transaction.
2024-05-17 23:52:15.104 +01:00 [DBG] Committed transaction.
2024-05-17 23:52:15.106 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:52:15.110 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (3ms).
2024-05-17 23:52:15.111 +01:00 [DBG] Disposing transaction.
2024-05-17 23:52:15.113 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-17 23:52:15.116 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1840.0566ms.
2024-05-17 23:52:15.117 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:52:15.118 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-17 23:52:15.121 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-17 23:52:15.121 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:52:15.121 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:52:15.121 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:52:15.122 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:52:15.122 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:52:15.123 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:52:15.123 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:52:15.124 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 23:52:15.126 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 23:52:15.128 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-17 23:52:15.128 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 23:52:15.128 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 23:52:15.129 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 23:52:15.129 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-17 23:52:15.137 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 23:52:15.139 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:52:15.139 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:52:15.145 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 2099.8204ms
2024-05-17 23:52:15.146 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:52:15.150 +01:00 [ERR] Connection ID "18230571310386249747", Request ID "80000014-0004-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.Object]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-17 23:52:15.177 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 23:52:15.181 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:52:15.183 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-17 23:52:15.184 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - 500 null null 2212.3059ms
2024-05-17 23:55:15.455 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-17 23:55:16.671 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-17 23:55:16.675 +01:00 [DBG] Hosting starting
2024-05-17 23:55:16.923 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-17 23:55:17.055 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-17 23:55:17.055 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-17 23:55:17.064 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-17 23:55:17.064 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-17 23:55:17.073 +01:00 [INF] Hosting environment: Development
2024-05-17 23:55:17.073 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-17 23:55:17.073 +01:00 [DBG] Hosting started
2024-05-17 23:55:17.131 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-17 23:55:17.264 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-17 23:55:17.265 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:55:17.356 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-17 23:55:17.361 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-17 23:55:17.397 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-17 23:55:17.398 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-17 23:55:17.407 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-17 23:55:17.407 +01:00 [DBG] Connection ID "18374686511347007499" disconnecting.
2024-05-17 23:55:17.413 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 285.6322ms
2024-05-17 23:55:17.423 +01:00 [DBG] Connection ID "18374686481282236441" disconnecting.
2024-05-17 23:55:17.423 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 7.3135ms
2024-05-17 23:55:17.433 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-17 23:55:17.514 +01:00 [DBG] Connection ID "18158513703463419915" disconnecting.
2024-05-17 23:55:17.515 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.3115ms
2024-05-17 23:55:17.553 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-17 23:55:17.553 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:55:17.694 +01:00 [DBG] Connection ID "18230571301796315139" disconnecting.
2024-05-17 23:55:17.694 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 141.3606ms
2024-05-17 23:55:20.343 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - null null
2024-05-17 23:55:20.344 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:55:20.348 +01:00 [DBG] DELETE requests are not supported
2024-05-17 23:55:20.404 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 23:55:20.410 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 23:55:20.412 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:55:20.413 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 23:55:20.414 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:55:20.509 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 23:55:20.512 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 23:55:20.513 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 23:55:20.513 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 23:55:20.513 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 23:55:20.514 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 23:55:20.516 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:55:20.828 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-17 23:55:20.846 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:55:20.850 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 23:55:20.852 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 23:55:20.853 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:55:20.853 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:55:20.854 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 23:55:20.859 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 23:55:20.863 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:55:20.863 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:55:20.863 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:55:20.863 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:55:20.864 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:55:20.864 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:55:20.867 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 23:55:20.867 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["02492917-e82f-40dc-4106-08dc759acfaa"])
2024-05-17 23:55:20.893 +01:00 [INF] ----- Handling command Boolean ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:55:20.909 +01:00 [INF] -----Validating command Boolean :
2024-05-17 23:55:21.761 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 23:55:21.761 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 23:55:21.951 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 23:55:21.965 +01:00 [DBG] Creating DbConnection.
2024-05-17 23:55:21.998 +01:00 [DBG] Created DbConnection. (32ms).
2024-05-17 23:55:22.002 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:55:22.350 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:55:22.354 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 23:55:22.365 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 23:55:22.367 +01:00 [INF] ----- Begin transaction "3f2485c3-1182-4b04-aeea-268ab78eff63" for DeleteCustomerCommand ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:55:22.371 +01:00 [INF] ----Request to get customer with unique identifier: "02492917-e82f-40dc-4106-08dc759acfaa"
2024-05-17 23:55:22.446 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-17 23:55:22.513 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-17 23:55:22.513 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-17 23:55:22.704 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-17 23:55:22.767 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 23:55:22.772 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-17 23:55:22.786 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-05-17 23:55:22.812 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:55:22.912 +01:00 [INF] Executed DbCommand (118ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:55:23.035 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:23.095 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:23.098 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:23.119 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:23.120 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:23.149 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:55:23.154 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 210ms reading results.
2024-05-17 23:55:23.178 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:23.178 +01:00 [INF] ----Deleted customer: "02492917-e82f-40dc-4106-08dc759acfaa", customer 3 softly
2024-05-17 23:55:23.181 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 23:55:23.183 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 23:55:23.211 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 23:55:23.212 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:23.213 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 23:55:23.216 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 23:55:23.244 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:23.298 +01:00 [DBG] Creating transaction savepoint.
2024-05-17 23:55:23.316 +01:00 [DBG] Created transaction savepoint.
2024-05-17 23:55:23.319 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 23:55:23.319 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 23:55:23.321 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-17 23:55:23.321 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 23:55:23.330 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 23:55:23.333 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:55:23.334 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 3ms reading results.
2024-05-17 23:55:23.336 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:23.336 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:23.336 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:23.338 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-17 23:55:23.338 +01:00 [INF] ----- Commit transaction "3f2485c3-1182-4b04-aeea-268ab78eff63" for DeleteCustomerCommand
2024-05-17 23:55:23.339 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 23:55:23.340 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 23:55:23.342 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 23:55:23.342 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-17 23:55:23.344 +01:00 [DBG] Committing transaction.
2024-05-17 23:55:23.347 +01:00 [DBG] Committed transaction.
2024-05-17 23:55:23.350 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:55:23.356 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (4ms).
2024-05-17 23:55:23.360 +01:00 [DBG] Disposing transaction.
2024-05-17 23:55:23.364 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-17 23:55:23.367 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2497.3001ms.
2024-05-17 23:55:23.367 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:55:23.368 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-17 23:55:23.369 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-17 23:55:23.369 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:55:23.369 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:55:23.370 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:55:23.370 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:55:23.370 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:55:23.371 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:55:23.372 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:55:23.374 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 23:55:23.376 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 23:55:23.378 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-17 23:55:23.378 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 23:55:23.378 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 23:55:23.379 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 23:55:23.379 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-17 23:55:23.384 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 23:55:23.384 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:55:23.385 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:55:23.391 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 2872.734ms
2024-05-17 23:55:23.393 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:55:23.396 +01:00 [ERR] Connection ID "18230571301796315141", Request ID "80000006-0002-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.Object]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-17 23:55:23.428 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 23:55:23.432 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:55:23.434 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-17 23:55:23.434 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - 500 null null 3091.5054ms
2024-05-17 23:55:38.432 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-17 23:55:39.652 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-17 23:55:39.664 +01:00 [DBG] Hosting starting
2024-05-17 23:55:39.957 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-17 23:55:40.085 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-17 23:55:40.094 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-17 23:55:40.094 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-17 23:55:40.095 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-17 23:55:40.102 +01:00 [INF] Hosting environment: Development
2024-05-17 23:55:40.102 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-17 23:55:40.102 +01:00 [DBG] Hosting started
2024-05-17 23:55:40.155 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-17 23:55:40.266 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-17 23:55:40.266 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:55:40.346 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-17 23:55:40.348 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-17 23:55:40.388 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-17 23:55:40.389 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-17 23:55:40.398 +01:00 [DBG] Connection ID "18086456118015426583" disconnecting.
2024-05-17 23:55:40.404 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 249.8796ms
2024-05-17 23:55:40.430 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-17 23:55:40.442 +01:00 [DBG] Connection ID "18302628895834243093" disconnecting.
2024-05-17 23:55:40.443 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.3833ms
2024-05-17 23:55:40.452 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-17 23:55:40.568 +01:00 [DBG] Connection ID "18230571297501347867" disconnecting.
2024-05-17 23:55:40.572 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 120.5565ms
2024-05-17 23:55:40.656 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-17 23:55:40.656 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:55:40.798 +01:00 [DBG] Connection ID "18374686481282236443" disconnecting.
2024-05-17 23:55:40.798 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 142.5245ms
2024-05-17 23:55:47.536 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - null null
2024-05-17 23:55:47.536 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:55:47.542 +01:00 [DBG] DELETE requests are not supported
2024-05-17 23:55:47.562 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 23:55:47.564 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 23:55:47.565 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:55:47.566 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 23:55:47.567 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:55:47.597 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 23:55:47.599 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 23:55:47.600 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 23:55:47.601 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 23:55:47.601 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 23:55:47.617 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 23:55:47.619 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:55:48.013 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-17 23:55:48.045 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:55:48.048 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 23:55:48.050 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 23:55:48.050 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:55:48.050 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:55:48.050 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 23:55:48.057 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 23:55:48.064 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:55:48.064 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:55:48.065 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:55:48.065 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:55:48.065 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:55:48.065 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:55:48.067 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 23:55:48.067 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["02492917-e82f-40dc-4106-08dc759acfaa"])
2024-05-17 23:55:48.094 +01:00 [INF] ----- Handling command Boolean ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:55:48.102 +01:00 [INF] -----Validating command Boolean :
2024-05-17 23:55:48.558 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 23:55:48.559 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 23:55:48.681 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 23:55:48.700 +01:00 [DBG] Creating DbConnection.
2024-05-17 23:55:48.737 +01:00 [DBG] Created DbConnection. (35ms).
2024-05-17 23:55:48.742 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:55:49.290 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:55:49.293 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 23:55:49.299 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 23:55:49.302 +01:00 [INF] ----- Begin transaction "b8de763d-cd4b-46c7-8a42-44dc70bd3edf" for DeleteCustomerCommand ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:55:49.307 +01:00 [INF] ----Request to get customer with unique identifier: "02492917-e82f-40dc-4106-08dc759acfaa"
2024-05-17 23:55:49.374 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-17 23:55:49.417 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-17 23:55:49.417 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-17 23:55:49.584 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-17 23:55:49.611 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 23:55:49.615 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-17 23:55:49.623 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-05-17 23:55:49.628 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:55:49.679 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:55:49.788 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:49.831 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:49.833 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:49.845 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:49.845 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:49.860 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:55:49.863 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 144ms reading results.
2024-05-17 23:55:49.874 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:49.875 +01:00 [INF] ----Deleted customer: "02492917-e82f-40dc-4106-08dc759acfaa", customer 3 softly
2024-05-17 23:55:49.877 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 23:55:49.878 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 23:55:49.894 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 23:55:49.895 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:49.896 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 23:55:49.898 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 23:55:49.919 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:49.969 +01:00 [DBG] Creating transaction savepoint.
2024-05-17 23:55:50.045 +01:00 [DBG] Created transaction savepoint.
2024-05-17 23:55:50.050 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 23:55:50.051 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 23:55:50.068 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-05-17 23:55:50.069 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 23:55:50.103 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 23:55:50.124 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:55:50.124 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 20ms reading results.
2024-05-17 23:55:50.133 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:50.142 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:50.143 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:55:50.145 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-17 23:55:50.146 +01:00 [INF] ----- Commit transaction "b8de763d-cd4b-46c7-8a42-44dc70bd3edf" for DeleteCustomerCommand
2024-05-17 23:55:50.147 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 23:55:50.148 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 23:55:50.149 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 23:55:50.149 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-17 23:55:50.152 +01:00 [DBG] Committing transaction.
2024-05-17 23:55:50.184 +01:00 [DBG] Committed transaction.
2024-05-17 23:55:50.194 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:55:50.207 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (14ms).
2024-05-17 23:55:50.209 +01:00 [DBG] Disposing transaction.
2024-05-17 23:55:50.213 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-17 23:55:50.219 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2147.4252ms.
2024-05-17 23:55:50.223 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:55:50.225 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-17 23:55:50.226 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-17 23:55:50.226 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:55:50.226 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:55:50.226 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:55:50.227 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:55:50.227 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:55:50.228 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:55:50.228 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:55:50.229 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 23:55:50.231 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 23:55:50.233 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-17 23:55:50.233 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 23:55:50.233 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 23:55:50.234 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 23:55:50.234 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-17 23:55:50.242 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 23:55:50.243 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:55:50.243 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:55:50.246 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 2627.0394ms
2024-05-17 23:55:50.247 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:55:50.250 +01:00 [ERR] Connection ID "18374686481282236445", Request ID "8000001e-0000-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.Object]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-17 23:55:50.282 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 23:55:50.297 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:55:50.299 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-17 23:55:50.300 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - 500 null null 2763.7358ms
2024-05-17 23:57:04.382 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-17 23:57:05.621 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-17 23:57:05.629 +01:00 [DBG] Hosting starting
2024-05-17 23:57:05.946 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-17 23:57:06.090 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-17 23:57:06.096 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-17 23:57:06.097 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-17 23:57:06.097 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-17 23:57:06.098 +01:00 [INF] Hosting environment: Development
2024-05-17 23:57:06.098 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-17 23:57:06.098 +01:00 [DBG] Hosting started
2024-05-17 23:57:06.161 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-17 23:57:06.298 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-17 23:57:06.298 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:57:06.411 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-17 23:57:06.413 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-17 23:57:06.457 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-17 23:57:06.458 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-17 23:57:06.477 +01:00 [DBG] Connection ID "18302628917309079559" disconnecting.
2024-05-17 23:57:06.478 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-17 23:57:06.491 +01:00 [DBG] Connection ID "18374686502757072908" disconnecting.
2024-05-17 23:57:06.498 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-17 23:57:06.484 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 329.0544ms
2024-05-17 23:57:06.485 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.3527ms
2024-05-17 23:57:06.574 +01:00 [DBG] Connection ID "18302628913014112283" disconnecting.
2024-05-17 23:57:06.575 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.3341ms
2024-05-17 23:57:06.621 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-17 23:57:06.621 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:57:06.787 +01:00 [DBG] Connection ID "18374686502757072910" disconnecting.
2024-05-17 23:57:06.787 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.5695ms
2024-05-17 23:57:13.089 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - null null
2024-05-17 23:57:13.090 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:57:13.092 +01:00 [DBG] DELETE requests are not supported
2024-05-17 23:57:13.110 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 23:57:13.112 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 23:57:13.113 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:57:13.113 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 23:57:13.114 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:57:13.138 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Controllers.Test] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 23:57:13.140 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 23:57:13.140 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 23:57:13.140 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 23:57:13.141 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 23:57:13.141 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 23:57:13.143 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:57:13.416 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-17 23:57:13.441 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:57:13.445 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 23:57:13.451 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 23:57:13.453 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:57:13.453 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:57:13.454 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 23:57:13.455 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 23:57:13.457 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:57:13.457 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:57:13.457 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:57:13.457 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:57:13.458 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:57:13.458 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:57:13.463 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 23:57:13.463 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["02492917-e82f-40dc-4106-08dc759acfaa"])
2024-05-17 23:57:13.553 +01:00 [INF] ----- Handling command Boolean ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:57:13.562 +01:00 [INF] -----Validating command Boolean :
2024-05-17 23:57:14.212 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 23:57:14.212 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-17 23:57:14.428 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 23:57:14.447 +01:00 [DBG] Creating DbConnection.
2024-05-17 23:57:14.478 +01:00 [DBG] Created DbConnection. (28ms).
2024-05-17 23:57:14.481 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:57:14.925 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:57:14.929 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 23:57:14.956 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 23:57:14.961 +01:00 [INF] ----- Begin transaction "560ee0b5-67c8-46d3-90c9-709436bac962" for DeleteCustomerCommand ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:57:14.963 +01:00 [INF] ----Request to get customer with unique identifier: "02492917-e82f-40dc-4106-08dc759acfaa"
2024-05-17 23:57:15.042 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-17 23:57:15.112 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-17 23:57:15.113 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-17 23:57:15.327 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-17 23:57:15.388 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 23:57:15.398 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-05-17 23:57:15.421 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2024-05-17 23:57:15.441 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:57:15.530 +01:00 [INF] Executed DbCommand (98ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:57:15.645 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:15.720 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:15.723 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:15.772 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:15.773 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:15.792 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:57:15.797 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 212ms reading results.
2024-05-17 23:57:15.828 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:15.930 +01:00 [DBG] A cascade state change of an entity of type 'Adress' to '"Deleted"' occurred due to deletion of its parent entity of type 'Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:15.930 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:15.962 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 23:57:15.963 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:15.966 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 23:57:15.976 +01:00 [DBG] A cascade state change of an entity of type 'AudityInfo' to '"Deleted"' occurred due to deletion of its parent entity of type 'Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:15.976 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:15.976 +01:00 [INF] ----Deleted customer: "02492917-e82f-40dc-4106-08dc759acfaa", customer 3 permanently
2024-05-17 23:57:15.980 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 23:57:15.992 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 23:57:16.009 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 23:57:16.156 +01:00 [DBG] Creating transaction savepoint.
2024-05-17 23:57:16.176 +01:00 [DBG] Created transaction savepoint.
2024-05-17 23:57:16.180 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 23:57:16.181 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 23:57:16.181 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-17 23:57:16.181 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [customerContext].[Customers]
OUTPUT 1
WHERE [ID] = @p0;
2024-05-17 23:57:16.190 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [customerContext].[Customers]
OUTPUT 1
WHERE [ID] = @p0;
2024-05-17 23:57:16.194 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:57:16.195 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 4ms reading results.
2024-05-17 23:57:16.207 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:16.208 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:16.208 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:57:16.210 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-17 23:57:16.210 +01:00 [INF] ----- Commit transaction "560ee0b5-67c8-46d3-90c9-709436bac962" for DeleteCustomerCommand
2024-05-17 23:57:16.211 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 23:57:16.212 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 23:57:16.212 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 23:57:16.212 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-17 23:57:16.218 +01:00 [DBG] Committing transaction.
2024-05-17 23:57:16.224 +01:00 [DBG] Committed transaction.
2024-05-17 23:57:16.226 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:57:16.237 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (9ms).
2024-05-17 23:57:16.238 +01:00 [DBG] Disposing transaction.
2024-05-17 23:57:16.241 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-17 23:57:16.245 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2779.3298ms.
2024-05-17 23:57:16.246 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:57:16.247 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-17 23:57:16.247 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-17 23:57:16.248 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:57:16.248 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:57:16.248 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:57:16.251 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:57:16.251 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:57:16.253 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:57:16.253 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:57:16.254 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 23:57:16.255 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 23:57:16.257 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-17 23:57:16.257 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 23:57:16.257 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 23:57:16.258 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 23:57:16.258 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-17 23:57:16.269 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 23:57:16.269 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:57:16.269 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:57:16.273 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 3129.3059ms
2024-05-17 23:57:16.274 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:57:16.279 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 23:57:16.287 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:57:16.288 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-17 23:57:16.289 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - 201 null application/json; charset=utf-8 3199.5873ms
2024-05-17 23:57:58.017 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - null null
2024-05-17 23:57:58.018 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:57:58.019 +01:00 [DBG] DELETE requests are not supported
2024-05-17 23:57:58.019 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 23:57:58.020 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/02492917-E82F-40DC-4106-08DC759ACFAA'
2024-05-17 23:57:58.020 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:57:58.020 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 23:57:58.020 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:57:58.021 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Controllers.Test] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 23:57:58.022 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 23:57:58.022 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 23:57:58.023 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 23:57:58.023 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 23:57:58.023 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 23:57:58.023 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:57:58.025 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:57:58.025 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 23:57:58.026 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 23:57:58.026 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:57:58.027 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:57:58.027 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 23:57:58.027 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 23:57:58.027 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:57:58.027 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:57:58.027 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:57:58.028 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:57:58.028 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:57:58.028 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:57:58.028 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 23:57:58.028 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["02492917-e82f-40dc-4106-08dc759acfaa"])
2024-05-17 23:57:58.034 +01:00 [INF] ----- Handling command Boolean ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:57:58.034 +01:00 [INF] -----Validating command Boolean :
2024-05-17 23:57:58.072 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 23:57:58.074 +01:00 [DBG] Creating DbConnection.
2024-05-17 23:57:58.075 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-17 23:57:58.075 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:57:58.077 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:57:58.077 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 23:57:58.078 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 23:57:58.079 +01:00 [INF] ----- Begin transaction "695fba66-1898-4679-9a5b-6838908418e3" for DeleteCustomerCommand ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:57:58.079 +01:00 [INF] ----Request to get customer with unique identifier: "02492917-e82f-40dc-4106-08dc759acfaa"
2024-05-17 23:57:58.087 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 23:57:58.087 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 23:57:58.087 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-17 23:57:58.088 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:57:58.091 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:57:58.092 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:57:58.092 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-17 23:57:58.092 +01:00 [ERR] ----Coudn't find the customer with unique identifier: "02492917-e82f-40dc-4106-08dc759acfaa"
2024-05-17 23:57:58.211 +01:00 [DBG] Disposing transaction.
2024-05-17 23:57:58.212 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:57:58.212 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-17 23:57:58.337 +01:00 [ERR] ERROR Handling transaction for DeleteCustomerCommand ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
CustomerMan.Domain.DomainExceptions.CustomerManDomainException: Customer doesn't exists
   at CustomerMan.API.Application.Commands.CustomerCommands.DeleteCustomerCommandHandler.Handle(DeleteCustomerCommand request, CancellationToken cancellationToken) in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Commands\CustomerCommands\DeleteCustomerCommandHandler.cs:line 31
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.<>c__DisplayClass3_0.<<Handle>b__0>d.MoveNext() in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Behaviors\TransactionBehavior.cs:line 31
--- End of stack trace from previous location ---
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.<>c__DisplayClass3_0.<<Handle>b__0>d.MoveNext() in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Behaviors\TransactionBehavior.cs:line 35
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Behaviors\TransactionBehavior.cs:line 25
2024-05-17 23:57:58.720 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:57:58.720 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-17 23:57:58.720 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:57:58.720 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:57:58.720 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:57:58.720 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:57:58.720 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:57:58.721 +01:00 [VRB] Exception Filter: Before executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-17 23:58:35.141 +01:00 [ERR] @exceptionRoot
2024-05-17 23:58:35.141 +01:00 [VRB] Exception Filter: After executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-17 23:58:35.142 +01:00 [DBG] Request was short circuited at exception filter 'CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter'.
2024-05-17 23:58:35.143 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:58:35.143 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:58:35.143 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 23:58:35.144 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-17 23:58:35.146 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-17 23:58:35.146 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-17 23:58:35.146 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-17 23:58:35.147 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-17 23:58:35.147 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[SharedKernel.Exceptions.ExceptionRoot, SharedKernel, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-17 23:58:35.173 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-17 23:58:35.173 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:58:35.173 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-17 23:58:35.173 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 37150.063ms
2024-05-17 23:58:35.174 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:58:35.174 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-17 23:58:35.174 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:58:35.174 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-17 23:58:35.175 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-E82F-40DC-4106-08DC759ACFAA - 200 null application/json; charset=utf-8 37158.3501ms
2024-05-17 23:58:46.340 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA - null null
2024-05-17 23:58:46.340 +01:00 [VRB] All hosts are allowed.
2024-05-17 23:58:46.341 +01:00 [DBG] DELETE requests are not supported
2024-05-17 23:58:46.341 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA'
2024-05-17 23:58:46.342 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA'
2024-05-17 23:58:46.342 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:58:46.342 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-17 23:58:46.342 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-17 23:58:46.342 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Controllers.Test] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-17 23:58:46.344 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-17 23:58:46.344 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-17 23:58:46.344 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-17 23:58:46.344 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-17 23:58:46.344 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-17 23:58:46.345 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:58:46.346 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-17 23:58:46.346 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-17 23:58:46.347 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-17 23:58:46.347 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:58:46.347 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-17 23:58:46.347 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-17 23:58:46.347 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-17 23:58:46.347 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:58:46.347 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-17 23:58:46.347 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:58:46.347 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-17 23:58:46.347 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:58:46.347 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:58:46.347 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-17 23:58:46.347 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["7ed07af7-8a97-4c02-4108-08dc759acfaa"])
2024-05-17 23:58:46.348 +01:00 [INF] ----- Handling command Boolean ({"Id":"7ed07af7-8a97-4c02-4108-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:58:46.348 +01:00 [INF] -----Validating command Boolean :
2024-05-17 23:58:46.436 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-17 23:58:46.442 +01:00 [DBG] Creating DbConnection.
2024-05-17 23:58:46.442 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-17 23:58:46.442 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:58:46.442 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:58:46.442 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-17 23:58:46.442 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-17 23:58:46.443 +01:00 [INF] ----- Begin transaction "5fa59976-e02d-44f6-a3fd-c600f3bf246e" for DeleteCustomerCommand ({"Id":"7ed07af7-8a97-4c02-4108-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-17 23:58:46.443 +01:00 [INF] ----Request to get customer with unique identifier: "7ed07af7-8a97-4c02-4108-08dc759acfaa"
2024-05-17 23:58:46.447 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 23:58:46.447 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 23:58:46.447 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-17 23:58:46.447 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:58:46.451 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-17 23:58:46.451 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:58:46.451 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:58:46.452 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:58:46.452 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:58:46.452 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:58:46.452 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:58:46.452 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 1ms reading results.
2024-05-17 23:58:46.454 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:58:46.454 +01:00 [INF] ----Deleted customer: "7ed07af7-8a97-4c02-4108-08dc759acfaa", customer 5 softly
2024-05-17 23:58:46.454 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 23:58:46.454 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 23:58:46.457 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 23:58:46.457 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:58:46.458 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-17 23:58:46.458 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 23:58:46.464 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:58:46.472 +01:00 [DBG] Creating transaction savepoint.
2024-05-17 23:58:46.474 +01:00 [DBG] Created transaction savepoint.
2024-05-17 23:58:46.474 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-17 23:58:46.474 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-17 23:58:46.476 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-17 23:58:46.476 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 23:58:46.483 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-17 23:58:46.484 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:58:46.484 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-17 23:58:46.485 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:58:46.486 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:58:46.486 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-17 23:58:46.486 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-17 23:58:46.486 +01:00 [INF] ----- Commit transaction "5fa59976-e02d-44f6-a3fd-c600f3bf246e" for DeleteCustomerCommand
2024-05-17 23:58:46.487 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-17 23:58:46.487 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-17 23:58:46.487 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-17 23:58:46.487 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-17 23:58:46.487 +01:00 [DBG] Committing transaction.
2024-05-17 23:58:46.488 +01:00 [DBG] Committed transaction.
2024-05-17 23:58:46.488 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-17 23:58:46.488 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-17 23:58:46.488 +01:00 [DBG] Disposing transaction.
2024-05-17 23:58:46.488 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-17 23:58:46.489 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 141.2845ms.
2024-05-17 23:58:46.489 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-17 23:58:46.489 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
