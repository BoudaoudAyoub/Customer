2024-05-16 12:24:25.156 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-16 12:24:30.024 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-16 12:24:30.034 +01:00 [DBG] Hosting starting
2024-05-16 12:24:31.054 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-16 12:24:31.618 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-16 12:24:31.619 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-16 12:24:31.619 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-16 12:24:31.620 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-16 12:24:31.620 +01:00 [INF] Hosting environment: Development
2024-05-16 12:24:31.621 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-16 12:24:31.621 +01:00 [DBG] Hosting started
2024-05-16 12:24:32.113 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-16 12:24:32.649 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-16 12:24:32.649 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:24:32.846 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-16 12:24:32.850 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-16 12:24:32.925 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-16 12:24:32.927 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-16 12:24:32.939 +01:00 [DBG] Connection ID "18374686498462105605" disconnecting.
2024-05-16 12:24:32.946 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 887.1901ms
2024-05-16 12:24:33.008 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-16 12:24:33.026 +01:00 [DBG] Connection ID "18374686498462105607" disconnecting.
2024-05-16 12:24:33.029 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 9.5158ms
2024-05-16 12:24:33.213 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-16 12:24:33.403 +01:00 [DBG] Connection ID "18158513712053354497" disconnecting.
2024-05-16 12:24:33.414 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 200.7492ms
2024-05-16 12:24:34.087 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-16 12:24:34.087 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:24:34.202 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/favicon-32x32.png - null null
2024-05-16 12:24:34.202 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:24:34.209 +01:00 [VRB] Range header's value is empty.
2024-05-16 12:24:34.226 +01:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-16 12:24:34.227 +01:00 [DBG] Connection ID "18374686485577203718" disconnecting.
2024-05-16 12:24:34.228 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/favicon-32x32.png - 200 628 image/png 25.763ms
2024-05-16 12:24:34.386 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 299.3761ms
2024-05-16 12:24:34.615 +01:00 [DBG] Connection ID "18374686502757072897" disconnecting.
2024-05-16 12:24:48.073 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44325/Customers - application/json 260
2024-05-16 12:24:48.074 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:24:48.075 +01:00 [DBG] POST requests are not supported
2024-05-16 12:24:48.131 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2024-05-16 12:24:48.137 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2024-05-16 12:24:48.140 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:24:48.142 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:24:48.145 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:24:48.233 +01:00 [INF] Route matched with {action = "CreateCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Application.Models.CustomerModels.CustomerModel] CreateCustomer(CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:24:48.236 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:24:48.236 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:24:48.237 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:24:48.237 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:24:48.238 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:24:48.242 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:24:49.178 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-16 12:24:49.231 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:24:49.242 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:24:49.249 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' using the name '' in request data ...
2024-05-16 12:24:49.251 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-16 12:24:49.289 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'
2024-05-16 12:24:49.290 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:24:49.290 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:24:49.291 +01:00 [DBG] Attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:24:49.317 +01:00 [DBG] Done attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:24:49.320 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:24:49.321 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:24:49.321 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:24:49.322 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:24:49.322 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:24:49.322 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:24:49.331 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:24:49.333 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with arguments (["CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel"])
2024-05-16 12:24:49.406 +01:00 [INF] ----- Handling command CustomerModel ({"Id":"00000000-0000-0000-0000-000000000000","Name":"User1","ContactEmail":"User1@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:24:49.443 +01:00 [INF] -----Validating command CustomerModel :
2024-05-16 12:24:51.384 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-16 12:24:51.385 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-16 12:24:51.806 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:24:51.854 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:24:51.939 +01:00 [DBG] Created DbConnection. (83ms).
2024-05-16 12:24:51.946 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:24:53.535 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:24:53.555 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-16 12:24:53.627 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-16 12:24:53.647 +01:00 [INF] ----- Begin transaction "a961d3ae-da3f-454c-a8cc-aef121784b76" for CreateCustomerCommand ({"Id":"00000000-0000-0000-0000-000000000000","Name":"User1","ContactEmail":"User1@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:24:53.930 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Any(x => x.Name.ToLower().Equals(__ToLower_0))'
2024-05-16 12:24:54.291 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM customerContext.Customers AS c
                WHERE LOWER(c.Name) == @__ToLower_0)), 
        ReaderColumn[] { ReaderColumn<bool> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-16 12:24:54.371 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:24:54.387 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2024-05-16 12:24:54.405 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2024-05-16 12:24:54.419 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:24:54.607 +01:00 [INF] Executed DbCommand (185ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:24:54.723 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:24:54.735 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 17ms reading results.
2024-05-16 12:24:54.940 +01:00 [DBG] 'CustomerManDbContext' generated a value for the property 'Customer.ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:24:55.120 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:24:55.185 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:24:55.211 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:24:55.214 +01:00 [INF] ----- CreateCustomer new customer - customer: {"Id":"00000000-0000-0000-0000-000000000000","Name":"User1","ContactEmail":"User1@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"}
2024-05-16 12:24:55.220 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:24:55.226 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:24:55.275 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:24:55.405 +01:00 [DBG] Creating transaction savepoint.
2024-05-16 12:24:55.431 +01:00 [DBG] Created transaction savepoint.
2024-05-16 12:24:55.436 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:24:55.436 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:24:55.438 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-16 12:24:55.439 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:24:55.455 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:24:55.464 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:24:55.464 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 8ms reading results.
2024-05-16 12:24:55.480 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:24:55.480 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:24:55.481 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:24:55.483 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-16 12:24:55.490 +01:00 [INF] ----- Commit transaction "a961d3ae-da3f-454c-a8cc-aef121784b76" for CreateCustomerCommand
2024-05-16 12:24:55.496 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:24:55.496 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:24:55.496 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:24:55.496 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-16 12:24:55.501 +01:00 [DBG] Committing transaction.
2024-05-16 12:24:55.603 +01:00 [DBG] Committed transaction.
2024-05-16 12:24:55.608 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:24:55.621 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (12ms).
2024-05-16 12:24:55.623 +01:00 [DBG] Disposing transaction.
2024-05-16 12:24:55.631 +01:00 [INF] ----- Command CustomerModel handled - response: {"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"User1","ContactEmail":"User1@test.com","Description":"string","PhoneNumber":"+212695666067","Adress":{"City":"Kenitra","State":"-","Street":"153","Country":"","ZipCode":"14000","$type":"AdressModel"},"$type":"CustomerModel"}
2024-05-16 12:24:55.638 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6300.3737ms.
2024-05-16 12:24:55.639 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:24:55.641 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with parameters:
2024-05-16 12:24:55.644 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-16 12:24:55.645 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:24:55.645 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:24:55.645 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:24:55.646 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:24:55.646 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:24:55.648 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:24:55.648 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:24:55.649 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:24:55.651 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:24:55.659 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:24:55.660 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:24:55.661 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:24:55.663 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:24:55.664 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:24:55.683 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:24:55.683 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:24:55.683 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:24:55.689 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) in 7446.9894ms
2024-05-16 12:24:55.690 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:24:55.697 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:24:55.703 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:24:55.704 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-16 12:24:55.705 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44325/Customers - 201 null application/json; charset=utf-8 7631.8961ms
2024-05-16 12:25:08.371 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44325/Customers - application/json 269
2024-05-16 12:25:08.371 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:25:08.372 +01:00 [DBG] POST requests are not supported
2024-05-16 12:25:08.372 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2024-05-16 12:25:08.373 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2024-05-16 12:25:08.373 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:08.373 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:25:08.373 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:08.374 +01:00 [INF] Route matched with {action = "CreateCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Application.Models.CustomerModels.CustomerModel] CreateCustomer(CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:25:08.374 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:25:08.374 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:25:08.375 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:25:08.375 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:25:08.375 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:25:08.375 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:08.378 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:08.379 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:08.380 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' using the name '' in request data ...
2024-05-16 12:25:08.380 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-16 12:25:08.381 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'
2024-05-16 12:25:08.381 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:08.381 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:08.381 +01:00 [DBG] Attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:08.382 +01:00 [DBG] Done attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:08.382 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:08.382 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:08.382 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:08.382 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:08.382 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:08.382 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:08.382 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:25:08.382 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with arguments (["CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel"])
2024-05-16 12:25:08.386 +01:00 [INF] ----- Handling command CustomerModel ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 2","ContactEmail":"customer2@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:08.386 +01:00 [INF] -----Validating command CustomerModel :
2024-05-16 12:25:08.410 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:25:08.413 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:25:08.414 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-16 12:25:08.414 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:08.416 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:08.416 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-16 12:25:08.417 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-16 12:25:08.417 +01:00 [INF] ----- Begin transaction "9c774f02-5118-4b48-b9b2-8c104c48b6ba" for CreateCustomerCommand ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 2","ContactEmail":"customer2@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:08.423 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:08.423 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:08.423 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:08.424 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:08.439 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:08.440 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:08.440 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:08.444 +01:00 [DBG] 'CustomerManDbContext' generated a value for the property 'Customer.ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:08.445 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:08.445 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:08.446 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:08.446 +01:00 [INF] ----- CreateCustomer new customer - customer: {"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 2","ContactEmail":"customer2@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"}
2024-05-16 12:25:08.446 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:08.446 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:08.447 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:08.449 +01:00 [DBG] Creating transaction savepoint.
2024-05-16 12:25:08.451 +01:00 [DBG] Created transaction savepoint.
2024-05-16 12:25:08.451 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:08.451 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:08.451 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:08.451 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:08.455 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:08.456 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:08.456 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:08.456 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:08.456 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:08.457 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:08.457 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-16 12:25:08.457 +01:00 [INF] ----- Commit transaction "9c774f02-5118-4b48-b9b2-8c104c48b6ba" for CreateCustomerCommand
2024-05-16 12:25:08.457 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:08.457 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:08.457 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:08.457 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-16 12:25:08.458 +01:00 [DBG] Committing transaction.
2024-05-16 12:25:08.460 +01:00 [DBG] Committed transaction.
2024-05-16 12:25:08.460 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:08.461 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-16 12:25:08.461 +01:00 [DBG] Disposing transaction.
2024-05-16 12:25:08.463 +01:00 [INF] ----- Command CustomerModel handled - response: {"Id":"7f2ba67c-b638-487c-4105-08dc759acfaa","Name":"customer 2","ContactEmail":"customer2@test.com","Description":"string","PhoneNumber":"+212695666067","Adress":{"City":"Kenitra","State":"-","Street":"153","Country":"","ZipCode":"14000","$type":"AdressModel"},"$type":"CustomerModel"}
2024-05-16 12:25:08.463 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 80.6007ms.
2024-05-16 12:25:08.463 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:08.463 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with parameters:
2024-05-16 12:25:08.463 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-16 12:25:08.463 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:08.464 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:08.464 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:08.464 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:08.464 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:08.464 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:08.464 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:08.464 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:08.464 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:25:08.465 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:25:08.465 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:25:08.465 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:25:08.465 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:25:08.465 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:25:08.467 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:08.467 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:08.467 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:08.467 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) in 92.0571ms
2024-05-16 12:25:08.467 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:08.468 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:25:08.468 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:08.468 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-16 12:25:08.468 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44325/Customers - 201 null application/json; charset=utf-8 97.3936ms
2024-05-16 12:25:14.300 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44325/Customers - application/json 269
2024-05-16 12:25:14.300 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:25:14.301 +01:00 [DBG] POST requests are not supported
2024-05-16 12:25:14.302 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2024-05-16 12:25:14.302 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2024-05-16 12:25:14.302 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:14.302 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:25:14.302 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:14.302 +01:00 [INF] Route matched with {action = "CreateCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Application.Models.CustomerModels.CustomerModel] CreateCustomer(CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:25:14.303 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:25:14.303 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:25:14.303 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:25:14.303 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:25:14.303 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:25:14.303 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:14.304 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:14.304 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:14.305 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' using the name '' in request data ...
2024-05-16 12:25:14.305 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-16 12:25:14.305 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'
2024-05-16 12:25:14.305 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:14.305 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:14.305 +01:00 [DBG] Attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:14.305 +01:00 [DBG] Done attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:14.305 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:14.305 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:14.305 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:14.305 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:14.305 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:14.305 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:14.306 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:25:14.306 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with arguments (["CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel"])
2024-05-16 12:25:14.306 +01:00 [INF] ----- Handling command CustomerModel ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 3","ContactEmail":"customer3@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:14.306 +01:00 [INF] -----Validating command CustomerModel :
2024-05-16 12:25:14.422 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:25:14.435 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:25:14.435 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-16 12:25:14.435 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:14.435 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:14.435 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-16 12:25:14.436 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-16 12:25:14.436 +01:00 [INF] ----- Begin transaction "2355fc1b-b2bc-4d64-a5f6-e855f9cf4514" for CreateCustomerCommand ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 3","ContactEmail":"customer3@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:14.438 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:14.439 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:14.439 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:14.439 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:14.447 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:14.448 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:14.448 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:14.448 +01:00 [DBG] 'CustomerManDbContext' generated a value for the property 'Customer.ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:14.449 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:14.449 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:14.450 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:14.450 +01:00 [INF] ----- CreateCustomer new customer - customer: {"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 3","ContactEmail":"customer3@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"}
2024-05-16 12:25:14.450 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:14.450 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:14.450 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:14.451 +01:00 [DBG] Creating transaction savepoint.
2024-05-16 12:25:14.454 +01:00 [DBG] Created transaction savepoint.
2024-05-16 12:25:14.454 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:14.454 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:14.455 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:14.455 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:14.461 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:14.461 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:14.461 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:14.462 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:14.462 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:14.462 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:14.462 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-16 12:25:14.462 +01:00 [INF] ----- Commit transaction "2355fc1b-b2bc-4d64-a5f6-e855f9cf4514" for CreateCustomerCommand
2024-05-16 12:25:14.462 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:14.462 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:14.463 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:14.463 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-16 12:25:14.463 +01:00 [DBG] Committing transaction.
2024-05-16 12:25:14.463 +01:00 [DBG] Committed transaction.
2024-05-16 12:25:14.464 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:14.464 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-16 12:25:14.464 +01:00 [DBG] Disposing transaction.
2024-05-16 12:25:14.464 +01:00 [INF] ----- Command CustomerModel handled - response: {"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"customer 3","ContactEmail":"customer3@test.com","Description":"string","PhoneNumber":"+212695666067","Adress":{"City":"Kenitra","State":"-","Street":"153","Country":"","ZipCode":"14000","$type":"AdressModel"},"$type":"CustomerModel"}
2024-05-16 12:25:14.464 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 158.5147ms.
2024-05-16 12:25:14.464 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:14.464 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with parameters:
2024-05-16 12:25:14.464 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-16 12:25:14.465 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:14.465 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:14.465 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:14.465 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:14.465 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:14.465 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:14.465 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:14.465 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:14.465 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:25:14.465 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:25:14.465 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:25:14.465 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:25:14.465 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:25:14.465 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:25:14.466 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:14.466 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:14.466 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:14.467 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) in 163.5978ms
2024-05-16 12:25:14.467 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:14.467 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:25:14.467 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:14.467 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-16 12:25:14.467 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44325/Customers - 201 null application/json; charset=utf-8 167.1351ms
2024-05-16 12:25:28.544 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44325/Customers - application/json 269
2024-05-16 12:25:28.544 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:25:28.544 +01:00 [DBG] POST requests are not supported
2024-05-16 12:25:28.544 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2024-05-16 12:25:28.544 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2024-05-16 12:25:28.544 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:28.544 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:25:28.544 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:28.544 +01:00 [INF] Route matched with {action = "CreateCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Application.Models.CustomerModels.CustomerModel] CreateCustomer(CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:25:28.544 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:25:28.544 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:25:28.544 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:25:28.544 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:25:28.544 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:25:28.545 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:28.545 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:28.545 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:28.545 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' using the name '' in request data ...
2024-05-16 12:25:28.545 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-16 12:25:28.546 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'
2024-05-16 12:25:28.546 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:28.546 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:28.546 +01:00 [DBG] Attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:28.547 +01:00 [DBG] Done attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:28.548 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:28.548 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:28.548 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:28.548 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:28.548 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:28.548 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:28.549 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:25:28.549 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with arguments (["CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel"])
2024-05-16 12:25:28.549 +01:00 [INF] ----- Handling command CustomerModel ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 4","ContactEmail":"customer4@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:28.550 +01:00 [INF] -----Validating command CustomerModel :
2024-05-16 12:25:28.551 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:25:28.551 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:25:28.551 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-16 12:25:28.551 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:28.551 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:28.551 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-16 12:25:28.553 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-16 12:25:28.553 +01:00 [INF] ----- Begin transaction "408e4475-518f-4219-9490-9464b80eb84b" for CreateCustomerCommand ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 4","ContactEmail":"customer4@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:28.554 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:28.554 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:28.554 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:28.554 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:28.565 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:28.566 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:28.566 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:28.567 +01:00 [DBG] 'CustomerManDbContext' generated a value for the property 'Customer.ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:28.567 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:28.567 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:28.568 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:28.568 +01:00 [INF] ----- CreateCustomer new customer - customer: {"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 4","ContactEmail":"customer4@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"}
2024-05-16 12:25:28.568 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:28.568 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:28.568 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:28.569 +01:00 [DBG] Creating transaction savepoint.
2024-05-16 12:25:28.570 +01:00 [DBG] Created transaction savepoint.
2024-05-16 12:25:28.570 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:28.570 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:28.570 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:28.570 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:28.578 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:28.578 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:28.578 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:28.578 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:28.578 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:28.578 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:28.579 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-16 12:25:28.579 +01:00 [INF] ----- Commit transaction "408e4475-518f-4219-9490-9464b80eb84b" for CreateCustomerCommand
2024-05-16 12:25:28.579 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:28.579 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:28.579 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:28.579 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-16 12:25:28.579 +01:00 [DBG] Committing transaction.
2024-05-16 12:25:28.581 +01:00 [DBG] Committed transaction.
2024-05-16 12:25:28.581 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:28.581 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-16 12:25:28.581 +01:00 [DBG] Disposing transaction.
2024-05-16 12:25:28.581 +01:00 [INF] ----- Command CustomerModel handled - response: {"Id":"35e6cf3e-d4cf-40de-4107-08dc759acfaa","Name":"customer 4","ContactEmail":"customer4@test.com","Description":"string","PhoneNumber":"+212695666067","Adress":{"City":"Kenitra","State":"-","Street":"153","Country":"","ZipCode":"14000","$type":"AdressModel"},"$type":"CustomerModel"}
2024-05-16 12:25:28.582 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.4859ms.
2024-05-16 12:25:28.582 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:28.582 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with parameters:
2024-05-16 12:25:28.582 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-16 12:25:28.582 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:28.582 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:28.582 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:28.582 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:28.582 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:28.582 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:28.582 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:28.582 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:28.582 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:25:28.582 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:25:28.582 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:25:28.582 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:25:28.582 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:25:28.582 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:25:28.583 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:28.583 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:28.583 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:28.583 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) in 38.6454ms
2024-05-16 12:25:28.583 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:28.584 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:25:28.584 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:28.584 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-16 12:25:28.584 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44325/Customers - 201 null application/json; charset=utf-8 40.4933ms
2024-05-16 12:25:33.302 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44325/Customers - application/json 269
2024-05-16 12:25:33.303 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:25:33.303 +01:00 [DBG] POST requests are not supported
2024-05-16 12:25:33.303 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2024-05-16 12:25:33.303 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2024-05-16 12:25:33.303 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:33.303 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:25:33.303 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:33.303 +01:00 [INF] Route matched with {action = "CreateCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Application.Models.CustomerModels.CustomerModel] CreateCustomer(CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:25:33.303 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:25:33.303 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:25:33.303 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:25:33.303 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:25:33.303 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:25:33.303 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:33.304 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:33.304 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:33.304 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' using the name '' in request data ...
2024-05-16 12:25:33.304 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-16 12:25:33.304 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'
2024-05-16 12:25:33.304 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:33.304 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:33.304 +01:00 [DBG] Attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:33.304 +01:00 [DBG] Done attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:33.304 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:33.304 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:33.304 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:33.304 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:33.304 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:33.304 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:33.304 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:25:33.305 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with arguments (["CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel"])
2024-05-16 12:25:33.305 +01:00 [INF] ----- Handling command CustomerModel ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 5","ContactEmail":"customer5@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:33.305 +01:00 [INF] -----Validating command CustomerModel :
2024-05-16 12:25:33.306 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:25:33.306 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:25:33.306 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-16 12:25:33.306 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:33.306 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:33.306 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-16 12:25:33.309 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-16 12:25:33.310 +01:00 [INF] ----- Begin transaction "650ddab2-2dd5-44e6-8500-7713f4974195" for CreateCustomerCommand ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 5","ContactEmail":"customer5@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:33.310 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:33.311 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:33.311 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:33.311 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:33.332 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:33.332 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:33.332 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:33.333 +01:00 [DBG] 'CustomerManDbContext' generated a value for the property 'Customer.ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:33.333 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:33.333 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:33.333 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:33.333 +01:00 [INF] ----- CreateCustomer new customer - customer: {"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 5","ContactEmail":"customer5@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"}
2024-05-16 12:25:33.333 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:33.333 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:33.333 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:33.337 +01:00 [DBG] Creating transaction savepoint.
2024-05-16 12:25:33.338 +01:00 [DBG] Created transaction savepoint.
2024-05-16 12:25:33.339 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:33.339 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:33.339 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:33.339 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:33.348 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:33.349 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:33.349 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:33.349 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:33.349 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:33.349 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:33.349 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-16 12:25:33.349 +01:00 [INF] ----- Commit transaction "650ddab2-2dd5-44e6-8500-7713f4974195" for CreateCustomerCommand
2024-05-16 12:25:33.349 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:33.349 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:33.350 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:33.350 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-16 12:25:33.350 +01:00 [DBG] Committing transaction.
2024-05-16 12:25:33.352 +01:00 [DBG] Committed transaction.
2024-05-16 12:25:33.352 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:33.352 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-16 12:25:33.352 +01:00 [DBG] Disposing transaction.
2024-05-16 12:25:33.352 +01:00 [INF] ----- Command CustomerModel handled - response: {"Id":"7ed07af7-8a97-4c02-4108-08dc759acfaa","Name":"customer 5","ContactEmail":"customer5@test.com","Description":"string","PhoneNumber":"+212695666067","Adress":{"City":"Kenitra","State":"-","Street":"153","Country":"","ZipCode":"14000","$type":"AdressModel"},"$type":"CustomerModel"}
2024-05-16 12:25:33.352 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 47.7014ms.
2024-05-16 12:25:33.352 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:33.352 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with parameters:
2024-05-16 12:25:33.352 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-16 12:25:33.353 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:33.353 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:33.353 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:33.353 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:33.353 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:33.353 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:33.353 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:33.353 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:33.353 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:25:33.353 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:25:33.353 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:25:33.353 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:25:33.353 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:25:33.353 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:25:33.355 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:33.355 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:33.355 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:33.355 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) in 52.0921ms
2024-05-16 12:25:33.355 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:33.356 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:25:33.356 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:33.356 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-16 12:25:33.356 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44325/Customers - 201 null application/json; charset=utf-8 53.5843ms
2024-05-16 12:25:39.169 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44325/Customers - application/json 269
2024-05-16 12:25:39.169 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:25:39.169 +01:00 [DBG] POST requests are not supported
2024-05-16 12:25:39.169 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2024-05-16 12:25:39.169 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2024-05-16 12:25:39.169 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:39.169 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:25:39.169 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:39.170 +01:00 [INF] Route matched with {action = "CreateCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Application.Models.CustomerModels.CustomerModel] CreateCustomer(CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:25:39.170 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:25:39.170 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:25:39.170 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:25:39.170 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:25:39.170 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:25:39.170 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:39.171 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:39.171 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:39.171 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' using the name '' in request data ...
2024-05-16 12:25:39.171 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-16 12:25:39.171 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'
2024-05-16 12:25:39.171 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:39.171 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:39.171 +01:00 [DBG] Attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:39.171 +01:00 [DBG] Done attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:39.172 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:39.172 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:39.172 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:39.172 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:39.172 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:39.172 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:39.172 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:25:39.172 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with arguments (["CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel"])
2024-05-16 12:25:39.172 +01:00 [INF] ----- Handling command CustomerModel ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 6","ContactEmail":"customer6@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:39.173 +01:00 [INF] -----Validating command CustomerModel :
2024-05-16 12:25:39.177 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:25:39.177 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:25:39.177 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-16 12:25:39.177 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:39.177 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:39.178 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-16 12:25:39.178 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-16 12:25:39.178 +01:00 [INF] ----- Begin transaction "b74dd1eb-d4c0-4057-a9a8-d7f7c47b9df9" for CreateCustomerCommand ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 6","ContactEmail":"customer6@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:39.179 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:39.180 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:39.180 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:39.180 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:39.188 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:39.188 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:39.188 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:39.189 +01:00 [DBG] 'CustomerManDbContext' generated a value for the property 'Customer.ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:39.189 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:39.190 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:39.190 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:39.190 +01:00 [INF] ----- CreateCustomer new customer - customer: {"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 6","ContactEmail":"customer6@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"}
2024-05-16 12:25:39.190 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:39.190 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:39.190 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:39.193 +01:00 [DBG] Creating transaction savepoint.
2024-05-16 12:25:39.195 +01:00 [DBG] Created transaction savepoint.
2024-05-16 12:25:39.195 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:39.195 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:39.195 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:39.195 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:39.200 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:39.200 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:39.200 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:39.200 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:39.200 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:39.200 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:39.201 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-16 12:25:39.201 +01:00 [INF] ----- Commit transaction "b74dd1eb-d4c0-4057-a9a8-d7f7c47b9df9" for CreateCustomerCommand
2024-05-16 12:25:39.201 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:39.201 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:39.201 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:39.201 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-16 12:25:39.201 +01:00 [DBG] Committing transaction.
2024-05-16 12:25:39.205 +01:00 [DBG] Committed transaction.
2024-05-16 12:25:39.205 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:39.205 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-16 12:25:39.205 +01:00 [DBG] Disposing transaction.
2024-05-16 12:25:39.205 +01:00 [INF] ----- Command CustomerModel handled - response: {"Id":"8237ff37-b2f3-4f5c-4109-08dc759acfaa","Name":"customer 6","ContactEmail":"customer6@test.com","Description":"string","PhoneNumber":"+212695666067","Adress":{"City":"Kenitra","State":"-","Street":"153","Country":"","ZipCode":"14000","$type":"AdressModel"},"$type":"CustomerModel"}
2024-05-16 12:25:39.206 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.5965ms.
2024-05-16 12:25:39.206 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:39.206 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with parameters:
2024-05-16 12:25:39.206 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-16 12:25:39.206 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:39.206 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:39.206 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:39.206 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:39.206 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:39.206 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:39.206 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:39.206 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:39.206 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:25:39.206 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:25:39.206 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:25:39.206 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:25:39.206 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:25:39.206 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:25:39.207 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:39.208 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:39.208 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:39.208 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) in 38.3704ms
2024-05-16 12:25:39.209 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:39.210 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:25:39.210 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:39.210 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-16 12:25:39.210 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44325/Customers - 201 null application/json; charset=utf-8 41.55ms
2024-05-16 12:25:43.884 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44325/Customers - application/json 269
2024-05-16 12:25:43.884 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:25:43.884 +01:00 [DBG] POST requests are not supported
2024-05-16 12:25:43.884 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2024-05-16 12:25:43.884 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2024-05-16 12:25:43.884 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:43.884 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:25:43.884 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:43.885 +01:00 [INF] Route matched with {action = "CreateCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Application.Models.CustomerModels.CustomerModel] CreateCustomer(CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:25:43.885 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:25:43.885 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:25:43.885 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:25:43.885 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:25:43.885 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:25:43.885 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:43.885 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:43.885 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:43.885 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' using the name '' in request data ...
2024-05-16 12:25:43.886 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-16 12:25:43.886 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'
2024-05-16 12:25:43.886 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:43.886 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:43.886 +01:00 [DBG] Attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:43.887 +01:00 [DBG] Done attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:43.887 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:43.887 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:43.887 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:43.887 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:43.887 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:43.887 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:43.887 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:25:43.887 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with arguments (["CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel"])
2024-05-16 12:25:43.888 +01:00 [INF] ----- Handling command CustomerModel ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 7","ContactEmail":"customer7@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:43.888 +01:00 [INF] -----Validating command CustomerModel :
2024-05-16 12:25:43.894 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:25:43.895 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:25:43.895 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-16 12:25:43.895 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:43.895 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:43.895 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-16 12:25:43.905 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-16 12:25:43.905 +01:00 [INF] ----- Begin transaction "22a32091-9ce1-4fdf-9a0f-faf18cda59dc" for CreateCustomerCommand ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 7","ContactEmail":"customer7@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:43.909 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:43.910 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-16 12:25:43.910 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-16 12:25:43.910 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:43.920 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:43.931 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:43.932 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 1ms reading results.
2024-05-16 12:25:43.933 +01:00 [DBG] 'CustomerManDbContext' generated a value for the property 'Customer.ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:43.933 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:43.934 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:43.934 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:43.934 +01:00 [INF] ----- CreateCustomer new customer - customer: {"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 7","ContactEmail":"customer7@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"}
2024-05-16 12:25:43.934 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:43.934 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:43.934 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:43.935 +01:00 [DBG] Creating transaction savepoint.
2024-05-16 12:25:43.936 +01:00 [DBG] Created transaction savepoint.
2024-05-16 12:25:43.937 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:43.937 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:43.937 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:43.937 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:43.946 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:43.946 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:43.946 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:43.946 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:43.946 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:43.946 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:43.947 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-16 12:25:43.947 +01:00 [INF] ----- Commit transaction "22a32091-9ce1-4fdf-9a0f-faf18cda59dc" for CreateCustomerCommand
2024-05-16 12:25:43.947 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:43.947 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:43.947 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:43.947 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-16 12:25:43.947 +01:00 [DBG] Committing transaction.
2024-05-16 12:25:43.948 +01:00 [DBG] Committed transaction.
2024-05-16 12:25:43.948 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:43.948 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-16 12:25:43.948 +01:00 [DBG] Disposing transaction.
2024-05-16 12:25:43.948 +01:00 [INF] ----- Command CustomerModel handled - response: {"Id":"cb79f18e-236d-431c-410a-08dc759acfaa","Name":"customer 7","ContactEmail":"customer7@test.com","Description":"string","PhoneNumber":"+212695666067","Adress":{"City":"Kenitra","State":"-","Street":"153","Country":"","ZipCode":"14000","$type":"AdressModel"},"$type":"CustomerModel"}
2024-05-16 12:25:43.949 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 61.3215ms.
2024-05-16 12:25:43.949 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:43.949 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with parameters:
2024-05-16 12:25:43.949 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-16 12:25:43.949 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:43.949 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:43.949 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:43.949 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:43.949 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:43.949 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:43.949 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:43.949 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:43.949 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:25:43.949 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:25:43.949 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:25:43.949 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:25:43.949 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:25:43.949 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:25:43.950 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:43.950 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:43.950 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:43.950 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) in 65.6893ms
2024-05-16 12:25:43.951 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:43.951 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:25:43.951 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:43.951 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-16 12:25:43.951 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44325/Customers - 201 null application/json; charset=utf-8 67.612ms
2024-05-16 12:25:47.327 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44325/Customers - application/json 269
2024-05-16 12:25:47.328 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:25:47.328 +01:00 [DBG] POST requests are not supported
2024-05-16 12:25:47.328 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2024-05-16 12:25:47.328 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2024-05-16 12:25:47.328 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:47.328 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:25:47.328 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:47.328 +01:00 [INF] Route matched with {action = "CreateCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Application.Models.CustomerModels.CustomerModel] CreateCustomer(CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:25:47.328 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:25:47.328 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:25:47.328 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:25:47.328 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:25:47.328 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:25:47.328 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:47.329 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:47.329 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:47.330 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' using the name '' in request data ...
2024-05-16 12:25:47.330 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-16 12:25:47.330 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'
2024-05-16 12:25:47.330 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:47.330 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:47.330 +01:00 [DBG] Attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:47.331 +01:00 [DBG] Done attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:47.331 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:47.331 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:47.331 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:47.331 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:47.331 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:47.331 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:47.331 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:25:47.331 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with arguments (["CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel"])
2024-05-16 12:25:47.332 +01:00 [INF] ----- Handling command CustomerModel ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 8","ContactEmail":"customer7@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:47.332 +01:00 [INF] -----Validating command CustomerModel :
2024-05-16 12:25:47.334 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:25:47.334 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:25:47.334 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-16 12:25:47.334 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:47.334 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:47.334 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-16 12:25:47.338 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-16 12:25:47.338 +01:00 [INF] ----- Begin transaction "79a07a2e-fc0f-4c44-b390-ad11fc8e80b9" for CreateCustomerCommand ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 8","ContactEmail":"customer7@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:47.342 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:47.342 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:47.342 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:47.342 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:47.353 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:47.354 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:47.354 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:47.354 +01:00 [DBG] 'CustomerManDbContext' generated a value for the property 'Customer.ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:47.357 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:47.361 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:47.361 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:47.361 +01:00 [INF] ----- CreateCustomer new customer - customer: {"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 8","ContactEmail":"customer7@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"}
2024-05-16 12:25:47.361 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:47.361 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:47.362 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:47.363 +01:00 [DBG] Creating transaction savepoint.
2024-05-16 12:25:47.365 +01:00 [DBG] Created transaction savepoint.
2024-05-16 12:25:47.365 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:47.365 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:47.365 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:47.365 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:47.377 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:47.378 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:47.378 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:47.378 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:47.378 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:47.378 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:47.379 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-16 12:25:47.379 +01:00 [INF] ----- Commit transaction "79a07a2e-fc0f-4c44-b390-ad11fc8e80b9" for CreateCustomerCommand
2024-05-16 12:25:47.379 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:47.379 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:47.380 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:47.380 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-16 12:25:47.380 +01:00 [DBG] Committing transaction.
2024-05-16 12:25:47.382 +01:00 [DBG] Committed transaction.
2024-05-16 12:25:47.383 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:47.383 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-16 12:25:47.383 +01:00 [DBG] Disposing transaction.
2024-05-16 12:25:47.383 +01:00 [INF] ----- Command CustomerModel handled - response: {"Id":"aa99d1d0-6058-4b28-410b-08dc759acfaa","Name":"customer 8","ContactEmail":"customer7@test.com","Description":"string","PhoneNumber":"+212695666067","Adress":{"City":"Kenitra","State":"-","Street":"153","Country":"","ZipCode":"14000","$type":"AdressModel"},"$type":"CustomerModel"}
2024-05-16 12:25:47.383 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 51.7886ms.
2024-05-16 12:25:47.383 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:47.383 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with parameters:
2024-05-16 12:25:47.383 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-16 12:25:47.383 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:47.383 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:47.383 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:47.383 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:47.383 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:47.383 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:47.383 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:47.383 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:47.384 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:25:47.384 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:25:47.384 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:25:47.384 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:25:47.384 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:25:47.384 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:25:47.385 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:47.385 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:47.385 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:47.385 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) in 56.6301ms
2024-05-16 12:25:47.385 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:47.385 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:25:47.386 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:47.386 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-16 12:25:47.386 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44325/Customers - 201 null application/json; charset=utf-8 58.3363ms
2024-05-16 12:25:58.658 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44325/Customers - application/json 269
2024-05-16 12:25:58.659 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:25:58.659 +01:00 [DBG] POST requests are not supported
2024-05-16 12:25:58.659 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2024-05-16 12:25:58.660 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2024-05-16 12:25:58.660 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:58.660 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:25:58.660 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:58.660 +01:00 [INF] Route matched with {action = "CreateCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Application.Models.CustomerModels.CustomerModel] CreateCustomer(CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:25:58.660 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:25:58.660 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:25:58.660 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:25:58.660 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:25:58.660 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:25:58.660 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:58.661 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:25:58.661 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:58.661 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' using the name '' in request data ...
2024-05-16 12:25:58.661 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-16 12:25:58.662 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'
2024-05-16 12:25:58.662 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:58.662 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:58.662 +01:00 [DBG] Attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:25:58.662 +01:00 [DBG] Done attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:25:58.662 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:58.662 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:58.662 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:58.662 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:58.662 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:58.662 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:58.663 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:25:58.663 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with arguments (["CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel"])
2024-05-16 12:25:58.664 +01:00 [INF] ----- Handling command CustomerModel ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 9","ContactEmail":"customer9@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:58.664 +01:00 [INF] -----Validating command CustomerModel :
2024-05-16 12:25:58.670 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:25:58.671 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:25:58.671 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-16 12:25:58.671 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:58.672 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:58.673 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-16 12:25:58.676 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-16 12:25:58.677 +01:00 [INF] ----- Begin transaction "84ff5fad-9cf1-4597-a1ed-439cbe3085c1" for CreateCustomerCommand ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 9","ContactEmail":"customer9@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:25:58.677 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:58.677 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:58.677 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:58.678 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:58.690 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:25:58.691 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:58.691 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:58.691 +01:00 [DBG] 'CustomerManDbContext' generated a value for the property 'Customer.ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:58.691 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:58.692 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:58.692 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:58.692 +01:00 [INF] ----- CreateCustomer new customer - customer: {"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 9","ContactEmail":"customer9@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"}
2024-05-16 12:25:58.692 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:58.693 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:58.693 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:58.694 +01:00 [DBG] Creating transaction savepoint.
2024-05-16 12:25:58.696 +01:00 [DBG] Created transaction savepoint.
2024-05-16 12:25:58.696 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:25:58.696 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:58.696 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:25:58.696 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:58.703 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:25:58.703 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:58.703 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:25:58.703 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:58.703 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:58.704 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:25:58.704 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-16 12:25:58.704 +01:00 [INF] ----- Commit transaction "84ff5fad-9cf1-4597-a1ed-439cbe3085c1" for CreateCustomerCommand
2024-05-16 12:25:58.704 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:58.704 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:25:58.704 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:25:58.704 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-16 12:25:58.704 +01:00 [DBG] Committing transaction.
2024-05-16 12:25:58.707 +01:00 [DBG] Committed transaction.
2024-05-16 12:25:58.707 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:58.707 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-16 12:25:58.708 +01:00 [DBG] Disposing transaction.
2024-05-16 12:25:58.708 +01:00 [INF] ----- Command CustomerModel handled - response: {"Id":"fc3d47b5-c2bc-4e7e-410c-08dc759acfaa","Name":"customer 9","ContactEmail":"customer9@test.com","Description":"string","PhoneNumber":"+212695666067","Adress":{"City":"Kenitra","State":"-","Street":"153","Country":"","ZipCode":"14000","$type":"AdressModel"},"$type":"CustomerModel"}
2024-05-16 12:25:58.709 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 45.2874ms.
2024-05-16 12:25:58.709 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:58.709 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with parameters:
2024-05-16 12:25:58.709 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-16 12:25:58.709 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:25:58.709 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:58.709 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:25:58.709 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:58.709 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:25:58.709 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:58.709 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:58.709 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:58.709 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:25:58.711 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:25:58.711 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:25:58.711 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:25:58.712 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:25:58.712 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:25:58.713 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:25:58.713 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:58.713 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:25:58.713 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) in 52.8931ms
2024-05-16 12:25:58.713 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:25:58.713 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:25:58.713 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:25:58.714 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-16 12:25:58.714 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44325/Customers - 201 null application/json; charset=utf-8 55.6639ms
2024-05-16 12:26:04.199 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44325/Customers - application/json 271
2024-05-16 12:26:04.199 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:26:04.200 +01:00 [DBG] POST requests are not supported
2024-05-16 12:26:04.200 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2024-05-16 12:26:04.200 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2024-05-16 12:26:04.200 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:26:04.200 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:26:04.200 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:26:04.200 +01:00 [INF] Route matched with {action = "CreateCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Application.Models.CustomerModels.CustomerModel] CreateCustomer(CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:26:04.200 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:26:04.200 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:26:04.200 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:26:04.200 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:26:04.200 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:26:04.201 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:26:04.202 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:26:04.202 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:26:04.203 +01:00 [DBG] Attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' using the name '' in request data ...
2024-05-16 12:26:04.203 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-16 12:26:04.203 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'
2024-05-16 12:26:04.203 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:26:04.203 +01:00 [DBG] Done attempting to bind parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:26:04.203 +01:00 [DBG] Attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel' ...
2024-05-16 12:26:04.203 +01:00 [DBG] Done attempting to validate the bound parameter 'createCustomer' of type 'CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel'.
2024-05-16 12:26:04.203 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:26:04.203 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:26:04.203 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:26:04.204 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:26:04.204 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:26:04.204 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:26:04.204 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:26:04.204 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with arguments (["CustomerMan.API.Application.Models.CustomerModels.BaseCustomerModel"])
2024-05-16 12:26:04.208 +01:00 [INF] ----- Handling command CustomerModel ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 10","ContactEmail":"customer10@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:26:04.208 +01:00 [INF] -----Validating command CustomerModel :
2024-05-16 12:26:04.209 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:26:04.209 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:26:04.209 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-16 12:26:04.209 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:04.210 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:04.210 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-16 12:26:04.215 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-16 12:26:04.215 +01:00 [INF] ----- Begin transaction "de98a510-a80e-4a09-b797-16be07ca3d76" for CreateCustomerCommand ({"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 10","ContactEmail":"customer10@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"})
2024-05-16 12:26:04.215 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:26:04.216 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:26:04.216 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:26:04.216 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:26:04.228 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [customerContext].[Customers] AS [c]
        WHERE LOWER([c].[Name]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-05-16 12:26:04.228 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:04.229 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:26:04.229 +01:00 [DBG] 'CustomerManDbContext' generated a value for the property 'Customer.ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:26:04.229 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:26:04.229 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:26:04.230 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:26:04.230 +01:00 [INF] ----- CreateCustomer new customer - customer: {"Id":"00000000-0000-0000-0000-000000000000","Name":"customer 10","ContactEmail":"customer10@test.com","Description":"string","PhoneNumber":"+212695666067","Image":null,"City":"Kenitra","State":"-","Street":"153","Coutry":"","ZipCode":"14000","$type":"CreateCustomerCommand"}
2024-05-16 12:26:04.230 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:26:04.230 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:26:04.230 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:26:04.230 +01:00 [DBG] Creating transaction savepoint.
2024-05-16 12:26:04.233 +01:00 [DBG] Created transaction savepoint.
2024-05-16 12:26:04.233 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:26:04.233 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:26:04.233 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:26:04.233 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:26:04.240 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [customerContext].[Customers] ([ID], [ContactEmail], [Deleted], [Description], [ImagePath], [IsActive], [Name], [Phone], [City], [Country], [State], [Street], [ZipCode], [CreatedBy], [CreatedDate], [DeletedBy], [DeletedDate], [ModifiedBy], [ModifiedDate], [RestoredBy], [RestoredDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-05-16 12:26:04.241 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:04.241 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-16 12:26:04.241 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:26:04.241 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:26:04.241 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:26:04.242 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-16 12:26:04.242 +01:00 [INF] ----- Commit transaction "de98a510-a80e-4a09-b797-16be07ca3d76" for CreateCustomerCommand
2024-05-16 12:26:04.242 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:26:04.242 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:26:04.242 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:26:04.242 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-16 12:26:04.242 +01:00 [DBG] Committing transaction.
2024-05-16 12:26:04.243 +01:00 [DBG] Committed transaction.
2024-05-16 12:26:04.243 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:04.244 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-16 12:26:04.244 +01:00 [DBG] Disposing transaction.
2024-05-16 12:26:04.244 +01:00 [INF] ----- Command CustomerModel handled - response: {"Id":"c74497ed-5afc-4501-410d-08dc759acfaa","Name":"customer 10","ContactEmail":"customer10@test.com","Description":"string","PhoneNumber":"+212695666067","Adress":{"City":"Kenitra","State":"-","Street":"153","Country":"","ZipCode":"14000","$type":"AdressModel"},"$type":"CustomerModel"}
2024-05-16 12:26:04.244 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 39.9134ms.
2024-05-16 12:26:04.244 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:26:04.244 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) with parameters:
2024-05-16 12:26:04.244 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-16 12:26:04.244 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:26:04.244 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:26:04.244 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:26:04.244 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:26:04.244 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:26:04.244 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:26:04.244 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:26:04.244 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:26:04.244 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:26:04.244 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:26:04.244 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:26:04.244 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:26:04.244 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:26:04.244 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:26:04.245 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:26:04.245 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:26:04.245 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:26:04.245 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API) in 44.6522ms
2024-05-16 12:26:04.245 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.CreateCustomer (CustomerMan.API)'
2024-05-16 12:26:04.246 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:26:04.246 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:04.246 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-16 12:26:04.246 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44325/Customers - 201 null application/json; charset=utf-8 47.0298ms
2024-05-16 12:26:09.200 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44325/Customers - application/json 24
2024-05-16 12:26:09.200 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:26:09.200 +01:00 [DBG] The request path  does not match the path filter
2024-05-16 12:26:09.201 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2024-05-16 12:26:09.202 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.GetCustomers (CustomerMan.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2024-05-16 12:26:09.203 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.GetCustomers (CustomerMan.API)'
2024-05-16 12:26:09.203 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:26:09.203 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.GetCustomers (CustomerMan.API)'
2024-05-16 12:26:09.224 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[CustomerMan.API.Application.Models.CustomerModels.SimpleCustomerModel]] GetCustomers(CustomerMan.API.Application.Models.CustomerModels.CustomerFilter) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:26:09.225 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:26:09.225 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:26:09.225 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:26:09.225 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:26:09.225 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:26:09.225 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:26:09.231 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:26:09.232 +01:00 [DBG] Attempting to bind parameter 'customerFilter' of type 'CustomerMan.API.Application.Models.CustomerModels.CustomerFilter' ...
2024-05-16 12:26:09.232 +01:00 [DBG] Attempting to bind parameter 'customerFilter' of type 'CustomerMan.API.Application.Models.CustomerModels.CustomerFilter' using the name '' in request data ...
2024-05-16 12:26:09.234 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-16 12:26:09.245 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerMan.API.Application.Models.CustomerModels.CustomerFilter'
2024-05-16 12:26:09.245 +01:00 [DBG] Done attempting to bind parameter 'customerFilter' of type 'CustomerMan.API.Application.Models.CustomerModels.CustomerFilter'.
2024-05-16 12:26:09.245 +01:00 [DBG] Done attempting to bind parameter 'customerFilter' of type 'CustomerMan.API.Application.Models.CustomerModels.CustomerFilter'.
2024-05-16 12:26:09.245 +01:00 [DBG] Attempting to validate the bound parameter 'customerFilter' of type 'CustomerMan.API.Application.Models.CustomerModels.CustomerFilter' ...
2024-05-16 12:26:09.248 +01:00 [DBG] Done attempting to validate the bound parameter 'customerFilter' of type 'CustomerMan.API.Application.Models.CustomerModels.CustomerFilter'.
2024-05-16 12:26:09.248 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:26:09.248 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:26:09.248 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:26:09.248 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:26:09.248 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:26:09.248 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:26:09.248 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.GetCustomers (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:26:09.248 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.GetCustomers (CustomerMan.API) with arguments (["CustomerMan.API.Application.Models.CustomerModels.CustomerFilter"])
2024-05-16 12:26:09.252 +01:00 [INF] ----Start getting all customers----
2024-05-16 12:26:09.260 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:26:09.262 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.GetCustomers (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.1136ms.
2024-05-16 12:26:09.262 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:26:09.262 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.GetCustomers (CustomerMan.API) with parameters:
2024-05-16 12:26:09.269 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Where(customer => customer.Deleted == __customerFilter_Deleted_0)
    .Select(customer => new SimpleCustomerModel{ 
        Id = customer.ID, 
        Name = customer.Name, 
        ContactEmail = customer.ContactEmail, 
        PhoneNumber = customer.Phone, 
        IsActive = customer.IsActive, 
        Image = customer.ImagePath 
    }
    )'
2024-05-16 12:26:09.321 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SimpleCustomerModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Name -> 1
            ContactEmail -> 2
            PhoneNumber -> 3
            IsActive -> 4
            Image -> 5
        SELECT c.ID AS Id, c.Name, c.ContactEmail, c.Phone AS PhoneNumber, c.IsActive, c.ImagePath AS Image
        FROM customerContext.Customers AS c
        WHERE c.Deleted == @__customerFilter_Deleted_0), 
    ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object> }, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SimpleCustomerModel>, 
    CustomerMan.Infrastructure.CustomerManDbContext, 
    False, 
    False, 
    True
)'
2024-05-16 12:26:09.342 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:26:09.342 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-16 12:26:09.343 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:09.345 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:09.345 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:26:09.346 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:26:09.346 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:26:09.346 +01:00 [DBG] Executing DbCommand [Parameters=[@__customerFilter_Deleted_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ID] AS [Id], [c].[Name], [c].[ContactEmail], [c].[Phone] AS [PhoneNumber], [c].[IsActive], [c].[ImagePath] AS [Image]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[Deleted] = @__customerFilter_Deleted_0
2024-05-16 12:26:09.358 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__customerFilter_Deleted_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ID] AS [Id], [c].[Name], [c].[ContactEmail], [c].[Phone] AS [PhoneNumber], [c].[IsActive], [c].[ImagePath] AS [Image]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[Deleted] = @__customerFilter_Deleted_0
2024-05-16 12:26:09.367 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:09.367 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 3ms reading results.
2024-05-16 12:26:09.369 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:09.369 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-16 12:26:09.369 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-16 12:26:09.369 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:26:09.369 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:26:09.369 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:26:09.369 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:26:09.370 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:26:09.370 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:26:09.370 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:26:09.370 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:26:09.370 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:26:09.370 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:26:09.370 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:26:09.370 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:26:09.370 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:26:09.370 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:26:09.452 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Where(customer => customer.Deleted == __customerFilter_Deleted_0)
    .Select(customer => new SimpleCustomerModel{ 
        Id = customer.ID, 
        Name = customer.Name, 
        ContactEmail = customer.ContactEmail, 
        PhoneNumber = customer.Phone, 
        IsActive = customer.IsActive, 
        Image = customer.ImagePath 
    }
    )'
2024-05-16 12:26:09.461 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SimpleCustomerModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Name -> 1
            ContactEmail -> 2
            PhoneNumber -> 3
            IsActive -> 4
            Image -> 5
        SELECT c.ID AS Id, c.Name, c.ContactEmail, c.Phone AS PhoneNumber, c.IsActive, c.ImagePath AS Image
        FROM customerContext.Customers AS c
        WHERE c.Deleted == @__customerFilter_Deleted_0), 
    ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object> }, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SimpleCustomerModel>, 
    CustomerMan.Infrastructure.CustomerManDbContext, 
    False, 
    False, 
    True
)'
2024-05-16 12:26:09.469 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:09.469 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:09.469 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:26:09.469 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:26:09.469 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:26:09.469 +01:00 [DBG] Executing DbCommand [Parameters=[@__customerFilter_Deleted_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ID] AS [Id], [c].[Name], [c].[ContactEmail], [c].[Phone] AS [PhoneNumber], [c].[IsActive], [c].[ImagePath] AS [Image]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[Deleted] = @__customerFilter_Deleted_0
2024-05-16 12:26:09.470 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__customerFilter_Deleted_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ID] AS [Id], [c].[Name], [c].[ContactEmail], [c].[Phone] AS [PhoneNumber], [c].[IsActive], [c].[ImagePath] AS [Image]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[Deleted] = @__customerFilter_Deleted_0
2024-05-16 12:26:09.485 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:09.485 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 13ms reading results.
2024-05-16 12:26:09.485 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:09.485 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-16 12:26:09.487 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:26:09.491 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:26:09.491 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:26:09.492 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.GetCustomers (CustomerMan.API) in 266.2615ms
2024-05-16 12:26:09.492 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.GetCustomers (CustomerMan.API)'
2024-05-16 12:26:09.492 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:26:09.492 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:26:09.492 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-16 12:26:09.492 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44325/Customers - 200 null application/json; charset=utf-8 293.1946ms
2024-05-16 12:27:24.439 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-16 12:27:27.064 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-16 12:27:27.068 +01:00 [DBG] Hosting starting
2024-05-16 12:27:27.550 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-16 12:27:27.734 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-16 12:27:27.734 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-16 12:27:27.734 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-16 12:27:27.746 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-16 12:27:27.747 +01:00 [INF] Hosting environment: Development
2024-05-16 12:27:27.747 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-16 12:27:27.747 +01:00 [DBG] Hosting started
2024-05-16 12:27:27.861 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-16 12:27:28.037 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-16 12:27:28.037 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:27:28.234 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-16 12:27:28.238 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-16 12:27:28.307 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-16 12:27:28.308 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-16 12:27:28.322 +01:00 [DBG] Connection ID "18374686502757072899" disconnecting.
2024-05-16 12:27:28.325 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-16 12:27:28.427 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 6.7366ms
2024-05-16 12:27:28.329 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 473.2451ms
2024-05-16 12:27:28.549 +01:00 [DBG] Connection ID "18302628887244308484" disconnecting.
2024-05-16 12:27:29.018 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-16 12:27:29.114 +01:00 [DBG] Connection ID "18374686485577203720" disconnecting.
2024-05-16 12:27:29.116 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.2112ms
2024-05-16 12:27:29.619 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-16 12:27:29.619 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:27:29.840 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 219.8278ms
2024-05-16 12:27:29.844 +01:00 [DBG] Connection ID "18374686511347007490" disconnecting.
2024-05-16 12:30:36.362 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-16 12:30:37.783 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-16 12:30:37.787 +01:00 [DBG] Hosting starting
2024-05-16 12:30:38.137 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-16 12:30:38.266 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-16 12:30:38.266 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-16 12:30:38.266 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-16 12:30:38.267 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-16 12:30:38.276 +01:00 [INF] Hosting environment: Development
2024-05-16 12:30:38.276 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-16 12:30:38.277 +01:00 [DBG] Hosting started
2024-05-16 12:30:38.344 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-16 12:30:38.468 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-16 12:30:38.468 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:30:38.586 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-16 12:30:38.588 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-16 12:30:38.634 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-16 12:30:38.635 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-16 12:30:38.656 +01:00 [DBG] Connection ID "18374686511347007492" disconnecting.
2024-05-16 12:30:38.658 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-16 12:30:38.665 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-16 12:30:38.661 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 320.9106ms
2024-05-16 12:30:38.669 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.9869ms
2024-05-16 12:30:39.248 +01:00 [DBG] Connection ID "18374686485577203722" disconnecting.
2024-05-16 12:30:39.248 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 583.8385ms
2024-05-16 12:30:39.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-16 12:30:39.339 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:30:39.497 +01:00 [DBG] Connection ID "18230571301796315137" disconnecting.
2024-05-16 12:30:39.497 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 158.4097ms
2024-05-16 12:31:03.641 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/7f2ba67c-b638-487c-4105-08dc759acfaa - null null
2024-05-16 12:31:03.641 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:31:03.646 +01:00 [DBG] DELETE requests are not supported
2024-05-16 12:31:03.693 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/7f2ba67c-b638-487c-4105-08dc759acfaa'
2024-05-16 12:31:03.701 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/7f2ba67c-b638-487c-4105-08dc759acfaa'
2024-05-16 12:31:03.703 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-16 12:31:03.706 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:31:03.707 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-16 12:31:03.773 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:31:03.780 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:31:03.780 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:31:03.781 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:31:03.781 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:31:03.782 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:31:03.786 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:31:04.442 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-16 12:31:04.487 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:31:04.509 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-16 12:31:04.514 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-16 12:31:04.522 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-16 12:31:04.523 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-16 12:31:04.524 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-16 12:31:04.528 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-16 12:31:04.532 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:31:04.532 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:31:04.533 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:31:04.533 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:31:04.533 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:31:04.533 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:31:04.542 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:31:04.543 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["7f2ba67c-b638-487c-4105-08dc759acfaa"])
2024-05-16 12:31:04.635 +01:00 [INF] ----- Handling command Boolean ({"Id":"7f2ba67c-b638-487c-4105-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-16 12:31:04.669 +01:00 [INF] -----Validating command Boolean :
2024-05-16 12:31:06.064 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-16 12:31:06.065 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-16 12:31:06.382 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:31:06.412 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:31:06.564 +01:00 [DBG] Created DbConnection. (150ms).
2024-05-16 12:31:06.571 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:31:07.323 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:31:07.328 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-16 12:31:07.347 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-16 12:31:07.353 +01:00 [INF] ----- Begin transaction "ad0351ae-7dbb-4c26-869c-cadf1f00ee52" for DeleteCustomerCommand ({"Id":"7f2ba67c-b638-487c-4105-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-16 12:31:16.939 +01:00 [INF] ----Request to get customer with unique identifier: "7f2ba67c-b638-487c-4105-08dc759acfaa"
2024-05-16 12:31:17.016 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-16 12:31:17.066 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-16 12:31:17.067 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-16 12:31:17.334 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-16 12:31:17.382 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:31:17.390 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-16 12:31:17.403 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-05-16 12:31:17.413 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-16 12:31:17.492 +01:00 [INF] Executed DbCommand (84ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-16 12:31:17.563 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:17.604 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:17.608 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:17.632 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:17.632 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:17.650 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:31:17.657 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 131ms reading results.
2024-05-16 12:31:17.668 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:17.668 +01:00 [INF] ----Deleted customer: "7f2ba67c-b638-487c-4105-08dc759acfaa", customer 2 softly
2024-05-16 12:31:17.671 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:31:17.673 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:31:17.744 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-16 12:31:17.745 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:17.746 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-16 12:31:17.749 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:31:17.767 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:17.826 +01:00 [DBG] Creating transaction savepoint.
2024-05-16 12:31:17.837 +01:00 [DBG] Created transaction savepoint.
2024-05-16 12:31:17.862 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:31:17.862 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:31:17.863 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-16 12:31:17.863 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-16 12:31:17.882 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-16 12:31:17.886 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:31:17.887 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 4ms reading results.
2024-05-16 12:31:17.889 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:17.890 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:17.890 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:17.892 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-16 12:31:17.892 +01:00 [INF] ----- Commit transaction "ad0351ae-7dbb-4c26-869c-cadf1f00ee52" for DeleteCustomerCommand
2024-05-16 12:31:17.893 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:31:17.893 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:31:17.894 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:31:17.894 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-16 12:31:17.896 +01:00 [DBG] Committing transaction.
2024-05-16 12:31:17.900 +01:00 [DBG] Committed transaction.
2024-05-16 12:31:17.903 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:31:17.909 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (6ms).
2024-05-16 12:31:17.911 +01:00 [DBG] Disposing transaction.
2024-05-16 12:31:17.914 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-16 12:31:17.917 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13371.4315ms.
2024-05-16 12:31:17.918 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:31:17.919 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-16 12:31:17.921 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-16 12:31:17.921 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:31:17.922 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:31:17.922 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:31:17.923 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:31:17.923 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:31:17.925 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:31:17.925 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:31:17.927 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:31:17.929 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:31:17.932 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:31:17.932 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:31:17.932 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:31:17.933 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:31:17.934 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:31:18.005 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:31:18.007 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:31:18.007 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:31:18.012 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 14227.1427ms
2024-05-16 12:31:18.014 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-16 12:31:18.017 +01:00 [ERR] Connection ID "18158513712053354500", Request ID "80000005-0003-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.Object]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-16 12:31:18.183 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:31:18.186 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:31:18.187 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-16 12:31:18.188 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/7f2ba67c-b638-487c-4105-08dc759acfaa - 500 null null 14547.2723ms
2024-05-16 12:31:35.581 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-e82f-40dc-4106-08dc759acfaa - null null
2024-05-16 12:31:35.582 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:31:35.583 +01:00 [DBG] DELETE requests are not supported
2024-05-16 12:31:35.583 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/02492917-e82f-40dc-4106-08dc759acfaa'
2024-05-16 12:31:35.584 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/02492917-e82f-40dc-4106-08dc759acfaa'
2024-05-16 12:31:35.584 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-16 12:31:35.584 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:31:35.584 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-16 12:31:35.584 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:31:35.584 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:31:35.585 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:31:35.585 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:31:35.585 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:31:35.585 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:31:35.585 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:31:35.588 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:31:35.589 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-16 12:31:35.589 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-16 12:31:35.590 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-16 12:31:35.590 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-16 12:31:35.590 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-16 12:31:35.590 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-16 12:31:35.590 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:31:35.590 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:31:35.590 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:31:35.590 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:31:35.590 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:31:35.590 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:31:35.590 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:31:35.590 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["02492917-e82f-40dc-4106-08dc759acfaa"])
2024-05-16 12:31:35.592 +01:00 [INF] ----- Handling command Boolean ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-16 12:31:35.593 +01:00 [INF] -----Validating command Boolean :
2024-05-16 12:31:35.607 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:31:35.609 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:31:35.609 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-16 12:31:35.610 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:31:35.610 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:31:35.611 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-16 12:31:35.611 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-16 12:31:35.612 +01:00 [INF] ----- Begin transaction "1cb0a6bc-ac97-4240-8874-0c0446a5812a" for DeleteCustomerCommand ({"Id":"02492917-e82f-40dc-4106-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-16 12:31:35.613 +01:00 [INF] ----Request to get customer with unique identifier: "02492917-e82f-40dc-4106-08dc759acfaa"
2024-05-16 12:31:35.616 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:31:35.616 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:31:35.616 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:31:35.617 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-16 12:31:35.623 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-16 12:31:35.624 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:35.625 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:35.625 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:35.625 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:35.625 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:35.625 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:31:35.625 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 1ms reading results.
2024-05-16 12:31:35.626 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:35.626 +01:00 [INF] ----Deleted customer: "02492917-e82f-40dc-4106-08dc759acfaa", customer 3 softly
2024-05-16 12:31:37.636 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:31:37.636 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:31:37.637 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-16 12:31:37.638 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:37.639 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-16 12:31:37.639 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:31:37.640 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:37.645 +01:00 [DBG] Creating transaction savepoint.
2024-05-16 12:31:37.647 +01:00 [DBG] Created transaction savepoint.
2024-05-16 12:31:37.649 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:31:37.677 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-16 12:31:37.677 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-05-16 12:31:37.678 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-16 12:31:37.685 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-16 12:31:37.688 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:31:37.689 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 2ms reading results.
2024-05-16 12:31:37.689 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:37.690 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:37.690 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:31:37.690 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-16 12:31:41.432 +01:00 [INF] ----- Commit transaction "1cb0a6bc-ac97-4240-8874-0c0446a5812a" for DeleteCustomerCommand
2024-05-16 12:31:42.249 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:31:42.249 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:31:42.249 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:31:42.249 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-16 12:31:42.249 +01:00 [DBG] Committing transaction.
2024-05-16 12:31:42.250 +01:00 [DBG] Committed transaction.
2024-05-16 12:31:42.251 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:31:42.251 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-16 12:31:42.251 +01:00 [DBG] Disposing transaction.
2024-05-16 12:31:57.942 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-16 12:31:57.947 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22355.7782ms.
2024-05-16 12:31:57.953 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:32:00.603 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-16 12:32:25.847 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-16 12:32:48.709 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:32:48.715 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:32:48.717 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:32:48.718 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:32:48.718 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:32:48.718 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:32:48.719 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:32:48.719 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:32:48.719 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:32:48.720 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:32:48.720 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:32:48.720 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:32:48.720 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:32:48.720 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:32:48.721 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:32:48.722 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:32:48.722 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:32:48.723 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 73137.8174ms
2024-05-16 12:32:48.723 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-16 12:32:48.725 +01:00 [ERR] Connection ID "18158513712053354500", Request ID "80000006-0003-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.Object]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-16 12:32:48.736 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:32:48.736 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:32:48.736 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-16 12:32:48.737 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/02492917-e82f-40dc-4106-08dc759acfaa - 500 null null 73155.434ms
2024-05-16 12:33:12.327 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-16 12:33:13.844 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-16 12:33:13.850 +01:00 [DBG] Hosting starting
2024-05-16 12:33:14.176 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-16 12:33:14.310 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-16 12:33:14.310 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-16 12:33:14.310 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-16 12:33:14.311 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-16 12:33:14.321 +01:00 [INF] Hosting environment: Development
2024-05-16 12:33:14.321 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-16 12:33:14.322 +01:00 [DBG] Hosting started
2024-05-16 12:33:14.415 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-16 12:33:14.614 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-16 12:33:14.615 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:33:14.785 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-16 12:33:14.788 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-16 12:33:14.852 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-16 12:33:14.852 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-16 12:33:14.859 +01:00 [DBG] Connection ID "18374686502757072905" disconnecting.
2024-05-16 12:33:14.864 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 453.9516ms
2024-05-16 12:33:14.900 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-16 12:33:14.924 +01:00 [DBG] Connection ID "18374686489872171011" disconnecting.
2024-05-16 12:33:14.925 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 19.7094ms
2024-05-16 12:33:15.056 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-16 12:33:15.177 +01:00 [DBG] Connection ID "18374686511347007496" disconnecting.
2024-05-16 12:33:15.178 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 121.3222ms
2024-05-16 12:33:15.362 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-16 12:33:15.362 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:33:15.473 +01:00 [DBG] Connection ID "18230571293206380559" disconnecting.
2024-05-16 12:33:15.473 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 111.3589ms
2024-05-16 12:33:42.010 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/8237FF37-B2F3-4F5C-4109-08DC759ACFAA - null null
2024-05-16 12:33:42.010 +01:00 [VRB] All hosts are allowed.
2024-05-16 12:33:42.016 +01:00 [DBG] DELETE requests are not supported
2024-05-16 12:33:42.069 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/8237FF37-B2F3-4F5C-4109-08DC759ACFAA'
2024-05-16 12:33:42.073 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/8237FF37-B2F3-4F5C-4109-08DC759ACFAA'
2024-05-16 12:33:42.074 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-16 12:33:42.077 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-16 12:33:42.079 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-16 12:33:42.156 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-16 12:33:42.161 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-16 12:33:42.161 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-16 12:33:42.162 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-16 12:33:42.162 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-16 12:33:42.163 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-16 12:33:42.169 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:33:42.794 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-16 12:33:42.829 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-16 12:33:42.885 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-16 12:33:42.892 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-16 12:33:42.895 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-16 12:33:42.895 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-16 12:33:42.895 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-16 12:33:42.902 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-16 12:33:42.905 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:33:42.905 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:33:42.906 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:33:42.906 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:33:42.906 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:33:42.906 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:33:42.913 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-16 12:33:42.917 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["8237ff37-b2f3-4f5c-4109-08dc759acfaa"])
2024-05-16 12:33:43.047 +01:00 [INF] ----- Handling command Boolean ({"Id":"8237ff37-b2f3-4f5c-4109-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-16 12:33:43.082 +01:00 [INF] -----Validating command Boolean :
2024-05-16 12:33:44.445 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-16 12:33:44.447 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-16 12:33:44.907 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-16 12:33:44.955 +01:00 [DBG] Creating DbConnection.
2024-05-16 12:33:45.038 +01:00 [DBG] Created DbConnection. (83ms).
2024-05-16 12:33:45.043 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:33:46.137 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:33:46.142 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-16 12:33:46.158 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-16 12:33:46.165 +01:00 [INF] ----- Begin transaction "450a37c3-a5d7-4780-9a2c-934568833a8a" for DeleteCustomerCommand ({"Id":"8237ff37-b2f3-4f5c-4109-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-16 12:33:46.171 +01:00 [INF] ----Request to get customer with unique identifier: "8237ff37-b2f3-4f5c-4109-08dc759acfaa"
2024-05-16 12:33:46.310 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-16 12:33:46.463 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-16 12:33:46.465 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-16 12:33:46.937 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-16 12:33:47.042 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:33:47.061 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (17ms).
2024-05-16 12:33:47.085 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (48ms).
2024-05-16 12:33:47.105 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-16 12:33:47.250 +01:00 [INF] Executed DbCommand (151ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-16 12:33:47.383 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:33:47.473 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:33:47.478 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:33:47.513 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:33:47.514 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:33:47.544 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:33:47.553 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 238ms reading results.
2024-05-16 12:33:47.573 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:33:47.574 +01:00 [INF] ----Deleted customer: "8237ff37-b2f3-4f5c-4109-08dc759acfaa", customer 6 softly
2024-05-16 12:33:50.704 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:33:50.706 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:33:50.738 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-16 12:33:50.739 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:33:50.740 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-16 12:33:50.743 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:33:50.778 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:33:50.823 +01:00 [DBG] Creating transaction savepoint.
2024-05-16 12:33:50.849 +01:00 [DBG] Created transaction savepoint.
2024-05-16 12:33:50.853 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-16 12:33:50.854 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-16 12:33:50.855 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-16 12:33:50.855 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-16 12:33:50.864 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-16 12:33:50.869 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:33:50.869 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 4ms reading results.
2024-05-16 12:33:50.872 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:33:50.872 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:33:50.873 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-16 12:33:50.874 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-16 12:33:50.874 +01:00 [INF] ----- Commit transaction "450a37c3-a5d7-4780-9a2c-934568833a8a" for DeleteCustomerCommand
2024-05-16 12:33:50.876 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-16 12:33:50.876 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-16 12:33:50.877 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-16 12:33:50.877 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-16 12:33:50.881 +01:00 [DBG] Committing transaction.
2024-05-16 12:33:50.886 +01:00 [DBG] Committed transaction.
2024-05-16 12:33:50.889 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:33:50.894 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (5ms).
2024-05-16 12:33:50.897 +01:00 [DBG] Disposing transaction.
2024-05-16 12:33:50.900 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-16 12:33:50.904 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 7984.062ms.
2024-05-16 12:33:50.904 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:33:53.222 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-16 12:33:53.224 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-16 12:33:53.224 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-16 12:33:53.225 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:33:53.225 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-16 12:33:53.225 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:33:53.226 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-16 12:33:53.227 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:33:53.227 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:33:53.231 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:33:53.234 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-16 12:33:53.236 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-16 12:33:53.236 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-16 12:33:53.236 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-16 12:33:53.237 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-16 12:33:53.237 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-16 12:33:53.252 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-16 12:33:53.254 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:33:53.254 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-16 12:33:53.258 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 11092.1197ms
2024-05-16 12:33:53.260 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-16 12:33:53.267 +01:00 [ERR] Connection ID "18158513703463419905", Request ID "80000002-0001-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.Object]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-16 12:33:53.333 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-16 12:33:53.337 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-16 12:33:53.338 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-16 12:33:53.338 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/8237FF37-B2F3-4F5C-4109-08DC759ACFAA - 500 null null 11328.7414ms
