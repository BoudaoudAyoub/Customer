2024-05-18 00:00:19.276 +01:00 [VRB] Request ended from Customers with status 201 and message Created successfully
2024-05-18 00:00:21.241 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:00:21.242 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:00:21.242 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:00:21.242 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:00:21.242 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:00:21.242 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:00:21.242 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:00:21.242 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:00:21.242 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:00:21.243 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:00:21.243 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:00:21.243 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:00:21.243 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:00:21.243 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-18 00:00:21.243 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:00:21.244 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:00:21.244 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:00:21.244 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 94899.3646ms
2024-05-18 00:00:21.244 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:00:21.244 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:00:21.244 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:00:21.244 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-18 00:00:21.244 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA - 201 null application/json; charset=utf-8 94904.6359ms
2024-05-18 00:00:37.614 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-18 00:00:38.730 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-18 00:00:38.733 +01:00 [DBG] Hosting starting
2024-05-18 00:00:38.934 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-18 00:00:39.018 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-18 00:00:39.020 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-18 00:00:39.024 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-18 00:00:39.025 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-18 00:00:39.031 +01:00 [INF] Hosting environment: Development
2024-05-18 00:00:39.031 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-18 00:00:39.031 +01:00 [DBG] Hosting started
2024-05-18 00:00:39.068 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-18 00:00:39.163 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-18 00:00:39.163 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:00:39.237 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-18 00:00:39.238 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-18 00:00:39.271 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-18 00:00:39.272 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-18 00:00:39.281 +01:00 [DBG] Connection ID "18374686498462105620" disconnecting.
2024-05-18 00:00:39.287 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 222.8251ms
2024-05-18 00:00:39.330 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-18 00:00:39.367 +01:00 [DBG] Connection ID "18374686507052040234" disconnecting.
2024-05-18 00:00:39.367 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.25ms
2024-05-18 00:00:39.378 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-18 00:00:39.423 +01:00 [DBG] Connection ID "18374686507052040236" disconnecting.
2024-05-18 00:00:39.445 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.8025ms
2024-05-18 00:00:39.591 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-18 00:00:39.591 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:00:39.693 +01:00 [DBG] Connection ID "18086456126605361165" disconnecting.
2024-05-18 00:00:39.693 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 101.4549ms
2024-05-18 00:00:48.772 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA - null null
2024-05-18 00:00:48.773 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:00:48.775 +01:00 [DBG] DELETE requests are not supported
2024-05-18 00:00:48.793 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA'
2024-05-18 00:00:48.795 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA'
2024-05-18 00:00:48.796 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:00:48.797 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:00:48.798 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:00:48.841 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[CustomerMan.API.Controllers.Test] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:00:48.843 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:00:48.844 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:00:48.844 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:00:48.844 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:00:48.844 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:00:48.845 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:00:49.301 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-18 00:00:49.331 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:00:49.345 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-18 00:00:49.350 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-18 00:00:49.350 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:00:49.350 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:00:49.351 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-18 00:00:49.352 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-18 00:00:49.354 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:00:49.356 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:00:49.356 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:00:49.356 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:00:49.356 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:00:49.356 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:00:49.359 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:00:49.359 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["7ed07af7-8a97-4c02-4108-08dc759acfaa"])
2024-05-18 00:00:49.385 +01:00 [INF] ----- Handling command Boolean ({"Id":"7ed07af7-8a97-4c02-4108-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:00:49.398 +01:00 [INF] -----Validating command Boolean :
2024-05-18 00:00:50.230 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:00:50.230 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:00:50.514 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:00:50.561 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:00:50.599 +01:00 [DBG] Created DbConnection. (34ms).
2024-05-18 00:00:50.604 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:00:51.017 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:00:51.023 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:00:51.038 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:00:51.043 +01:00 [INF] ----- Begin transaction "8834bc3b-3fe0-4a32-a260-241814e4bb0e" for DeleteCustomerCommand ({"Id":"7ed07af7-8a97-4c02-4108-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:00:51.046 +01:00 [INF] ----Request to get customer with unique identifier: "7ed07af7-8a97-4c02-4108-08dc759acfaa"
2024-05-18 00:00:51.148 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-18 00:00:51.269 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-18 00:00:51.271 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-18 00:00:51.668 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-18 00:00:51.757 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:00:51.761 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-18 00:00:51.770 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-05-18 00:00:51.784 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:00:51.876 +01:00 [INF] Executed DbCommand (96ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:00:51.947 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:00:51.980 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:00:51.982 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:00:51.996 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:00:51.996 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:00:52.014 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:00:52.027 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 115ms reading results.
2024-05-18 00:00:52.047 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:00:52.048 +01:00 [INF] ----Deleted customer: "7ed07af7-8a97-4c02-4108-08dc759acfaa", customer 5 softly
2024-05-18 00:00:52.051 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:00:52.055 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:00:52.102 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:00:52.106 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:00:52.109 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:00:52.116 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:00:52.164 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:00:52.249 +01:00 [DBG] Creating transaction savepoint.
2024-05-18 00:00:52.276 +01:00 [DBG] Created transaction savepoint.
2024-05-18 00:00:52.284 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:00:52.284 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:00:52.287 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-18 00:00:52.287 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:00:52.298 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:00:52.309 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:00:52.310 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 11ms reading results.
2024-05-18 00:00:52.315 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:00:52.316 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:00:52.316 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:00:52.319 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-18 00:00:52.319 +01:00 [INF] ----- Commit transaction "8834bc3b-3fe0-4a32-a260-241814e4bb0e" for DeleteCustomerCommand
2024-05-18 00:00:52.322 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:00:52.323 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:00:52.324 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:00:52.325 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-18 00:00:52.329 +01:00 [DBG] Committing transaction.
2024-05-18 00:00:52.333 +01:00 [DBG] Committed transaction.
2024-05-18 00:00:52.335 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:00:52.349 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (12ms).
2024-05-18 00:00:52.352 +01:00 [DBG] Disposing transaction.
2024-05-18 00:00:52.359 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-18 00:00:52.365 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3001.577ms.
2024-05-18 00:00:52.366 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:00:52.368 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-18 00:01:02.142 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-18 00:01:02.142 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:01:02.142 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:01:02.143 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:01:02.144 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:01:02.144 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:01:02.146 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:01:02.146 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:01:02.147 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:01:02.149 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:01:02.151 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:01:02.151 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:01:02.151 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:01:02.155 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:01:02.156 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-18 00:01:02.164 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:01:02.164 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:01:02.164 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:01:02.167 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 13320.3869ms
2024-05-18 00:01:02.168 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:01:02.173 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:01:02.176 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:01:02.183 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-18 00:01:02.183 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA - 200 null application/json; charset=utf-8 13411.6627ms
2024-05-18 00:07:07.412 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-18 00:07:09.271 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-18 00:07:09.280 +01:00 [DBG] Hosting starting
2024-05-18 00:07:09.770 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-18 00:07:10.012 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-18 00:07:10.012 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-18 00:07:10.013 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-18 00:07:10.028 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-18 00:07:10.029 +01:00 [INF] Hosting environment: Development
2024-05-18 00:07:10.029 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-18 00:07:10.029 +01:00 [DBG] Hosting started
2024-05-18 00:07:10.127 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-18 00:07:10.313 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-18 00:07:10.314 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:07:10.492 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-18 00:07:10.493 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-18 00:07:10.540 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-18 00:07:10.541 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-18 00:07:10.552 +01:00 [DBG] Connection ID "18302628917309079565" disconnecting.
2024-05-18 00:07:10.553 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-18 00:07:10.558 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 437.203ms
2024-05-18 00:07:10.566 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.4795ms
2024-05-18 00:07:10.572 +01:00 [DBG] Connection ID "18158513716348321795" disconnecting.
2024-05-18 00:07:10.578 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-18 00:07:11.200 +01:00 [DBG] Connection ID "18302628895834243099" disconnecting.
2024-05-18 00:07:11.207 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 628.7497ms
2024-05-18 00:07:11.275 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-18 00:07:11.275 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:07:11.420 +01:00 [DBG] Connection ID "18374686485577203723" disconnecting.
2024-05-18 00:07:11.420 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 145.0281ms
2024-05-18 00:07:55.774 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA - null null
2024-05-18 00:07:55.775 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:07:55.780 +01:00 [DBG] DELETE requests are not supported
2024-05-18 00:07:55.821 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA'
2024-05-18 00:07:55.824 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA'
2024-05-18 00:07:55.825 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:07:55.827 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:07:55.828 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:07:55.890 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:07:55.896 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:07:55.898 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:07:55.899 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:07:55.899 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:07:55.899 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:07:55.902 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:07:56.359 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-18 00:07:56.378 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:07:56.386 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-18 00:07:56.388 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-18 00:07:56.390 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:07:56.390 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:07:56.391 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-18 00:07:56.393 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-18 00:07:56.395 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:07:56.397 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:07:56.397 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:07:56.397 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:07:56.397 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:07:56.398 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:07:56.401 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:07:56.401 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["7ed07af7-8a97-4c02-4108-08dc759acfaa"])
2024-05-18 00:07:56.423 +01:00 [INF] ----- Handling command Boolean ({"Id":"7ed07af7-8a97-4c02-4108-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:07:56.446 +01:00 [INF] -----Validating command Boolean :
2024-05-18 00:07:57.133 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:07:57.133 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:07:57.273 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:07:57.290 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:07:57.343 +01:00 [DBG] Created DbConnection. (52ms).
2024-05-18 00:07:57.345 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:07:57.754 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:07:57.756 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:07:57.764 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:07:57.767 +01:00 [INF] ----- Begin transaction "55f87b8f-757e-4ec7-a764-dcc2f943afff" for DeleteCustomerCommand ({"Id":"7ed07af7-8a97-4c02-4108-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:07:57.770 +01:00 [INF] ----Request to get customer with unique identifier: "7ed07af7-8a97-4c02-4108-08dc759acfaa"
2024-05-18 00:07:57.833 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-18 00:07:57.941 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-18 00:07:57.941 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-18 00:07:58.148 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-18 00:07:58.174 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:07:58.179 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-18 00:07:58.186 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-05-18 00:07:58.192 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:07:58.253 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:07:58.308 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.335 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.336 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.346 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.346 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.359 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:07:58.363 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 83ms reading results.
2024-05-18 00:07:58.373 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.396 +01:00 [DBG] A cascade state change of an entity of type 'Adress' to '"Deleted"' occurred due to deletion of its parent entity of type 'Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.397 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.404 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:07:58.405 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.407 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:07:58.408 +01:00 [DBG] A cascade state change of an entity of type 'AudityInfo' to '"Deleted"' occurred due to deletion of its parent entity of type 'Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.409 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.409 +01:00 [INF] ----Deleted customer: "7ed07af7-8a97-4c02-4108-08dc759acfaa", customer 5 permanently
2024-05-18 00:07:58.412 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:07:58.415 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:07:58.418 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:07:58.480 +01:00 [DBG] Creating transaction savepoint.
2024-05-18 00:07:58.490 +01:00 [DBG] Created transaction savepoint.
2024-05-18 00:07:58.493 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:07:58.493 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:07:58.493 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:07:58.493 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [customerContext].[Customers]
OUTPUT 1
WHERE [ID] = @p0;
2024-05-18 00:07:58.499 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [customerContext].[Customers]
OUTPUT 1
WHERE [ID] = @p0;
2024-05-18 00:07:58.502 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:07:58.503 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 3ms reading results.
2024-05-18 00:07:58.508 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.508 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.508 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:07:58.510 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-18 00:07:58.511 +01:00 [INF] ----- Commit transaction "55f87b8f-757e-4ec7-a764-dcc2f943afff" for DeleteCustomerCommand
2024-05-18 00:07:58.512 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:07:58.512 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:07:58.512 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:07:58.512 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-18 00:07:58.515 +01:00 [DBG] Committing transaction.
2024-05-18 00:07:58.520 +01:00 [DBG] Committed transaction.
2024-05-18 00:07:58.522 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:07:58.531 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (9ms).
2024-05-18 00:07:58.533 +01:00 [DBG] Disposing transaction.
2024-05-18 00:07:58.535 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-18 00:07:58.538 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2134.4593ms.
2024-05-18 00:07:58.538 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:07:58.545 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-18 00:08:14.108 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-18 00:08:30.652 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:08:30.656 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:08:30.656 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:08:30.657 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:08:30.657 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:08:30.658 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:08:30.658 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:08:30.659 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:08:30.662 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:08:30.664 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:08:30.664 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:08:30.664 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:08:30.665 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:08:30.666 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-18 00:08:30.678 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:08:30.679 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:08:30.679 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:08:30.683 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 34781.502ms
2024-05-18 00:08:30.685 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:08:30.688 +01:00 [ERR] Connection ID "18230571293206380559", Request ID "80000010-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.Object]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-18 00:08:30.741 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:08:30.745 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:08:30.747 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-18 00:08:30.747 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA - 500 null null 34973.4889ms
2024-05-18 00:09:36.294 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-18 00:09:38.154 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-18 00:09:38.162 +01:00 [DBG] Hosting starting
2024-05-18 00:09:38.534 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-18 00:09:38.670 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-18 00:09:38.670 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-18 00:09:38.670 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-18 00:09:38.670 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-18 00:09:38.680 +01:00 [INF] Hosting environment: Development
2024-05-18 00:09:38.680 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-18 00:09:38.680 +01:00 [DBG] Hosting started
2024-05-18 00:09:38.746 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-18 00:09:38.895 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-18 00:09:38.896 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:09:39.052 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-18 00:09:39.060 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-18 00:09:39.160 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-18 00:09:39.161 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-18 00:09:39.220 +01:00 [DBG] Connection ID "18086456135195295745" disconnecting.
2024-05-18 00:09:39.247 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-18 00:09:39.249 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 512.1984ms
2024-05-18 00:09:39.270 +01:00 [DBG] Connection ID "18302628913014112295" disconnecting.
2024-05-18 00:09:39.270 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 16.1232ms
2024-05-18 00:09:39.329 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-18 00:09:39.784 +01:00 [DBG] Connection ID "18302628913014112297" disconnecting.
2024-05-18 00:09:39.785 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 456.3277ms
2024-05-18 00:09:39.867 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-18 00:09:39.867 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:09:40.028 +01:00 [DBG] Connection ID "18086456135195295747" disconnecting.
2024-05-18 00:09:40.028 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 160.8465ms
2024-05-18 00:09:53.142 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA - null null
2024-05-18 00:09:53.142 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:09:53.152 +01:00 [DBG] DELETE requests are not supported
2024-05-18 00:09:53.212 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA'
2024-05-18 00:09:53.214 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA'
2024-05-18 00:09:53.215 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:09:53.216 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:09:53.217 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:09:53.267 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:09:53.270 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:09:53.270 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:09:53.272 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:09:53.273 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:09:53.273 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:09:53.276 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:09:53.722 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-18 00:09:53.755 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:09:53.768 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-18 00:09:53.775 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-18 00:09:53.778 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:09:53.778 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:09:53.778 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-18 00:09:53.781 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-18 00:09:53.783 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:09:53.784 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:09:53.784 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:09:53.784 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:09:53.784 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:09:53.784 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:09:53.790 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:09:53.791 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["7ed07af7-8a97-4c02-4108-08dc759acfaa"])
2024-05-18 00:09:53.868 +01:00 [INF] ----- Handling command Boolean ({"Id":"7ed07af7-8a97-4c02-4108-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:09:53.946 +01:00 [INF] -----Validating command Boolean :
2024-05-18 00:09:54.928 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:09:54.928 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:09:55.362 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:09:55.401 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:09:55.510 +01:00 [DBG] Created DbConnection. (101ms).
2024-05-18 00:09:55.516 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:09:56.170 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:09:56.180 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:09:56.197 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:09:56.206 +01:00 [INF] ----- Begin transaction "17fab4ea-49d2-4d49-86e0-b41dfb0d8b38" for DeleteCustomerCommand ({"Id":"7ed07af7-8a97-4c02-4108-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:09:56.214 +01:00 [INF] ----Request to get customer with unique identifier: "7ed07af7-8a97-4c02-4108-08dc759acfaa"
2024-05-18 00:09:56.568 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-18 00:09:56.680 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-18 00:09:56.681 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-18 00:09:57.047 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-18 00:09:57.108 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:09:57.124 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-05-18 00:09:57.142 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (33ms).
2024-05-18 00:09:57.153 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:09:57.263 +01:00 [INF] Executed DbCommand (108ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:09:57.323 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:09:57.333 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 12ms reading results.
2024-05-18 00:09:57.339 +01:00 [ERR] ----Coudn't find the customer with unique identifier: "7ed07af7-8a97-4c02-4108-08dc759acfaa"
2024-05-18 00:09:57.449 +01:00 [DBG] Disposing transaction.
2024-05-18 00:09:57.453 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:09:57.464 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (11ms).
2024-05-18 00:09:57.619 +01:00 [ERR] ERROR Handling transaction for DeleteCustomerCommand ({"Id":"7ed07af7-8a97-4c02-4108-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
CustomerMan.Domain.DomainExceptions.CustomerManDomainException: Customer doesn't exists
   at CustomerMan.API.Application.Commands.CustomerCommands.DeleteCustomerCommandHandler.Handle(DeleteCustomerCommand request, CancellationToken cancellationToken) in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Commands\CustomerCommands\DeleteCustomerCommandHandler.cs:line 31
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.<>c__DisplayClass3_0.<<Handle>b__0>d.MoveNext() in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Behaviors\TransactionBehavior.cs:line 31
--- End of stack trace from previous location ---
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.<>c__DisplayClass3_0.<<Handle>b__0>d.MoveNext() in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Behaviors\TransactionBehavior.cs:line 35
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API\Application\Behaviors\TransactionBehavior.cs:line 25
2024-05-18 00:09:58.008 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:09:58.010 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-18 00:09:58.010 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:09:58.010 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:09:58.010 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:09:58.011 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:09:58.011 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:09:58.013 +01:00 [VRB] Exception Filter: Before executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-18 00:10:02.585 +01:00 [ERR] @exceptionRoot
2024-05-18 00:10:02.585 +01:00 [VRB] Exception Filter: After executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-18 00:10:02.586 +01:00 [DBG] Request was short circuited at exception filter 'CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter'.
2024-05-18 00:10:02.589 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:10:02.590 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:10:02.591 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:10:02.593 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:10:02.594 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:10:02.594 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:10:02.594 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:10:02.596 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:10:02.596 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[SharedKernel.Exceptions.ExceptionRoot, SharedKernel, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-18 00:10:02.614 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:10:02.615 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:10:02.615 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:10:02.619 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 9342.5479ms
2024-05-18 00:10:02.622 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:10:02.626 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:10:02.630 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:10:02.632 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-18 00:10:02.633 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/7ED07AF7-8A97-4C02-4108-08DC759ACFAA - 200 null application/json; charset=utf-8 9491.2214ms
2024-05-18 00:10:08.963 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA - null null
2024-05-18 00:10:08.964 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:10:08.964 +01:00 [DBG] DELETE requests are not supported
2024-05-18 00:10:08.965 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:10:08.965 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:10:08.965 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:10:08.966 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:10:08.966 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:10:08.966 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:10:08.966 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:10:08.966 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:10:08.966 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:10:08.967 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:10:08.967 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:10:08.967 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:10:08.968 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:10:08.968 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-18 00:10:08.968 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-18 00:10:08.969 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:10:08.969 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:10:08.969 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-18 00:10:08.969 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-18 00:10:08.969 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:10:08.969 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:10:08.969 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:10:08.969 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:10:08.969 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:10:08.969 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:10:08.969 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:10:08.969 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["f62163ae-f9aa-4bf9-4104-08dc759acfaa"])
2024-05-18 00:10:08.974 +01:00 [INF] ----- Handling command Boolean ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:10:08.974 +01:00 [INF] -----Validating command Boolean :
2024-05-18 00:10:08.989 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:10:08.993 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:10:08.994 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-18 00:10:08.994 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:10:08.996 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:10:08.996 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:10:08.997 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:10:08.997 +01:00 [INF] ----- Begin transaction "ab39a312-e181-4e5a-b1a1-a626744d6685" for DeleteCustomerCommand ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:10:08.998 +01:00 [INF] ----Request to get customer with unique identifier: "f62163ae-f9aa-4bf9-4104-08dc759acfaa"
2024-05-18 00:10:09.001 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:10:09.002 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:10:09.002 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:10:09.002 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:10:09.011 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:10:09.076 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:10:09.123 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:10:09.125 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:10:09.139 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:10:09.139 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:10:09.158 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:10:09.158 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 131ms reading results.
2024-05-18 00:10:09.172 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:10:09.173 +01:00 [INF] ----Deleted customer: "f62163ae-f9aa-4bf9-4104-08dc759acfaa", User1 softly
2024-05-18 00:10:09.176 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:10:09.179 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:10:09.201 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:10:09.202 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:10:09.205 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:10:09.208 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:10:09.231 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:10:09.276 +01:00 [DBG] Creating transaction savepoint.
2024-05-18 00:10:09.291 +01:00 [DBG] Created transaction savepoint.
2024-05-18 00:10:09.294 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:10:09.294 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:10:09.295 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-18 00:10:09.295 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:10:09.308 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:10:09.312 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:10:09.312 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 4ms reading results.
2024-05-18 00:10:09.315 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:10:09.315 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:10:09.316 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:10:09.317 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-18 00:10:09.317 +01:00 [INF] ----- Commit transaction "ab39a312-e181-4e5a-b1a1-a626744d6685" for DeleteCustomerCommand
2024-05-18 00:10:09.318 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:10:09.318 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:10:09.319 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:10:09.319 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-18 00:10:09.324 +01:00 [DBG] Committing transaction.
2024-05-18 00:10:09.327 +01:00 [DBG] Committed transaction.
2024-05-18 00:10:09.327 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:10:09.327 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-18 00:10:09.327 +01:00 [DBG] Disposing transaction.
2024-05-18 00:10:09.328 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-18 00:10:09.331 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 357.7802ms.
2024-05-18 00:10:09.331 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:10:09.331 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-18 00:10:12.097 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-18 00:10:15.783 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:10:15.783 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:10:15.783 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:10:15.783 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:10:15.783 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:10:15.784 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:10:15.784 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:10:15.784 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:10:15.785 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:10:15.785 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:10:15.785 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:10:15.785 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:10:15.785 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:10:15.785 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-18 00:10:15.791 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:10:15.792 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:10:15.792 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:10:15.793 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 6826.0905ms
2024-05-18 00:10:15.793 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:10:15.794 +01:00 [ERR] Connection ID "18158513703463419921", Request ID "80000013-0001-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType0`2[System.String,System.String]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-18 00:10:15.814 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:10:15.814 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:10:15.814 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-18 00:10:15.814 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA - 500 null null 6850.7464ms
2024-05-18 00:14:40.592 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-18 00:14:41.738 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-18 00:14:41.743 +01:00 [DBG] Hosting starting
2024-05-18 00:14:41.984 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-18 00:14:42.134 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-18 00:14:42.134 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-18 00:14:42.134 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-18 00:14:42.138 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-18 00:14:42.148 +01:00 [INF] Hosting environment: Development
2024-05-18 00:14:42.148 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-18 00:14:42.148 +01:00 [DBG] Hosting started
2024-05-18 00:14:42.264 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-18 00:14:42.434 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-18 00:14:42.434 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:14:42.562 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-18 00:14:42.564 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-18 00:14:42.671 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-18 00:14:42.673 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-18 00:14:42.707 +01:00 [DBG] Connection ID "18374686502757072918" disconnecting.
2024-05-18 00:14:42.707 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-18 00:14:42.723 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-18 00:14:42.760 +01:00 [DBG] Connection ID "18302628895834243104" disconnecting.
2024-05-18 00:14:42.723 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 452.2825ms
2024-05-18 00:14:42.761 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 17.3601ms
2024-05-18 00:14:43.457 +01:00 [DBG] Connection ID "18374686502757072920" disconnecting.
2024-05-18 00:14:43.458 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 734.4925ms
2024-05-18 00:14:43.510 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-18 00:14:43.510 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:14:43.679 +01:00 [DBG] Connection ID "18230571297501347871" disconnecting.
2024-05-18 00:14:43.679 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 169.4397ms
2024-05-18 00:14:55.948 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA - null null
2024-05-18 00:14:55.948 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:14:55.951 +01:00 [DBG] DELETE requests are not supported
2024-05-18 00:14:55.989 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:14:55.992 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:14:55.993 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:14:55.994 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:14:55.995 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:14:56.045 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:14:56.050 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:14:56.051 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:14:56.051 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:14:56.052 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:14:56.052 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:14:56.057 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:14:56.612 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-18 00:14:56.642 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:14:56.649 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-18 00:14:56.651 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-18 00:14:56.651 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:14:56.652 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:14:56.652 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-18 00:14:56.656 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-18 00:14:56.659 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:14:56.660 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:14:56.660 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:14:56.660 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:14:56.661 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:14:56.661 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:14:56.666 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:14:56.668 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["f62163ae-f9aa-4bf9-4104-08dc759acfaa"])
2024-05-18 00:14:56.758 +01:00 [INF] ----- Handling command Boolean ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:14:56.830 +01:00 [INF] -----Validating command Boolean :
2024-05-18 00:14:57.851 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:14:57.851 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:14:58.182 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:14:58.225 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:14:58.305 +01:00 [DBG] Created DbConnection. (83ms).
2024-05-18 00:14:58.308 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:14:58.945 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:14:58.949 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:14:58.973 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:14:58.980 +01:00 [INF] ----- Begin transaction "6ff4497f-bdd3-4d93-a36f-2a1da734906c" for DeleteCustomerCommand ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:14:58.988 +01:00 [INF] ----Request to get customer with unique identifier: "f62163ae-f9aa-4bf9-4104-08dc759acfaa"
2024-05-18 00:14:59.130 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-18 00:14:59.276 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-18 00:14:59.290 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-18 00:14:59.649 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-18 00:14:59.693 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:14:59.714 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-05-18 00:14:59.729 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (36ms).
2024-05-18 00:14:59.749 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:14:59.873 +01:00 [INF] Executed DbCommand (133ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:14:59.960 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:15:00.041 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:15:00.045 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:15:00.068 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:15:00.068 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:15:00.100 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:15:00.109 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 203ms reading results.
2024-05-18 00:15:00.131 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:15:00.132 +01:00 [INF] ----Deleted customer: "f62163ae-f9aa-4bf9-4104-08dc759acfaa", User1 softly
2024-05-18 00:15:00.139 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:15:00.142 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:15:00.172 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:15:00.173 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:15:00.174 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:15:00.177 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:15:00.195 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:15:00.242 +01:00 [DBG] Creating transaction savepoint.
2024-05-18 00:15:00.266 +01:00 [DBG] Created transaction savepoint.
2024-05-18 00:15:00.274 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:15:00.274 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:15:00.276 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-18 00:15:00.276 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:15:00.281 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:15:00.291 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:15:00.292 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 10ms reading results.
2024-05-18 00:15:00.299 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:15:00.300 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:15:00.300 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:15:00.303 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-18 00:15:00.305 +01:00 [INF] ----- Commit transaction "6ff4497f-bdd3-4d93-a36f-2a1da734906c" for DeleteCustomerCommand
2024-05-18 00:15:00.307 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:15:00.308 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:15:00.310 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:15:00.310 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-18 00:15:00.313 +01:00 [DBG] Committing transaction.
2024-05-18 00:15:00.319 +01:00 [DBG] Committed transaction.
2024-05-18 00:15:00.327 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:15:00.335 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (8ms).
2024-05-18 00:15:00.339 +01:00 [DBG] Disposing transaction.
2024-05-18 00:15:00.355 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-18 00:15:00.366 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3690.8843ms.
2024-05-18 00:15:00.367 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:15:00.396 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-18 00:15:03.141 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-18 00:15:03.142 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:15:03.142 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:15:03.142 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:15:03.143 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:15:03.143 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:15:03.145 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:15:03.145 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:15:03.146 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:15:03.150 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:15:03.153 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:15:03.155 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:15:03.155 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:15:03.156 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:15:03.157 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2024-05-18 00:15:03.163 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:15:03.164 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:15:03.164 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:15:03.168 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 7112.5308ms
2024-05-18 00:15:03.172 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:15:03.176 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:15:03.180 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:15:03.182 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-18 00:15:03.182 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA - 200 null application/json; charset=utf-8 7235.3993ms
2024-05-18 00:16:11.384 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-18 00:16:12.796 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-18 00:16:12.803 +01:00 [DBG] Hosting starting
2024-05-18 00:16:13.050 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-18 00:16:13.150 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-18 00:16:13.164 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-18 00:16:13.164 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-18 00:16:13.164 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-18 00:16:13.174 +01:00 [INF] Hosting environment: Development
2024-05-18 00:16:13.174 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-18 00:16:13.175 +01:00 [DBG] Hosting started
2024-05-18 00:16:13.273 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-18 00:16:13.397 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-18 00:16:13.398 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:16:13.472 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-18 00:16:13.474 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-18 00:16:13.501 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-18 00:16:13.501 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-18 00:16:13.510 +01:00 [DBG] Connection ID "18302628904424177693" disconnecting.
2024-05-18 00:16:13.513 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-18 00:16:13.524 +01:00 [DBG] Connection ID "18302628895834243106" disconnecting.
2024-05-18 00:16:13.524 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.1654ms
2024-05-18 00:16:13.516 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 259.3401ms
2024-05-18 00:16:13.566 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-18 00:16:13.619 +01:00 [DBG] Connection ID "17942340929939570693" disconnecting.
2024-05-18 00:16:13.621 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.7714ms
2024-05-18 00:16:13.728 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-18 00:16:13.729 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:16:13.922 +01:00 [DBG] Connection ID "18158513703463419926" disconnecting.
2024-05-18 00:16:13.923 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 194.1881ms
2024-05-18 00:16:17.335 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA - null null
2024-05-18 00:16:17.335 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:16:17.338 +01:00 [DBG] DELETE requests are not supported
2024-05-18 00:16:17.397 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:16:17.417 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:16:17.419 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:16:17.420 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:16:17.421 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:16:17.527 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:16:17.530 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:16:17.532 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:16:17.535 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:16:17.546 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:16:17.546 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:16:17.553 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:16:17.806 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-18 00:16:17.823 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:16:17.826 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-18 00:16:17.828 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-18 00:16:17.829 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:16:17.829 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:16:17.829 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-18 00:16:17.832 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-18 00:16:17.835 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:16:17.836 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:16:17.836 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:16:17.836 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:16:17.836 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:16:17.836 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:16:17.839 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:16:17.840 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["f62163ae-f9aa-4bf9-4104-08dc759acfaa"])
2024-05-18 00:16:17.873 +01:00 [INF] ----- Handling command Boolean ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:16:17.887 +01:00 [INF] -----Validating command Boolean :
2024-05-18 00:16:18.539 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:16:18.539 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:16:19.360 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:16:19.401 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:16:19.457 +01:00 [DBG] Created DbConnection. (60ms).
2024-05-18 00:16:19.460 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:16:20.077 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:16:20.081 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:16:20.094 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:16:20.096 +01:00 [INF] ----- Begin transaction "931cc7a5-a122-4cc4-869b-7a218d5d119e" for DeleteCustomerCommand ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:16:20.103 +01:00 [INF] ----Request to get customer with unique identifier: "f62163ae-f9aa-4bf9-4104-08dc759acfaa"
2024-05-18 00:16:20.194 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-18 00:16:20.271 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-18 00:16:20.272 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-18 00:16:20.545 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-18 00:16:20.581 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:16:20.589 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-05-18 00:16:20.596 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-05-18 00:16:20.606 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:16:20.662 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:16:20.737 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:16:20.775 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:16:20.777 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:16:20.790 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:16:20.790 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:16:20.808 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:16:20.811 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 109ms reading results.
2024-05-18 00:16:20.826 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:16:20.826 +01:00 [INF] ----Deleted customer: "f62163ae-f9aa-4bf9-4104-08dc759acfaa", User1 softly
2024-05-18 00:16:20.828 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:16:20.831 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:16:20.854 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:16:20.855 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:16:20.855 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:16:20.857 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:16:20.880 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:16:20.934 +01:00 [DBG] Creating transaction savepoint.
2024-05-18 00:16:20.953 +01:00 [DBG] Created transaction savepoint.
2024-05-18 00:16:20.955 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:16:20.955 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:16:20.956 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:16:20.956 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:16:20.961 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:16:20.967 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:16:20.967 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 5ms reading results.
2024-05-18 00:16:20.969 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:16:20.969 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:16:20.970 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:16:20.971 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-18 00:16:20.971 +01:00 [INF] ----- Commit transaction "931cc7a5-a122-4cc4-869b-7a218d5d119e" for DeleteCustomerCommand
2024-05-18 00:16:20.972 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:16:20.972 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:16:20.972 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:16:20.973 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-18 00:16:20.974 +01:00 [DBG] Committing transaction.
2024-05-18 00:16:20.977 +01:00 [DBG] Committed transaction.
2024-05-18 00:16:20.979 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:16:20.986 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (7ms).
2024-05-18 00:16:20.987 +01:00 [DBG] Disposing transaction.
2024-05-18 00:16:20.989 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-18 00:16:21.006 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3149.7406ms.
2024-05-18 00:16:21.007 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:16:21.008 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-18 00:16:23.670 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-18 00:16:23.670 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:16:23.670 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:16:23.671 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:16:23.671 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:16:23.671 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:16:23.672 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:16:23.672 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:16:23.673 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:16:23.675 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:16:23.676 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:16:23.676 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:16:23.677 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:16:23.677 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:16:23.678 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CustomerMan.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-18 00:16:23.687 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:16:23.688 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:16:23.688 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:16:23.692 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 6142.977ms
2024-05-18 00:16:23.693 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:16:23.695 +01:00 [ERR] Connection ID "18302628913014112306", Request ID "80000033-0006-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidCastException: Unable to cast object of type '<>f__AnonymousType1`1[<>f__AnonymousType2`2[System.String,System.Object]]' to type 'System.Boolean'.
   at System.Text.Json.JsonSerializer.UnboxOnWrite[T](Object value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsObjectAsync(Stream utf8Json, Object rootValue, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-05-18 00:16:23.751 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:16:23.754 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:16:23.755 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-18 00:16:23.756 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA - 500 null null 6421.2316ms
2024-05-18 00:19:04.474 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-18 00:19:06.251 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-18 00:19:06.255 +01:00 [DBG] Hosting starting
2024-05-18 00:19:06.638 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-18 00:19:06.789 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-18 00:19:06.789 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-18 00:19:06.789 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-18 00:19:06.790 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-18 00:19:06.798 +01:00 [INF] Hosting environment: Development
2024-05-18 00:19:06.798 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-18 00:19:06.798 +01:00 [DBG] Hosting started
2024-05-18 00:19:06.902 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-18 00:19:07.048 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-18 00:19:07.049 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:19:07.176 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-18 00:19:07.179 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-18 00:19:07.225 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-18 00:19:07.226 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-18 00:19:07.233 +01:00 [DBG] Connection ID "18230571310386249757" disconnecting.
2024-05-18 00:19:07.238 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 340.0379ms
2024-05-18 00:19:07.261 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-18 00:19:07.271 +01:00 [DBG] Connection ID "18230571314681217042" disconnecting.
2024-05-18 00:19:07.273 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 4.8712ms
2024-05-18 00:19:07.310 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-18 00:19:07.712 +01:00 [DBG] Connection ID "18230571310386249759" disconnecting.
2024-05-18 00:19:07.716 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 405.8435ms
2024-05-18 00:19:07.842 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-18 00:19:07.843 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:19:08.003 +01:00 [DBG] Connection ID "18158513724938256387" disconnecting.
2024-05-18 00:19:08.003 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 160.7151ms
2024-05-18 00:19:12.125 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA - null null
2024-05-18 00:19:12.126 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:19:12.129 +01:00 [DBG] DELETE requests are not supported
2024-05-18 00:19:12.218 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:19:12.221 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:19:12.224 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:19:12.250 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:19:12.260 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:19:12.346 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:19:12.357 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:19:12.358 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:19:12.359 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:19:12.360 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:19:12.361 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:19:12.363 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:19:12.858 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-18 00:19:12.884 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:19:12.889 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-18 00:19:12.893 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-18 00:19:12.893 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:19:12.894 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:19:12.894 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-18 00:19:12.895 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-18 00:19:12.897 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:19:12.897 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:19:12.897 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:19:12.897 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:19:12.897 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:19:12.898 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:19:12.903 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:19:12.904 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["f62163ae-f9aa-4bf9-4104-08dc759acfaa"])
2024-05-18 00:19:12.933 +01:00 [INF] ----- Handling command Boolean ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:19:12.960 +01:00 [INF] -----Validating command Boolean :
2024-05-18 00:19:14.174 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:19:14.175 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:19:14.409 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:19:14.429 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:19:14.517 +01:00 [DBG] Created DbConnection. (88ms).
2024-05-18 00:19:14.519 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:19:15.030 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:19:15.032 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:19:15.043 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:19:15.046 +01:00 [INF] ----- Begin transaction "bc7f47cd-aa41-4dae-b2e3-a7424ce48bfa" for DeleteCustomerCommand ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:19:15.052 +01:00 [INF] ----Request to get customer with unique identifier: "f62163ae-f9aa-4bf9-4104-08dc759acfaa"
2024-05-18 00:19:15.142 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-18 00:19:15.202 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-18 00:19:15.202 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-18 00:19:15.389 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-18 00:19:15.419 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:19:15.427 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-05-18 00:19:15.435 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-05-18 00:19:15.445 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:19:15.534 +01:00 [INF] Executed DbCommand (92ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:19:15.611 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:19:15.663 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:19:15.689 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:19:15.706 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:19:15.706 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:19:15.741 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:19:15.768 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 174ms reading results.
2024-05-18 00:19:15.802 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:19:15.803 +01:00 [INF] ----Deleted customer: "f62163ae-f9aa-4bf9-4104-08dc759acfaa", User1 softly
2024-05-18 00:19:15.830 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:19:15.851 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:19:15.889 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:19:15.892 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:19:15.893 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:19:15.896 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:19:15.928 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:19:15.981 +01:00 [DBG] Creating transaction savepoint.
2024-05-18 00:19:15.994 +01:00 [DBG] Created transaction savepoint.
2024-05-18 00:19:15.997 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:19:15.997 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:19:15.998 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-18 00:19:15.998 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:19:16.005 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:19:16.010 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:19:16.010 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 5ms reading results.
2024-05-18 00:19:16.012 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:19:16.013 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:19:16.013 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:19:16.015 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-18 00:19:16.015 +01:00 [INF] ----- Commit transaction "bc7f47cd-aa41-4dae-b2e3-a7424ce48bfa" for DeleteCustomerCommand
2024-05-18 00:19:16.016 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:19:16.016 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:19:16.017 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:19:16.017 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-18 00:19:16.018 +01:00 [DBG] Committing transaction.
2024-05-18 00:19:16.023 +01:00 [DBG] Committed transaction.
2024-05-18 00:19:16.026 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:19:16.030 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (3ms).
2024-05-18 00:19:16.031 +01:00 [DBG] Disposing transaction.
2024-05-18 00:19:16.033 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-18 00:19:16.035 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3129.2689ms.
2024-05-18 00:19:16.036 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:19:16.037 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-18 00:19:19.578 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-18 00:19:19.579 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:19:19.579 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:19:19.579 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:19:19.594 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:19:19.594 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:19:19.596 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:19:19.596 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:19:19.598 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:19:19.600 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:19:19.602 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:19:19.602 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:19:19.602 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:19:19.603 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:19:19.605 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-18 00:19:19.620 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:19:19.620 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:19:19.620 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:19:19.627 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 7263.1287ms
2024-05-18 00:19:19.628 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:19:19.632 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:19:19.635 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:19:19.637 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-18 00:19:19.640 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA - 200 null application/json; charset=utf-8 7515.1483ms
2024-05-18 00:25:32.515 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-18 00:25:33.767 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-18 00:25:33.772 +01:00 [DBG] Hosting starting
2024-05-18 00:25:33.964 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-18 00:25:34.067 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-18 00:25:34.076 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-18 00:25:34.076 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-18 00:25:34.091 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-18 00:25:34.092 +01:00 [INF] Hosting environment: Development
2024-05-18 00:25:34.092 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-18 00:25:34.092 +01:00 [DBG] Hosting started
2024-05-18 00:25:34.173 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-18 00:25:34.352 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-18 00:25:34.352 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:25:34.412 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-18 00:25:34.413 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-18 00:25:34.439 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-18 00:25:34.440 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-18 00:25:34.448 +01:00 [DBG] Connection ID "18302628887244308498" disconnecting.
2024-05-18 00:25:34.454 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 287.2798ms
2024-05-18 00:25:34.480 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-18 00:25:34.496 +01:00 [DBG] Connection ID "18230571301796315150" disconnecting.
2024-05-18 00:25:34.496 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 9.4239ms
2024-05-18 00:25:34.510 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-18 00:25:34.538 +01:00 [DBG] Connection ID "18302628887244308500" disconnecting.
2024-05-18 00:25:34.538 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.6365ms
2024-05-18 00:25:34.930 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-18 00:25:34.931 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:25:35.054 +01:00 [DBG] Connection ID "18014398523977498642" disconnecting.
2024-05-18 00:25:35.054 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 123.3908ms
2024-05-18 00:25:46.794 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA - null null
2024-05-18 00:25:46.794 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:25:46.796 +01:00 [DBG] DELETE requests are not supported
2024-05-18 00:25:46.825 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:25:46.828 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:25:46.829 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:25:46.830 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:25:46.831 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:25:46.854 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:25:46.856 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:25:46.856 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:25:46.856 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:25:46.856 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:25:46.857 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:25:46.859 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:25:47.211 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-18 00:25:47.253 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:25:47.256 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-18 00:25:47.257 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-18 00:25:47.257 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:25:47.257 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:25:47.258 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-18 00:25:47.259 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-18 00:25:47.260 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:25:47.260 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:25:47.260 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:25:47.260 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:25:47.260 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:25:47.260 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:25:47.262 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:25:47.263 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["f62163ae-f9aa-4bf9-4104-08dc759acfaa"])
2024-05-18 00:25:47.293 +01:00 [INF] ----- Handling command Boolean ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:25:47.305 +01:00 [INF] -----Validating command Boolean :
2024-05-18 00:25:47.826 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:25:47.826 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:25:47.972 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:25:47.993 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:25:48.027 +01:00 [DBG] Created DbConnection. (32ms).
2024-05-18 00:25:48.030 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:25:48.487 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:25:48.492 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:25:48.586 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:25:48.593 +01:00 [INF] ----- Begin transaction "6aec2c88-117d-46d4-9cb2-cf38508fb83b" for DeleteCustomerCommand ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:25:48.603 +01:00 [INF] ----Request to get customer with unique identifier: "f62163ae-f9aa-4bf9-4104-08dc759acfaa"
2024-05-18 00:25:48.689 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-18 00:25:48.743 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-18 00:25:48.744 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-18 00:25:48.996 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-18 00:25:49.036 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:25:49.041 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-18 00:25:49.047 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-05-18 00:25:49.056 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:25:49.112 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:25:49.173 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:25:49.213 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:25:49.218 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:25:49.231 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:25:49.231 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:25:49.257 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:25:49.263 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 122ms reading results.
2024-05-18 00:25:49.276 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:25:49.277 +01:00 [INF] ----Deleted customer: "f62163ae-f9aa-4bf9-4104-08dc759acfaa", User1 softly
2024-05-18 00:25:49.279 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:25:49.281 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:25:49.308 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:25:49.308 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:25:49.310 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:25:49.313 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:25:49.337 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:25:49.371 +01:00 [DBG] Creating transaction savepoint.
2024-05-18 00:25:49.381 +01:00 [DBG] Created transaction savepoint.
2024-05-18 00:25:49.386 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:25:49.386 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:25:49.387 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-18 00:25:49.387 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:25:49.394 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:25:49.398 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:25:49.399 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 4ms reading results.
2024-05-18 00:25:49.403 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:25:49.404 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:25:49.404 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:25:49.406 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-18 00:25:49.407 +01:00 [INF] ----- Commit transaction "6aec2c88-117d-46d4-9cb2-cf38508fb83b" for DeleteCustomerCommand
2024-05-18 00:25:49.408 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:25:49.408 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:25:49.409 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:25:49.409 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-18 00:25:49.410 +01:00 [DBG] Committing transaction.
2024-05-18 00:25:49.413 +01:00 [DBG] Committed transaction.
2024-05-18 00:25:49.417 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:25:49.421 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (5ms).
2024-05-18 00:25:49.422 +01:00 [DBG] Disposing transaction.
2024-05-18 00:25:49.424 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-18 00:25:49.427 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2162.1241ms.
2024-05-18 00:25:49.428 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:25:49.429 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-18 00:25:49.430 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-18 00:25:49.430 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:25:49.430 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:25:49.430 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:25:49.431 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:25:49.431 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:25:49.432 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:25:49.434 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:25:49.446 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:25:49.461 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:25:49.477 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:25:49.477 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:25:49.477 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:25:49.478 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:25:49.479 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-18 00:25:49.519 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:25:49.519 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:25:49.519 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:25:49.523 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 2662.7746ms
2024-05-18 00:25:49.524 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:25:49.527 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:25:49.559 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:25:49.561 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-18 00:25:49.575 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA - 200 null application/json; charset=utf-8 2781.6491ms
2024-05-18 00:26:32.649 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA - null null
2024-05-18 00:26:32.649 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:26:32.650 +01:00 [DBG] DELETE requests are not supported
2024-05-18 00:26:32.650 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:26:32.650 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:26:32.650 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:26:32.650 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:26:32.650 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:26:32.651 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:26:32.651 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:26:32.651 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:26:32.651 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:26:32.651 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:26:32.651 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:26:32.651 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:26:32.652 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:26:32.652 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-18 00:26:32.652 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-18 00:26:32.652 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:26:32.653 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:26:32.653 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-18 00:26:32.653 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-18 00:26:32.653 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:26:32.653 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:26:32.653 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:26:32.653 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:26:32.653 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:26:32.653 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:26:32.653 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:26:32.653 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["f62163ae-f9aa-4bf9-4104-08dc759acfaa"])
2024-05-18 00:26:32.654 +01:00 [INF] ----- Handling command Boolean ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:26:32.654 +01:00 [INF] -----Validating command Boolean :
2024-05-18 00:26:32.681 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:26:32.683 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:26:32.683 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-18 00:26:32.684 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:26:32.685 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:26:32.685 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:26:32.686 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:26:32.686 +01:00 [INF] ----- Begin transaction "3464f1c2-9d5b-4b9c-92e7-6ebf8cc0fd73" for DeleteCustomerCommand ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:26:32.686 +01:00 [INF] ----Request to get customer with unique identifier: "f62163ae-f9aa-4bf9-4104-08dc759acfaa"
2024-05-18 00:26:32.690 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:26:32.690 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:26:32.690 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:26:32.691 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:26:32.699 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:26:32.700 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:26:32.700 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:26:32.700 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:26:32.700 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:26:32.700 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:26:32.700 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:26:32.700 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 1ms reading results.
2024-05-18 00:26:32.701 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:26:32.701 +01:00 [INF] ----Deleted customer: "f62163ae-f9aa-4bf9-4104-08dc759acfaa", User1 softly
2024-05-18 00:26:32.701 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:26:32.701 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:26:32.701 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:26:32.701 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:26:32.702 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:26:32.702 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:26:32.703 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:26:32.704 +01:00 [DBG] Creating transaction savepoint.
2024-05-18 00:26:32.705 +01:00 [DBG] Created transaction savepoint.
2024-05-18 00:26:32.705 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:26:32.705 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:26:32.706 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:26:32.706 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:26:32.714 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:26:32.715 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:26:32.715 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 0ms reading results.
2024-05-18 00:26:32.716 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:26:32.716 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:26:32.716 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:26:32.716 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-18 00:26:32.716 +01:00 [INF] ----- Commit transaction "3464f1c2-9d5b-4b9c-92e7-6ebf8cc0fd73" for DeleteCustomerCommand
2024-05-18 00:26:32.716 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:26:32.716 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:26:32.717 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:26:32.717 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-18 00:26:32.717 +01:00 [DBG] Committing transaction.
2024-05-18 00:26:32.717 +01:00 [DBG] Committed transaction.
2024-05-18 00:26:32.718 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:26:32.718 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-18 00:26:32.718 +01:00 [DBG] Disposing transaction.
2024-05-18 00:26:32.718 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-18 00:26:32.718 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 65.0928ms.
2024-05-18 00:26:32.718 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:26:32.718 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-18 00:27:07.153 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-18 00:33:31.872 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-18 00:33:34.795 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-18 00:33:34.810 +01:00 [DBG] Hosting starting
2024-05-18 00:33:35.782 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-18 00:33:36.227 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-18 00:33:36.227 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-18 00:33:36.227 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-18 00:33:36.228 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-18 00:33:36.228 +01:00 [INF] Hosting environment: Development
2024-05-18 00:33:36.229 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-18 00:33:36.229 +01:00 [DBG] Hosting started
2024-05-18 00:33:36.776 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-18 00:33:37.032 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-18 00:33:37.032 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:33:37.201 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-18 00:33:37.203 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-18 00:33:37.260 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-18 00:33:37.261 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-18 00:33:37.269 +01:00 [DBG] Connection ID "18014398523977498647" disconnecting.
2024-05-18 00:33:37.274 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 510.8876ms
2024-05-18 00:33:37.340 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-18 00:33:37.361 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 9.6953ms
2024-05-18 00:33:37.361 +01:00 [DBG] Connection ID "18230571318976184323" disconnecting.
2024-05-18 00:33:38.087 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-18 00:33:38.154 +01:00 [DBG] Connection ID "18230571297501347880" disconnecting.
2024-05-18 00:33:38.163 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.1535ms
2024-05-18 00:33:38.261 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-18 00:33:38.261 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:33:38.498 +01:00 [DBG] Connection ID "18374686481282236459" disconnecting.
2024-05-18 00:33:38.498 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 237.1108ms
2024-05-18 00:33:42.164 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44325/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA - null null
2024-05-18 00:33:42.165 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:33:42.168 +01:00 [DBG] DELETE requests are not supported
2024-05-18 00:33:42.228 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:33:42.233 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)' with route pattern 'Customers/{id:Guid}' is valid for the request path '/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA'
2024-05-18 00:33:42.235 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:33:42.241 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:33:42.243 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:33:42.325 +01:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] DeleteCustomer(System.Guid) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:33:42.329 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:33:42.330 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:33:42.330 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:33:42.330 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:33:42.331 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:33:42.334 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:33:43.224 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-18 00:33:43.264 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:33:43.276 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-05-18 00:33:43.278 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-05-18 00:33:43.280 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:33:43.280 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-05-18 00:33:43.280 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-05-18 00:33:43.284 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-05-18 00:33:43.290 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:33:43.291 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:33:43.292 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:33:43.292 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:33:43.292 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:33:43.293 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:33:43.299 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:33:43.301 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with arguments (["f62163ae-f9aa-4bf9-4104-08dc759acfaa"])
2024-05-18 00:33:43.363 +01:00 [INF] ----- Handling command Boolean ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:33:43.394 +01:00 [INF] -----Validating command Boolean :
2024-05-18 00:33:44.590 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:33:44.591 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:33:44.852 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:33:44.887 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:33:45.000 +01:00 [DBG] Created DbConnection. (113ms).
2024-05-18 00:33:45.007 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:33:46.541 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:33:46.549 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:33:46.564 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:33:46.568 +01:00 [INF] ----- Begin transaction "b8630437-f516-484f-9ae2-5c8ab917f0c6" for DeleteCustomerCommand ({"Id":"f62163ae-f9aa-4bf9-4104-08dc759acfaa","Name":"","ContactEmail":"","Description":"","PhoneNumber":"","Image":null,"City":"","State":"","Street":"","Coutry":"","ZipCode":"","$type":"DeleteCustomerCommand"})
2024-05-18 00:33:46.575 +01:00 [INF] ----Request to get customer with unique identifier: "f62163ae-f9aa-4bf9-4104-08dc759acfaa"
2024-05-18 00:33:46.786 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ID"), 
        objB: __get_Item_0))'
2024-05-18 00:33:46.913 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-18 00:33:46.914 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-18 00:33:47.284 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
                2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
            SELECT TOP(1) c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
            FROM customerContext.Customers AS c
            WHERE c.ID == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerMan.Infrastructure.CustomerManDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-18 00:33:47.341 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:33:47.352 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-05-18 00:33:47.366 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2024-05-18 00:33:47.385 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:33:47.628 +01:00 [INF] Executed DbCommand (251ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] = @__get_Item_0
2024-05-18 00:33:47.840 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:33:47.917 +01:00 [DBG] The navigation 'Customer.Adress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:33:47.923 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:33:47.948 +01:00 [DBG] The navigation 'Customer.AudityInfo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:33:47.948 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:33:47.978 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:33:47.989 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 278ms reading results.
2024-05-18 00:33:48.011 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:33:48.012 +01:00 [INF] ----Deleted customer: "f62163ae-f9aa-4bf9-4104-08dc759acfaa", User1 softly
2024-05-18 00:33:48.015 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:33:48.018 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:33:48.045 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:33:48.046 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:33:48.047 +01:00 [DBG] The unchanged property 'AudityInfo.ModifiedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-18 00:33:48.050 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:33:48.095 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:33:48.197 +01:00 [DBG] Creating transaction savepoint.
2024-05-18 00:33:48.218 +01:00 [DBG] Created transaction savepoint.
2024-05-18 00:33:48.225 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:33:48.226 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:33:48.228 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-18 00:33:48.228 +01:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:33:48.243 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [ModifiedBy] = @p7, [ModifiedDate] = @p8
OUTPUT 1
WHERE [ID] = @p9;
2024-05-18 00:33:48.253 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:33:48.253 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 9ms reading results.
2024-05-18 00:33:48.261 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:33:48.262 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:33:48.262 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:33:48.266 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-18 00:33:48.267 +01:00 [INF] ----- Commit transaction "b8630437-f516-484f-9ae2-5c8ab917f0c6" for DeleteCustomerCommand
2024-05-18 00:33:48.269 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:33:48.269 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:33:48.272 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:33:48.273 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-18 00:33:48.276 +01:00 [DBG] Committing transaction.
2024-05-18 00:33:48.284 +01:00 [DBG] Committed transaction.
2024-05-18 00:33:48.293 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:33:48.306 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (13ms).
2024-05-18 00:33:48.309 +01:00 [DBG] Disposing transaction.
2024-05-18 00:33:48.315 +01:00 [INF] ----- Command Boolean handled - response: true
2024-05-18 00:33:48.325 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5016.3638ms.
2024-05-18 00:33:48.326 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:33:48.329 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) with parameters:
2024-05-18 00:33:48.330 +01:00 [VRB] Request ended from Customers with status 200 and message Fetched data successfully
2024-05-18 00:33:48.331 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:33:48.331 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:33:48.331 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:33:48.333 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:33:48.333 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:33:48.335 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:33:48.336 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:33:48.339 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:33:48.345 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:33:48.349 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:33:48.349 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:33:48.349 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:33:48.351 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:33:48.351 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-18 00:33:48.375 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:33:48.376 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:33:48.376 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:33:48.382 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API) in 6046.3384ms
2024-05-18 00:33:48.383 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.DeleteCustomer (CustomerMan.API)'
2024-05-18 00:33:48.391 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:33:48.397 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:33:48.399 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-18 00:33:48.400 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44325/Customers/F62163AE-F9AA-4BF9-4104-08DC759ACFAA - 200 null application/json; charset=utf-8 6235.7436ms
2024-05-18 00:34:39.005 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44325/Customers/Restore - application/json 81
2024-05-18 00:34:39.005 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:34:39.006 +01:00 [DBG] PUT requests are not supported
2024-05-18 00:34:39.007 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/Restore'
2024-05-18 00:34:39.008 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)' with route pattern 'Customers/Restore' is valid for the request path '/Customers/Restore'
2024-05-18 00:34:39.008 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:34:39.008 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:34:39.008 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:34:39.049 +01:00 [INF] Route matched with {action = "RestoreCustomers", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] RestoreCustomers(System.Collections.Generic.List`1[System.Guid]) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:34:39.050 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:34:39.050 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:34:39.051 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:34:39.051 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:34:39.051 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:34:39.051 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:34:39.057 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:34:39.058 +01:00 [DBG] Attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' ...
2024-05-18 00:34:39.060 +01:00 [DBG] Attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' using the name '' in request data ...
2024-05-18 00:34:39.065 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-18 00:34:39.107 +01:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Collections.Generic.List`1[System.Guid]. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
2024-05-18 00:34:39.108 +01:00 [DBG] Done attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:34:39.108 +01:00 [DBG] Done attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:34:39.108 +01:00 [DBG] Attempting to validate the bound parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' ...
2024-05-18 00:34:39.121 +01:00 [DBG] Done attempting to validate the bound parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:34:39.122 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:34:39.122 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:34:39.122 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:34:39.123 +01:00 [DBG] The request has model state errors, returning an error response.
2024-05-18 00:34:39.125 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:34:39.126 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-05-18 00:34:39.127 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:34:39.127 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:34:39.127 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:34:39.127 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:34:39.127 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-05-18 00:34:39.128 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:34:39.128 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:34:39.128 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-18 00:34:39.129 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-18 00:34:39.129 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-05-18 00:34:39.976 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-05-18 00:34:39.976 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:34:39.976 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:34:39.977 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) in 925.8597ms
2024-05-18 00:34:39.977 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:34:39.977 +01:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44325/Customers/Restore - 400 null application/problem+json; charset=utf-8 973.1517ms
2024-05-18 00:35:27.071 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44325/Customers/Restore - application/json 81
2024-05-18 00:35:27.071 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:35:27.072 +01:00 [DBG] PUT requests are not supported
2024-05-18 00:35:27.072 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/Restore'
2024-05-18 00:35:27.072 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)' with route pattern 'Customers/Restore' is valid for the request path '/Customers/Restore'
2024-05-18 00:35:27.073 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:35:27.073 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:35:27.073 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:35:27.073 +01:00 [INF] Route matched with {action = "RestoreCustomers", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] RestoreCustomers(System.Collections.Generic.List`1[System.Guid]) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:35:27.074 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:35:27.074 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:35:27.074 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:35:27.074 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:35:27.074 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:35:27.074 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:35:27.075 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:35:27.075 +01:00 [DBG] Attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' ...
2024-05-18 00:35:27.076 +01:00 [DBG] Attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' using the name '' in request data ...
2024-05-18 00:35:27.076 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-18 00:35:27.093 +01:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Collections.Generic.List`1[System.Guid]. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
2024-05-18 00:35:27.093 +01:00 [DBG] Done attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:35:27.093 +01:00 [DBG] Done attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:35:27.094 +01:00 [DBG] Attempting to validate the bound parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' ...
2024-05-18 00:35:27.094 +01:00 [DBG] Done attempting to validate the bound parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:35:27.094 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:35:27.094 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:35:27.094 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:35:27.094 +01:00 [DBG] The request has model state errors, returning an error response.
2024-05-18 00:35:27.095 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:35:27.095 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-05-18 00:35:27.095 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:35:27.095 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:35:27.095 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:35:27.095 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:35:27.095 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-05-18 00:35:27.095 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:35:27.095 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:35:27.095 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-18 00:35:27.095 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-18 00:35:27.095 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-05-18 00:35:27.097 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-05-18 00:35:27.098 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:35:27.098 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:35:27.098 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) in 24.4369ms
2024-05-18 00:35:27.099 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:35:27.100 +01:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44325/Customers/Restore - 400 null application/problem+json; charset=utf-8 38.7481ms
2024-05-18 00:36:07.498 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44325/Customers/Restore - application/json 46
2024-05-18 00:36:07.503 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:36:07.531 +01:00 [DBG] PUT requests are not supported
2024-05-18 00:36:07.531 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/Restore'
2024-05-18 00:36:07.532 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)' with route pattern 'Customers/Restore' is valid for the request path '/Customers/Restore'
2024-05-18 00:36:07.532 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:36:07.532 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:36:07.532 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:36:07.532 +01:00 [INF] Route matched with {action = "RestoreCustomers", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] RestoreCustomers(System.Collections.Generic.List`1[System.Guid]) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:36:07.532 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:36:07.532 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:36:07.532 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:36:07.532 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:36:07.532 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:36:07.533 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:36:07.533 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:36:07.533 +01:00 [DBG] Attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' ...
2024-05-18 00:36:07.534 +01:00 [DBG] Attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' using the name '' in request data ...
2024-05-18 00:36:07.534 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-18 00:36:07.537 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.Collections.Generic.List`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'
2024-05-18 00:36:07.538 +01:00 [DBG] Done attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:36:07.538 +01:00 [DBG] Done attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:36:07.538 +01:00 [DBG] Attempting to validate the bound parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' ...
2024-05-18 00:36:07.542 +01:00 [DBG] Done attempting to validate the bound parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:36:07.542 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:36:07.542 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:36:07.542 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:36:07.542 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:36:07.543 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:36:07.543 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:36:07.543 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:36:07.543 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) with arguments (["System.Collections.Generic.List`1[System.Guid]"])
2024-05-18 00:36:20.667 +01:00 [INF] ----- Handling command Int32 ({"CustomersIds":["f62163ae-f9aa-4bf9-4104-08dc759acfaa"],"$type":"RestoreCustomerCommand"})
2024-05-18 00:36:20.669 +01:00 [INF] -----Validating command Int32 :
2024-05-18 00:36:20.719 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:36:20.722 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:36:20.722 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-18 00:36:20.722 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:36:20.723 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:36:20.723 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:36:20.724 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:36:20.725 +01:00 [INF] ----- Begin transaction "c9041f3e-27f4-411f-9e5f-e56e20ae1352" for RestoreCustomerCommand ({"CustomersIds":["f62163ae-f9aa-4bf9-4104-08dc759acfaa"],"$type":"RestoreCustomerCommand"})
2024-05-18 00:36:27.508 +01:00 [INF] ----Start looking for the customers IDs: ["f62163ae-f9aa-4bf9-4104-08dc759acfaa"]----
2024-05-18 00:36:28.237 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .AsNoTracking()
    .Where(customer => __request_CustomersIds_0.Contains(customer.ID) && !(customer.Deleted))'
2024-05-18 00:36:28.257 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-18 00:36:28.257 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-18 00:36:28.405 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Customer>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
            1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
            2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
        SELECT c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
        FROM customerContext.Customers AS c
        WHERE c.ID IN (
            SELECT r.value
            FROM OPENJSON(@__request_CustomersIds_0) WITH (value uniqueidentifier '') AS r) && Not(c.Deleted)), 
    ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
    CustomerMan.Infrastructure.CustomerManDbContext, 
    False, 
    False, 
    True
)'
2024-05-18 00:36:28.419 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:36:28.419 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:36:28.424 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-18 00:36:28.424 +01:00 [DBG] Executing DbCommand [Parameters=[@__request_CustomersIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] IN (
    SELECT [r].[value]
    FROM OPENJSON(@__request_CustomersIds_0) WITH ([value] uniqueidentifier '$') AS [r]
) AND [c].[Deleted] = CAST(0 AS bit)
2024-05-18 00:36:28.502 +01:00 [INF] Executed DbCommand (79ms) [Parameters=[@__request_CustomersIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] IN (
    SELECT [r].[value]
    FROM OPENJSON(@__request_CustomersIds_0) WITH ([value] uniqueidentifier '$') AS [r]
) AND [c].[Deleted] = CAST(0 AS bit)
2024-05-18 00:36:28.504 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:36:28.504 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 1ms reading results.
2024-05-18 00:36:50.284 +01:00 [ERR] ----Coudn't find any customer from the unique identifier list: ["f62163ae-f9aa-4bf9-4104-08dc759acfaa"]----
2024-05-18 00:36:50.402 +01:00 [DBG] Disposing transaction.
2024-05-18 00:36:50.403 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:36:50.403 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-18 00:36:50.506 +01:00 [ERR] ERROR Handling transaction for RestoreCustomerCommand ({"CustomersIds":["f62163ae-f9aa-4bf9-4104-08dc759acfaa"],"$type":"RestoreCustomerCommand"})
CustomerMan.Domain.DomainExceptions.CustomerManDomainException: To restore a customer, please ensure that the customer has been previously deleted
   at CustomerMan.API.Application.Commands.CustomerCommands.RestoreCustomerCommandHandler.Handle(RestoreCustomerCommand request, CancellationToken cancellationToken)
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.<>c__DisplayClass3_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.<>c__DisplayClass3_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at CustomerMan.API.Application.Behaviors.TransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
2024-05-18 00:36:51.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-18 00:36:51.640 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:36:51.645 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:36:51.646 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) with parameters:
2024-05-18 00:36:51.646 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:36:51.646 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:36:51.646 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:36:51.646 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:36:51.646 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:36:51.648 +01:00 [VRB] Exception Filter: Before executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-18 00:36:51.648 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-18 00:36:51.649 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-18 00:36:51.651 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-18 00:36:51.651 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-18 00:36:51.652 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 314.3177ms
2024-05-18 00:36:51.655 +01:00 [ERR] @exceptionRoot
2024-05-18 00:36:51.655 +01:00 [VRB] Exception Filter: After executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-18 00:36:51.655 +01:00 [DBG] Request was short circuited at exception filter 'CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter'.
2024-05-18 00:36:51.656 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:36:51.656 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:36:51.656 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:36:51.656 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:36:51.656 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:36:51.656 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:36:51.656 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:36:51.656 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:36:51.656 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[SharedKernel.Exceptions.ExceptionRoot, SharedKernel, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-18 00:36:51.680 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:36:51.681 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:36:51.681 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:36:51.681 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) in 44148.2061ms
2024-05-18 00:36:51.681 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:36:51.681 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:36:51.683 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:36:51.683 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-18 00:36:51.683 +01:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44325/Customers/Restore - 200 null application/json; charset=utf-8 44185.9376ms
2024-05-18 00:36:51.698 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-18 00:36:51.698 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-18 00:36:51.699 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 1.5042ms
2024-05-18 00:36:51.740 +01:00 [DBG] Connection ID "18230571318976184325" disconnecting.
2024-05-18 00:36:51.740 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.4696ms
2024-05-18 00:36:51.946 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-18 00:36:51.946 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:36:51.958 +01:00 [DBG] Connection ID "18230571293206380570" disconnecting.
2024-05-18 00:36:51.959 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.2768ms
2024-05-18 00:36:54.824 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44325/Customers/Restore - application/json 46
2024-05-18 00:36:54.825 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:36:54.825 +01:00 [DBG] PUT requests are not supported
2024-05-18 00:36:54.826 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/Restore'
2024-05-18 00:36:54.827 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)' with route pattern 'Customers/Restore' is valid for the request path '/Customers/Restore'
2024-05-18 00:36:54.827 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:36:54.828 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:36:54.828 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:36:54.834 +01:00 [INF] Route matched with {action = "RestoreCustomers", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] RestoreCustomers(System.Collections.Generic.List`1[System.Guid]) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:36:54.834 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:36:54.834 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:36:54.834 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:36:54.834 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:36:54.834 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:36:54.835 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:36:54.835 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:36:54.836 +01:00 [DBG] Attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' ...
2024-05-18 00:36:54.836 +01:00 [DBG] Attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' using the name '' in request data ...
2024-05-18 00:36:54.836 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-18 00:36:54.838 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.Collections.Generic.List`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'
2024-05-18 00:36:54.838 +01:00 [DBG] Done attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:36:54.838 +01:00 [DBG] Done attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:36:54.838 +01:00 [DBG] Attempting to validate the bound parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' ...
2024-05-18 00:36:54.839 +01:00 [DBG] Done attempting to validate the bound parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:36:54.839 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:36:54.839 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:36:54.839 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:36:54.839 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:36:54.839 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:36:54.839 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:36:54.839 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:36:54.840 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) with arguments (["System.Collections.Generic.List`1[System.Guid]"])
2024-05-18 00:36:54.841 +01:00 [INF] ----- Handling command Int32 ({"CustomersIds":["f62163ae-f9aa-4bf9-4104-08dc759acfaa"],"$type":"RestoreCustomerCommand"})
2024-05-18 00:36:54.841 +01:00 [INF] -----Validating command Int32 :
2024-05-18 00:36:55.005 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:36:55.019 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:36:55.020 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-18 00:36:55.020 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:36:55.020 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:36:55.020 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:36:55.021 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:36:55.022 +01:00 [INF] ----- Begin transaction "34377d58-46fe-4c4a-a70c-890ccd14298c" for RestoreCustomerCommand ({"CustomersIds":["f62163ae-f9aa-4bf9-4104-08dc759acfaa"],"$type":"RestoreCustomerCommand"})
2024-05-18 00:36:57.592 +01:00 [INF] ----Start looking for the customers IDs: ["f62163ae-f9aa-4bf9-4104-08dc759acfaa"]----
2024-05-18 00:36:58.272 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .AsNoTracking()
    .Where(customer => __request_CustomersIds_0.Contains(customer.ID) && customer.Deleted)'
2024-05-18 00:36:58.273 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-18 00:36:58.273 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-18 00:36:58.306 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Customer>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
            1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
            2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
        SELECT c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
        FROM customerContext.Customers AS c
        WHERE c.ID IN (
            SELECT r.value
            FROM OPENJSON(@__request_CustomersIds_0) WITH (value uniqueidentifier '') AS r) && c.Deleted), 
    ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
    CustomerMan.Infrastructure.CustomerManDbContext, 
    False, 
    False, 
    True
)'
2024-05-18 00:36:58.314 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:36:58.314 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:36:58.315 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:36:58.315 +01:00 [DBG] Executing DbCommand [Parameters=[@__request_CustomersIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] IN (
    SELECT [r].[value]
    FROM OPENJSON(@__request_CustomersIds_0) WITH ([value] uniqueidentifier '$') AS [r]
) AND [c].[Deleted] = CAST(1 AS bit)
2024-05-18 00:36:58.465 +01:00 [INF] Executed DbCommand (150ms) [Parameters=[@__request_CustomersIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] IN (
    SELECT [r].[value]
    FROM OPENJSON(@__request_CustomersIds_0) WITH ([value] uniqueidentifier '$') AS [r]
) AND [c].[Deleted] = CAST(1 AS bit)
2024-05-18 00:36:58.484 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:36:58.484 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 11ms reading results.
2024-05-18 00:37:03.085 +01:00 [DBG] Disposing transaction.
2024-05-18 00:37:03.085 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:37:03.085 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (0ms).
2024-05-18 00:37:03.574 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:37:03.574 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) with parameters:
2024-05-18 00:37:03.574 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:37:03.575 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:37:03.575 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:37:03.575 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:37:03.575 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:37:03.577 +01:00 [VRB] Exception Filter: Before executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-18 00:37:03.578 +01:00 [ERR] @exceptionRoot
2024-05-18 00:37:03.578 +01:00 [VRB] Exception Filter: After executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-18 00:37:03.578 +01:00 [DBG] Request was short circuited at exception filter 'CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter'.
2024-05-18 00:37:03.578 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:37:03.578 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:37:03.578 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:37:03.578 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:37:03.578 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:37:03.578 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:37:03.578 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:37:03.578 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:37:03.578 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[SharedKernel.Exceptions.ExceptionRoot, SharedKernel, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-18 00:37:03.582 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:37:03.582 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:37:03.582 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:37:03.582 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) in 8747.6584ms
2024-05-18 00:37:03.582 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:37:03.582 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:37:03.583 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:37:03.583 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-18 00:37:03.583 +01:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44325/Customers/Restore - 200 null application/json; charset=utf-8 8758.5595ms
2024-05-18 00:37:26.482 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-18 00:37:28.871 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-18 00:37:28.881 +01:00 [DBG] Hosting starting
2024-05-18 00:37:29.442 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-18 00:37:29.772 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-18 00:37:29.772 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-18 00:37:29.786 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-18 00:37:29.787 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-18 00:37:29.788 +01:00 [INF] Hosting environment: Development
2024-05-18 00:37:29.788 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-18 00:37:29.789 +01:00 [DBG] Hosting started
2024-05-18 00:37:29.924 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-18 00:37:29.924 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44325/Customers/Restore - application/json 46
2024-05-18 00:37:29.972 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-18 00:37:29.972 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:37:30.033 +01:00 [DBG] PUT requests are not supported
2024-05-18 00:37:30.088 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/Restore'
2024-05-18 00:37:30.094 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)' with route pattern 'Customers/Restore' is valid for the request path '/Customers/Restore'
2024-05-18 00:37:30.095 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:37:30.096 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:37:30.115 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:37:30.233 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:37:30.238 +01:00 [INF] Route matched with {action = "RestoreCustomers", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] RestoreCustomers(System.Collections.Generic.List`1[System.Guid]) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:37:30.261 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:37:30.277 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:37:30.280 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:37:30.280 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:37:30.280 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:37:30.283 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:37:30.449 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-18 00:37:30.452 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-18 00:37:30.528 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-18 00:37:30.530 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-18 00:37:30.533 +01:00 [DBG] Connection ID "18230571314681217052" disconnecting.
2024-05-18 00:37:30.545 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 630.2667ms
2024-05-18 00:37:30.667 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-18 00:37:30.686 +01:00 [DBG] Connection ID "18374686481282236467" disconnecting.
2024-05-18 00:37:30.686 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 10.6343ms
2024-05-18 00:37:30.698 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-18 00:37:30.920 +01:00 [DBG] Connection ID "18158513729233223693" disconnecting.
2024-05-18 00:37:30.930 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 232.0861ms
2024-05-18 00:37:31.176 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-18 00:37:31.205 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:37:31.214 +01:00 [DBG] Attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' ...
2024-05-18 00:37:31.218 +01:00 [DBG] Attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' using the name '' in request data ...
2024-05-18 00:37:31.221 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-18 00:37:31.245 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.Collections.Generic.List`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'
2024-05-18 00:37:31.246 +01:00 [DBG] Done attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:37:31.246 +01:00 [DBG] Done attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:37:31.247 +01:00 [DBG] Attempting to validate the bound parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' ...
2024-05-18 00:37:31.250 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-18 00:37:31.251 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:37:31.262 +01:00 [DBG] Done attempting to validate the bound parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:37:31.265 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:37:31.265 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:37:31.265 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:37:31.266 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:37:31.266 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:37:31.266 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:37:31.270 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:37:31.271 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) with arguments (["System.Collections.Generic.List`1[System.Guid]"])
2024-05-18 00:37:31.316 +01:00 [INF] ----- Handling command Int32 ({"CustomersIds":["f62163ae-f9aa-4bf9-4104-08dc759acfaa"],"$type":"RestoreCustomerCommand"})
2024-05-18 00:37:31.388 +01:00 [INF] -----Validating command Int32 :
2024-05-18 00:37:31.727 +01:00 [DBG] Connection ID "18230571301796315155" disconnecting.
2024-05-18 00:37:31.727 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 476.8163ms
2024-05-18 00:37:32.959 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:37:32.959 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:37:33.448 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:37:33.482 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:37:33.589 +01:00 [DBG] Created DbConnection. (104ms).
2024-05-18 00:37:33.597 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:37:34.890 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:37:34.903 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:37:34.922 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:37:34.935 +01:00 [INF] ----- Begin transaction "3db5fee6-26d0-4a5c-9a20-d1b0cdd66d40" for RestoreCustomerCommand ({"CustomersIds":["f62163ae-f9aa-4bf9-4104-08dc759acfaa"],"$type":"RestoreCustomerCommand"})
2024-05-18 00:37:39.318 +01:00 [INF] ----Start looking for the customers IDs: ["f62163ae-f9aa-4bf9-4104-08dc759acfaa"]----
2024-05-18 00:37:40.215 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .AsNoTracking()
    .Where(customer => __request_CustomersIds_0.Contains(customer.ID) && customer.Deleted)'
2024-05-18 00:37:40.485 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-18 00:37:40.485 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-18 00:37:40.751 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Customer>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
            1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
            2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
        SELECT c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
        FROM customerContext.Customers AS c
        WHERE c.ID IN (
            SELECT r.value
            FROM OPENJSON(@__request_CustomersIds_0) WITH (value uniqueidentifier '') AS r) && c.Deleted), 
    ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
    CustomerMan.Infrastructure.CustomerManDbContext, 
    False, 
    False, 
    True
)'
2024-05-18 00:37:40.794 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:37:40.807 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-05-18 00:37:40.830 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (35ms).
2024-05-18 00:37:40.844 +01:00 [DBG] Executing DbCommand [Parameters=[@__request_CustomersIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] IN (
    SELECT [r].[value]
    FROM OPENJSON(@__request_CustomersIds_0) WITH ([value] uniqueidentifier '$') AS [r]
) AND [c].[Deleted] = CAST(1 AS bit)
2024-05-18 00:37:40.947 +01:00 [INF] Executed DbCommand (107ms) [Parameters=[@__request_CustomersIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] IN (
    SELECT [r].[value]
    FROM OPENJSON(@__request_CustomersIds_0) WITH ([value] uniqueidentifier '$') AS [r]
) AND [c].[Deleted] = CAST(1 AS bit)
2024-05-18 00:37:41.010 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:37:41.017 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 17ms reading results.
2024-05-18 00:37:43.612 +01:00 [DBG] Disposing transaction.
2024-05-18 00:37:43.615 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:37:43.621 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (5ms).
2024-05-18 00:37:43.912 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:37:43.914 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) with parameters:
2024-05-18 00:37:43.915 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:37:43.915 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:37:43.915 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:37:43.916 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:37:43.916 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:37:43.921 +01:00 [VRB] Exception Filter: Before executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-18 00:37:43.927 +01:00 [ERR] @exceptionRoot
2024-05-18 00:37:43.927 +01:00 [VRB] Exception Filter: After executing OnException on filter CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter.
2024-05-18 00:37:43.928 +01:00 [DBG] Request was short circuited at exception filter 'CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter'.
2024-05-18 00:37:43.928 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:37:43.929 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:37:43.930 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:37:43.935 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:37:43.947 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:37:43.947 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:37:43.947 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:37:43.949 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:37:43.952 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[SharedKernel.Exceptions.ExceptionRoot, SharedKernel, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-18 00:37:43.996 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:37:43.996 +01:00 [VRB] Always Run Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:37:43.996 +01:00 [VRB] Always Run Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:37:44.005 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) in 13720.1422ms
2024-05-18 00:37:44.006 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:37:44.014 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:37:44.020 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:37:44.021 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-18 00:37:44.022 +01:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44325/Customers/Restore - 200 null application/json; charset=utf-8 14108.3725ms
2024-05-18 00:38:30.566 +01:00 [INF] Configuring web host (CustomerMan.API)...
2024-05-18 00:38:32.641 +01:00 [INF] Starting web host (CustomerMan.API)...
2024-05-18 00:38:32.648 +01:00 [DBG] Hosting starting
2024-05-18 00:38:33.606 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-18 00:38:34.063 +01:00 [DBG] Loaded hosting startup assembly CustomerMan.API
2024-05-18 00:38:34.063 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-18 00:38:34.063 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-18 00:38:34.063 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-18 00:38:34.074 +01:00 [INF] Hosting environment: Development
2024-05-18 00:38:34.075 +01:00 [INF] Content root path: C:\Users\AYOUB BOUDAOUD\source\repos\Projects\HR-Project\BalanceBackend\src\services\Customer\src\Customer.API
2024-05-18 00:38:34.075 +01:00 [DBG] Hosting started
2024-05-18 00:38:34.196 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/index.html - null null
2024-05-18 00:38:34.196 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44325/Customers/Restore - application/json 46
2024-05-18 00:38:34.230 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-18 00:38:34.230 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:38:34.270 +01:00 [DBG] PUT requests are not supported
2024-05-18 00:38:34.340 +01:00 [DBG] 1 candidate(s) found for the request path '/Customers/Restore'
2024-05-18 00:38:34.350 +01:00 [DBG] Endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)' with route pattern 'Customers/Restore' is valid for the request path '/Customers/Restore'
2024-05-18 00:38:34.352 +01:00 [DBG] Request matched endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:38:34.357 +01:00 [VRB] The endpoint does not specify the IRequestSizeLimitMetadata.
2024-05-18 00:38:34.359 +01:00 [INF] Executing endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:38:34.428 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:38:34.446 +01:00 [INF] Route matched with {action = "RestoreCustomers", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] RestoreCustomers(System.Collections.Generic.List`1[System.Guid]) on controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API).
2024-05-18 00:38:34.452 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-18 00:38:34.452 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-18 00:38:34.456 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","CustomerMan.API.Infrastructure.Filters.CustomActionFilter"]
2024-05-18 00:38:34.457 +01:00 [DBG] Execution plan of exception filters (in the following order): ["CustomerMan.API.Infrastructure.Filters.CustomExceptionFilter"]
2024-05-18 00:38:34.457 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-18 00:38:34.459 +01:00 [DBG] Executing controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:38:34.585 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-18 00:38:34.593 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-18 00:38:34.651 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-18 00:38:34.653 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-18 00:38:34.665 +01:00 [DBG] Connection ID "18158513724938256397" disconnecting.
2024-05-18 00:38:34.673 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/index.html - 200 null text/html;charset=utf-8 490.47ms
2024-05-18 00:38:34.829 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - null null
2024-05-18 00:38:34.833 +01:00 [DBG] Connection ID "18302628887244308502" disconnecting.
2024-05-18 00:38:34.834 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.1182ms
2024-05-18 00:38:34.847 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/_vs/browserLink - null null
2024-05-18 00:38:35.000 +01:00 [DBG] Connection ID "18158513724938256399" disconnecting.
2024-05-18 00:38:35.012 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/_vs/browserLink - 200 null text/javascript; charset=UTF-8 164.9142ms
2024-05-18 00:38:35.446 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-18 00:38:35.466 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - null null
2024-05-18 00:38:35.467 +01:00 [VRB] All hosts are allowed.
2024-05-18 00:38:35.495 +01:00 [DBG] Executed controller factory for controller CustomerMan.API.Controllers.CustomersController (CustomerMan.API)
2024-05-18 00:38:35.506 +01:00 [DBG] Attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' ...
2024-05-18 00:38:35.512 +01:00 [DBG] Attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' using the name '' in request data ...
2024-05-18 00:38:35.513 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-18 00:38:35.540 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.Collections.Generic.List`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'
2024-05-18 00:38:35.541 +01:00 [DBG] Done attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:38:35.542 +01:00 [DBG] Done attempting to bind parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:38:35.542 +01:00 [DBG] Attempting to validate the bound parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]' ...
2024-05-18 00:38:35.564 +01:00 [DBG] Done attempting to validate the bound parameter 'customersIds' of type 'System.Collections.Generic.List`1[System.Guid]'.
2024-05-18 00:38:35.567 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:38:35.568 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:38:35.568 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:38:35.569 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:38:35.569 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:38:35.570 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:38:35.582 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) - Validation state: "Valid"
2024-05-18 00:38:35.582 +01:00 [VRB] Executing action method CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) with arguments (["System.Collections.Generic.List`1[System.Guid]"])
2024-05-18 00:38:35.614 +01:00 [INF] ----- Handling command Int32 ({"CustomersIds":["f62163ae-f9aa-4bf9-4104-08dc759acfaa"],"$type":"RestoreCustomerCommand"})
2024-05-18 00:38:35.663 +01:00 [INF] -----Validating command Int32 :
2024-05-18 00:38:35.767 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44325/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 299.8566ms
2024-05-18 00:38:35.775 +01:00 [DBG] Connection ID "18014398523977498651" disconnecting.
2024-05-18 00:38:36.885 +01:00 [DBG] The property 'Adress.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:38:36.885 +01:00 [DBG] The property 'AudityInfo.CustomerID' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-18 00:38:37.082 +01:00 [DBG] Entity Framework Core 8.0.4 initialized 'CustomerManDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.4' with options: MigrationsAssembly=CustomerMan.API MigrationsHistoryTable=CustomerMigrationsHistory 
2024-05-18 00:38:37.107 +01:00 [DBG] Creating DbConnection.
2024-05-18 00:38:37.169 +01:00 [DBG] Created DbConnection. (63ms).
2024-05-18 00:38:37.175 +01:00 [DBG] Opening connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:38:37.968 +01:00 [DBG] Opened connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:38:37.975 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-18 00:38:37.992 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-18 00:38:37.996 +01:00 [INF] ----- Begin transaction "1cdd3498-d7e9-469b-8da9-185549e2a104" for RestoreCustomerCommand ({"CustomersIds":["f62163ae-f9aa-4bf9-4104-08dc759acfaa"],"$type":"RestoreCustomerCommand"})
2024-05-18 00:38:42.464 +01:00 [INF] ----Start looking for the customers IDs: ["f62163ae-f9aa-4bf9-4104-08dc759acfaa"]----
2024-05-18 00:38:43.573 +01:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .AsNoTracking()
    .Where(customer => __request_CustomersIds_0.Contains(customer.ID) && customer.Deleted)'
2024-05-18 00:38:43.712 +01:00 [DBG] Including navigation: 'Customer.Adress'.
2024-05-18 00:38:43.712 +01:00 [DBG] Including navigation: 'Customer.AudityInfo'.
2024-05-18 00:38:44.048 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Customer>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Customer.ID (no field, Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.ContactEmail (string) Required, 1], [Property: Customer.Deleted (bool) Required, 2], [Property: Customer.Description (string) Required, 3], [Property: Customer.ImagePath (string) Required, 4], [Property: Customer.IsActive (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.Phone (string) Required, 7] }
            1 -> Dictionary<IProperty, int> { [Property: Adress.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Adress.City (string) Required ValueGenerated.OnAdd, 8], [Property: Adress.Country (string) Required ValueGenerated.OnAdd, 9], [Property: Adress.State (string) Required ValueGenerated.OnAdd, 10], [Property: Adress.Street (string) Required ValueGenerated.OnAdd, 11], [Property: Adress.ZipCode (string) Required ValueGenerated.OnAdd, 12] }
            2 -> Dictionary<IProperty, int> { [Property: AudityInfo.CustomerID (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: AudityInfo.CreatedBy (Guid) Required, 13], [Property: AudityInfo.CreatedDate (DateTime) Required, 14], [Property: AudityInfo.DeletedBy (Guid) Required, 15], [Property: AudityInfo.DeletedDate (DateTime) Required, 16], [Property: AudityInfo.ModifiedBy (Guid) Required, 17], [Property: AudityInfo.ModifiedDate (DateTime) Required, 18], [Property: AudityInfo.RestoredBy (Guid) Required, 19], [Property: AudityInfo.RestoredDate (DateTime) Required, 20] }
        SELECT c.ID, c.ContactEmail, c.Deleted, c.Description, c.ImagePath, c.IsActive, c.Name, c.Phone, c.City, c.Country, c.State, c.Street, c.ZipCode, c.CreatedBy, c.CreatedDate, c.DeletedBy, c.DeletedDate, c.ModifiedBy, c.ModifiedDate, c.RestoredBy, c.RestoredDate
        FROM customerContext.Customers AS c
        WHERE c.ID IN (
            SELECT r.value
            FROM OPENJSON(@__request_CustomersIds_0) WITH (value uniqueidentifier '') AS r) && c.Deleted), 
    ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<Guid>, ReaderColumn<DateTime> }, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
    CustomerMan.Infrastructure.CustomerManDbContext, 
    False, 
    False, 
    True
)'
2024-05-18 00:38:44.090 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:38:44.097 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-18 00:38:44.111 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2024-05-18 00:38:44.123 +01:00 [DBG] Executing DbCommand [Parameters=[@__request_CustomersIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] IN (
    SELECT [r].[value]
    FROM OPENJSON(@__request_CustomersIds_0) WITH ([value] uniqueidentifier '$') AS [r]
) AND [c].[Deleted] = CAST(1 AS bit)
2024-05-18 00:38:44.215 +01:00 [INF] Executed DbCommand (97ms) [Parameters=[@__request_CustomersIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ID], [c].[ContactEmail], [c].[Deleted], [c].[Description], [c].[ImagePath], [c].[IsActive], [c].[Name], [c].[Phone], [c].[City], [c].[Country], [c].[State], [c].[Street], [c].[ZipCode], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedBy], [c].[DeletedDate], [c].[ModifiedBy], [c].[ModifiedDate], [c].[RestoredBy], [c].[RestoredDate]
FROM [customerContext].[Customers] AS [c]
WHERE [c].[ID] IN (
    SELECT [r].[value]
    FROM OPENJSON(@__request_CustomersIds_0) WITH ([value] uniqueidentifier '$') AS [r]
) AND [c].[Deleted] = CAST(1 AS bit)
2024-05-18 00:38:44.273 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:38:44.280 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 15ms reading results.
2024-05-18 00:38:47.645 +01:00 [VRB] ----Restoring customers IDs: ["f62163ae-f9aa-4bf9-4104-08dc759acfaa"]----
2024-05-18 00:38:48.756 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:38:48.799 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'Adress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:38:48.826 +01:00 [DBG] Context 'CustomerManDbContext' started tracking 'AudityInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:38:50.740 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:38:50.745 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:38:50.753 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:38:51.026 +01:00 [DBG] Creating transaction savepoint.
2024-05-18 00:38:51.177 +01:00 [DBG] Created transaction savepoint.
2024-05-18 00:38:51.182 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-18 00:38:51.183 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-18 00:38:51.184 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-18 00:38:51.189 +01:00 [DBG] Executing DbCommand [Parameters=[@p20='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [City] = @p7, [Country] = @p8, [State] = @p9, [Street] = @p10, [ZipCode] = @p11, [CreatedBy] = @p12, [CreatedDate] = @p13, [DeletedBy] = @p14, [DeletedDate] = @p15, [ModifiedBy] = @p16, [ModifiedDate] = @p17, [RestoredBy] = @p18, [RestoredDate] = @p19
OUTPUT 1
WHERE [ID] = @p20;
2024-05-18 00:38:51.224 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@p20='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [customerContext].[Customers] SET [ContactEmail] = @p0, [Deleted] = @p1, [Description] = @p2, [ImagePath] = @p3, [IsActive] = @p4, [Name] = @p5, [Phone] = @p6, [City] = @p7, [Country] = @p8, [State] = @p9, [Street] = @p10, [ZipCode] = @p11, [CreatedBy] = @p12, [CreatedDate] = @p13, [DeletedBy] = @p14, [DeletedDate] = @p15, [ModifiedBy] = @p16, [ModifiedDate] = @p17, [RestoredBy] = @p18, [RestoredDate] = @p19
OUTPUT 1
WHERE [ID] = @p20;
2024-05-18 00:38:51.233 +01:00 [DBG] Closing data reader to 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:38:51.234 +01:00 [DBG] A data reader for 'customerMan' on server 'DESKTOP-NAQO2ID' is being disposed after spending 8ms reading results.
2024-05-18 00:38:51.255 +01:00 [DBG] An entity of type 'Customer' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:38:51.257 +01:00 [DBG] An entity of type 'Adress' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:38:51.257 +01:00 [DBG] An entity of type 'AudityInfo' tracked by 'CustomerManDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-18 00:38:51.260 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 1 entities written to the database.
2024-05-18 00:38:51.261 +01:00 [INF] ----- Commit transaction "1cdd3498-d7e9-469b-8da9-185549e2a104" for RestoreCustomerCommand
2024-05-18 00:38:51.262 +01:00 [DBG] SaveChanges starting for 'CustomerManDbContext'.
2024-05-18 00:38:51.262 +01:00 [DBG] DetectChanges starting for 'CustomerManDbContext'.
2024-05-18 00:38:51.266 +01:00 [DBG] DetectChanges completed for 'CustomerManDbContext'.
2024-05-18 00:38:51.266 +01:00 [DBG] SaveChanges completed for 'CustomerManDbContext' with 0 entities written to the database.
2024-05-18 00:38:51.270 +01:00 [DBG] Committing transaction.
2024-05-18 00:38:51.276 +01:00 [DBG] Committed transaction.
2024-05-18 00:38:51.279 +01:00 [DBG] Closing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:38:51.287 +01:00 [DBG] Closed connection to database 'customerMan' on server 'DESKTOP-NAQO2ID' (6ms).
2024-05-18 00:38:51.289 +01:00 [DBG] Disposing transaction.
2024-05-18 00:38:51.293 +01:00 [INF] ----- Command Int32 handled - response: 1
2024-05-18 00:38:51.299 +01:00 [INF] Executed action method CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15712.0499ms.
2024-05-18 00:38:51.300 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:38:51.301 +01:00 [INF] Executing action method CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) with parameters:
2024-05-18 00:38:51.305 +01:00 [VRB] Request ended from Customers with status 0 and message Unknown status code
2024-05-18 00:38:51.305 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter CustomerMan.API.Infrastructure.Filters.CustomActionFilter.
2024-05-18 00:38:51.305 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:38:51.305 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-05-18 00:38:51.306 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:38:51.307 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-05-18 00:38:51.308 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:38:51.309 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:38:51.310 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:38:51.312 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-18 00:38:51.314 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-18 00:38:51.314 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-18 00:38:51.314 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-18 00:38:51.315 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-18 00:38:51.316 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-18 00:38:51.332 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2024-05-18 00:38:51.332 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:38:51.332 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-05-18 00:38:51.340 +01:00 [INF] Executed action CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API) in 16876.3132ms
2024-05-18 00:38:51.341 +01:00 [INF] Executed endpoint 'CustomerMan.API.Controllers.CustomersController.RestoreCustomers (CustomerMan.API)'
2024-05-18 00:38:51.345 +01:00 [DBG] 'CustomerManDbContext' disposed.
2024-05-18 00:38:51.350 +01:00 [DBG] Disposing connection to database 'customerMan' on server 'DESKTOP-NAQO2ID'.
2024-05-18 00:38:51.351 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-18 00:38:51.355 +01:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44325/Customers/Restore - 0 null application/json; charset=utf-8 17173.4941ms
